{
  "agentId": "api-architect",
  "taskId": "A1B2C3",
  "generatedAt": "2025-10-29T00:00:00Z",
  "referencedWork": [],
  "summary": {
    "definedEndpoints": 150,
    "usedEndpoints": 45,
    "missingEndpoints": 12,
    "inconsistentPatterns": 8,
    "criticalIssues": 5
  },
  "endpointCategories": [
    {
      "category": "Students",
      "defined": true,
      "endpoints": [
        "/students",
        "/students/:id",
        "/students/:id/deactivate",
        "/students/:id/medications",
        "/students/:id/health-records"
      ],
      "usage": "High - Used extensively in students list, detail pages",
      "status": "Stable"
    },
    {
      "category": "Health Records",
      "defined": true,
      "endpoints": [
        "/health-records",
        "/health-records/:id",
        "/students/:studentId/health-records"
      ],
      "usage": "Medium - Used in health records pages",
      "status": "Stable"
    },
    {
      "category": "Appointments",
      "defined": true,
      "endpoints": [
        "/appointments",
        "/appointments/:id"
      ],
      "usage": "Medium - Used with inconsistent endpoint references",
      "status": "Needs Review - Uses APPOINTMENTS.BASE but not defined in api-client.ts"
    },
    {
      "category": "Medications",
      "defined": true,
      "endpoints": [
        "/medications",
        "/medications/:id",
        "/medications/:id/administer",
        "/medications/calendar",
        "/medications/due",
        "/medications/overdue"
      ],
      "usage": "High - Extensive medication pages",
      "status": "Needs Review - Uses separate constants file, not api-client.ts"
    },
    {
      "category": "Forms",
      "defined": true,
      "endpoints": [
        "/forms",
        "/forms/:id",
        "/forms/:id/responses"
      ],
      "usage": "Low - Not detected in main pages scan",
      "status": "Unused"
    },
    {
      "category": "Communications",
      "defined": true,
      "endpoints": [
        "/messages",
        "/broadcasts",
        "/alerts"
      ],
      "usage": "Unknown - Not scanned in detail",
      "status": "Needs Investigation"
    },
    {
      "category": "Analytics",
      "defined": true,
      "endpoints": [
        "/analytics/dashboard",
        "/analytics/health-metrics",
        "/analytics/medication-compliance"
      ],
      "usage": "Unknown - Not scanned in detail",
      "status": "Needs Investigation"
    }
  ],
  "issues": {
    "missingInApiClient": [
      "appointments - Not defined in api-client.ts API_ENDPOINTS",
      "medications - Not defined in api-client.ts API_ENDPOINTS",
      "forms - Not defined in api-client.ts API_ENDPOINTS",
      "communications - Not defined in api-client.ts API_ENDPOINTS",
      "analytics - Not defined in api-client.ts API_ENDPOINTS"
    ],
    "duplicateConstants": [
      "API_ENDPOINTS defined in both /lib/api-client.ts and /constants/api.ts",
      "Pages import from different locations causing confusion"
    ],
    "responseStructureInconsistencies": [
      "Students page handles both {data, meta} and {students, pagination}",
      "Health records page handles {data} and direct array",
      "Appointments page uses API_ENDPOINTS.APPOINTMENTS.BASE which doesn't exist in api-client.ts",
      "Medications page uses API_ENDPOINTS.MEDICATIONS.BASE from constants/api.ts"
    ],
    "serverActionIssues": [
      "students/actions.ts uses Next.js 15 async cookies() correctly",
      "No other server action files found - missing for health records, appointments, medications"
    ],
    "backendMisalignment": [
      "Frontend expects /api/v1 prefix in some places, backend uses direct routes",
      "Appointments endpoint mismatch between frontend constants and usage"
    ]
  }
}
