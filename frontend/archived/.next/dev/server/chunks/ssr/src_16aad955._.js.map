{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/admin/settings/users/_components/UserManagementContent.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserManagementContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserManagementContent() from the server but UserManagementContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(dashboard)/admin/settings/users/_components/UserManagementContent.tsx <module evaluation>\",\n    \"UserManagementContent\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,wBAAwB,IAAA,wQAAuB,EACxD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,gHACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/admin/settings/users/_components/UserManagementContent.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserManagementContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserManagementContent() from the server but UserManagementContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(dashboard)/admin/settings/users/_components/UserManagementContent.tsx\",\n    \"UserManagementContent\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,wBAAwB,IAAA,wQAAuB,EACxD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,4FACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/admin/settings/users/_components/UserManagementSkeleton.tsx"],"sourcesContent":["/**\r\n * UserManagementSkeleton Component - Loading skeleton for user management\r\n *\r\n * Provides a skeleton loading state that matches the structure of the\r\n * UserManagementContent component for better perceived performance.\r\n *\r\n * @component UserManagementSkeleton\r\n */\r\n\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\n\r\nexport function UserManagementSkeleton() {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header Actions Skeleton */}\r\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n        <div>\r\n          <Skeleton className=\"h-4 w-32\" />\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Skeleton className=\"h-10 w-24\" />\r\n          <Skeleton className=\"h-10 w-28\" />\r\n          <Skeleton className=\"h-10 w-20\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters Skeleton */}\r\n      <Card>\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div className=\"md:col-span-2\">\r\n              <Skeleton className=\"h-10 w-full\" />\r\n            </div>\r\n            <div>\r\n              <Skeleton className=\"h-10 w-full\" />\r\n            </div>\r\n            <div>\r\n              <Skeleton className=\"h-10 w-full\" />\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Table Skeleton */}\r\n      <Card>\r\n        <CardContent className=\"p-0\">\r\n          {/* Table Header */}\r\n          <div className=\"border-b\">\r\n            <div className=\"grid grid-cols-6 gap-4 px-6 py-3 bg-gray-50\">\r\n              <Skeleton className=\"h-4 w-4\" />\r\n              <Skeleton className=\"h-4 w-16\" />\r\n              <Skeleton className=\"h-4 w-12\" />\r\n              <Skeleton className=\"h-4 w-16\" />\r\n              <Skeleton className=\"h-4 w-20\" />\r\n              <Skeleton className=\"h-4 w-16\" />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Table Rows */}\r\n          <div className=\"divide-y\">\r\n            {[1, 2, 3, 4, 5, 6, 7, 8].map((i) => (\r\n              <div key={i} className=\"grid grid-cols-6 gap-4 px-6 py-4 items-center\">\r\n                {/* Checkbox */}\r\n                <Skeleton className=\"h-4 w-4\" />\r\n                \r\n                {/* User Info */}\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <Skeleton className=\"h-10 w-10 rounded-full\" />\r\n                  <div className=\"space-y-2\">\r\n                    <Skeleton className=\"h-4 w-24\" />\r\n                    <Skeleton className=\"h-3 w-32\" />\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Role */}\r\n                <Skeleton className=\"h-6 w-16 rounded-full\" />\r\n                \r\n                {/* Status */}\r\n                <Skeleton className=\"h-6 w-16 rounded-full\" />\r\n                \r\n                {/* Last Login */}\r\n                <Skeleton className=\"h-4 w-20\" />\r\n                \r\n                {/* Actions */}\r\n                <div className=\"flex items-center justify-end space-x-2\">\r\n                  <Skeleton className=\"h-8 w-8\" />\r\n                  <Skeleton className=\"h-8 w-8\" />\r\n                  <Skeleton className=\"h-8 w-8\" />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;;AAED;AACA;;;;AAEO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCACC,cAAA,8OAAC,gJAAQ;4BAAC,WAAU;;;;;;;;;;;kCAEtB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,gJAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC,gJAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC,gJAAQ;gCAAC,WAAU;;;;;;;;;;;;;;;;;;0BAKxB,8OAAC,wIAAI;0BACH,cAAA,8OAAC,+IAAW;oBAAC,WAAU;8BACrB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;;;;;;0CAEtB,8OAAC;0CACC,cAAA,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;;;;;;0CAEtB,8OAAC;0CACC,cAAA,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO5B,8OAAC,wIAAI;0BACH,cAAA,8OAAC,+IAAW;oBAAC,WAAU;;sCAErB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,gJAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,gJAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,gJAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,gJAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,gJAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,gJAAQ;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAKxB,8OAAC;4BAAI,WAAU;sCACZ;gCAAC;gCAAG;gCAAG;gCAAG;gCAAG;gCAAG;gCAAG;gCAAG;6BAAE,CAAC,GAAG,CAAC,CAAC,kBAC7B,8OAAC;oCAAY,WAAU;;sDAErB,8OAAC,gJAAQ;4CAAC,WAAU;;;;;;sDAGpB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,gJAAQ;oDAAC,WAAU;;;;;;8DACpB,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,gJAAQ;4DAAC,WAAU;;;;;;sEACpB,8OAAC,gJAAQ;4DAAC,WAAU;;;;;;;;;;;;;;;;;;sDAKxB,8OAAC,gJAAQ;4CAAC,WAAU;;;;;;sDAGpB,8OAAC,gJAAQ;4CAAC,WAAU;;;;;;sDAGpB,8OAAC,gJAAQ;4CAAC,WAAU;;;;;;sDAGpB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,gJAAQ;oDAAC,WAAU;;;;;;8DACpB,8OAAC,gJAAQ;oDAAC,WAAU;;;;;;8DACpB,8OAAC,gJAAQ;oDAAC,WAAU;;;;;;;;;;;;;mCA1Bd;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCxB","debugId":null}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/cache/constants.ts"],"sourcesContent":["/**\r\n * @fileoverview Cache Configuration Constants\r\n * @module lib/cache/constants\r\n *\r\n * Standardized cache TTL (Time To Live) configuration for the application.\r\n * Implements a tiered caching strategy based on data sensitivity and freshness requirements.\r\n *\r\n * **HIPAA Compliance:**\r\n * - PHI data has shorter TTLs (30-60s) to minimize stale data exposure\r\n * - Static data can cache longer (300s) for performance\r\n * - All cache keys use IDs only, never PHI values\r\n *\r\n * **Performance Strategy:**\r\n * - Aggressive caching for static reference data\r\n * - Conservative caching for frequently changing data\r\n * - Minimal caching for real-time data\r\n *\r\n * @see DATABASE_INTEGRATION_AUDIT_REPORT.md for detailed caching strategy\r\n * @version 1.0.0\r\n * @since 2025-10-27\r\n */\r\n\r\n// ==========================================\r\n// CACHE TTL CONSTANTS (seconds)\r\n// ==========================================\r\n\r\n/**\r\n * Cache Time-To-Live Configuration\r\n *\r\n * All values in seconds. Aligned with Next.js `revalidate` API.\r\n *\r\n * **Tier Breakdown:**\r\n * - **STATIC**: Reference data that rarely changes (schools, districts, medication formulary)\r\n * - **STATS**: Aggregated statistics (non-PHI dashboard data)\r\n * - **PHI_FREQUENT**: Frequently accessed PHI (active medications, today's appointments)\r\n * - **PHI_STANDARD**: Standard PHI access (student lists, health records lists)\r\n * - **SESSION**: User session data (profile, preferences)\r\n * - **REALTIME**: Real-time data (notifications, unread messages)\r\n */\r\nexport const CACHE_TTL = {\r\n  /**\r\n   * Static reference data - rarely changes\r\n   * Examples: Schools, districts, medication formulary, form templates\r\n   * TTL: 5 minutes (300 seconds)\r\n   */\r\n  STATIC: 300,\r\n\r\n  /**\r\n   * Aggregated statistics - non-PHI\r\n   * Examples: Dashboard stats, analytics, reports\r\n   * TTL: 2 minutes (120 seconds)\r\n   */\r\n  STATS: 120,\r\n\r\n  /**\r\n   * PHI data - frequently accessed\r\n   * Examples: Active medications, today's appointments, recent health alerts\r\n   * TTL: 30 seconds\r\n   * Rationale: High-sensitivity data that changes frequently\r\n   */\r\n  PHI_FREQUENT: 30,\r\n\r\n  /**\r\n   * PHI data - standard access\r\n   * Examples: Student lists, health records lists, incident lists\r\n   * TTL: 1 minute (60 seconds)\r\n   * Rationale: Moderate sensitivity, reasonable freshness for list views\r\n   */\r\n  PHI_STANDARD: 60,\r\n\r\n  /**\r\n   * User session data\r\n   * Examples: Current user profile, user preferences, role permissions\r\n   * TTL: 5 minutes (300 seconds)\r\n   * Rationale: Rarely changes during session, safe to cache\r\n   */\r\n  SESSION: 300,\r\n\r\n  /**\r\n   * Real-time data - minimal caching\r\n   * Examples: Notifications, unread message counts, active alerts\r\n   * TTL: 10 seconds\r\n   * Rationale: Needs near real-time updates\r\n   */\r\n  REALTIME: 10,\r\n\r\n  /**\r\n   * No caching - always fetch fresh\r\n   * Use for critical operations or data that must always be fresh\r\n   * TTL: 0 (forces revalidation)\r\n   */\r\n  NO_CACHE: 0,\r\n} as const;\r\n\r\n// ==========================================\r\n// CACHE TAGS FOR GRANULAR INVALIDATION\r\n// ==========================================\r\n\r\n/**\r\n * Cache Tags for Next.js revalidateTag() API\r\n *\r\n * Used to invalidate specific data without clearing entire cache.\r\n *\r\n * **Usage:**\r\n * ```typescript\r\n * // In Server Component\r\n * fetch(url, {\r\n *   next: {\r\n *     revalidate: CACHE_TTL.PHI_STANDARD,\r\n *     tags: [CACHE_TAGS.STUDENTS, CACHE_TAGS.PHI]\r\n *   }\r\n * });\r\n *\r\n * // In Server Action (to invalidate)\r\n * import { revalidateTag } from 'next/cache';\r\n * revalidateTag(CACHE_TAGS.STUDENTS);\r\n * ```\r\n */\r\nexport const CACHE_TAGS = {\r\n  // ==========================================\r\n  // PHI TAGS (HIPAA-protected data)\r\n  // ==========================================\r\n\r\n  /**\r\n   * General PHI data tag\r\n   * Use to invalidate all PHI-related caches\r\n   */\r\n  PHI: 'phi-data',\r\n\r\n  /**\r\n   * Student data (PHI)\r\n   */\r\n  STUDENTS: 'students',\r\n\r\n  /**\r\n   * Medication data (PHI)\r\n   */\r\n  MEDICATIONS: 'medications',\r\n\r\n  /**\r\n   * Health record data (PHI)\r\n   */\r\n  HEALTH_RECORDS: 'health-records',\r\n\r\n  /**\r\n   * Appointment data (PHI)\r\n   */\r\n  APPOINTMENTS: 'appointments',\r\n\r\n  /**\r\n   * Incident report data (PHI)\r\n   */\r\n  INCIDENTS: 'incidents',\r\n\r\n  /**\r\n   * Immunization data (PHI)\r\n   */\r\n  IMMUNIZATIONS: 'immunizations',\r\n\r\n  /**\r\n   * Allergy data (PHI)\r\n   */\r\n  ALLERGIES: 'allergies',\r\n\r\n  /**\r\n   * Emergency contact data (PHI)\r\n   */\r\n  EMERGENCY_CONTACTS: 'emergency-contacts',\r\n\r\n  // ==========================================\r\n  // NON-PHI TAGS\r\n  // ==========================================\r\n\r\n  /**\r\n   * User account data (non-PHI)\r\n   */\r\n  USERS: 'users',\r\n\r\n  /**\r\n   * School data (non-PHI)\r\n   */\r\n  SCHOOLS: 'schools',\r\n\r\n  /**\r\n   * District data (non-PHI)\r\n   */\r\n  DISTRICTS: 'districts',\r\n\r\n  /**\r\n   * Dashboard statistics (non-PHI aggregated)\r\n   */\r\n  STATS: 'statistics',\r\n\r\n  /**\r\n   * Analytics data (non-PHI aggregated)\r\n   */\r\n  ANALYTICS: 'analytics',\r\n\r\n  /**\r\n   * Notification data\r\n   */\r\n  NOTIFICATIONS: 'notifications',\r\n\r\n  /**\r\n   * Document templates (non-PHI)\r\n   */\r\n  TEMPLATES: 'templates',\r\n\r\n  /**\r\n   * Medication formulary (non-PHI)\r\n   */\r\n  FORMULARY: 'medication-formulary',\r\n\r\n  /**\r\n   * Admin user data (non-PHI)\r\n   */\r\n  ADMIN_USERS: 'admin-users',\r\n\r\n  /**\r\n   * Admin districts data (non-PHI)\r\n   */\r\n  ADMIN_DISTRICTS: 'admin-districts',\r\n\r\n  /**\r\n   * Admin schools data (non-PHI)\r\n   */\r\n  ADMIN_SCHOOLS: 'admin-schools',\r\n\r\n  /**\r\n   * Admin settings data (non-PHI)\r\n   */\r\n  ADMIN_SETTINGS: 'admin-settings',\r\n\r\n  /**\r\n   * Admin licenses data (non-PHI)\r\n   */\r\n  ADMIN_LICENSES: 'admin-licenses',\r\n\r\n  /**\r\n   * Admin backups data (non-PHI)\r\n   */\r\n  ADMIN_BACKUPS: 'admin-backups',\r\n\r\n  /**\r\n   * Admin metrics data (non-PHI)\r\n   */\r\n  ADMIN_METRICS: 'admin-metrics',\r\n\r\n  /**\r\n   * Admin training data (non-PHI)\r\n   */\r\n  ADMIN_TRAINING: 'admin-training',\r\n\r\n  /**\r\n   * Admin audit logs data (non-PHI)\r\n   */\r\n  ADMIN_AUDIT_LOGS: 'admin-audit-logs',\r\n} as const;\r\n\r\n// ==========================================\r\n// TYPE EXPORTS\r\n// ==========================================\r\n\r\n/**\r\n * Cache TTL values type (for TypeScript type safety)\r\n */\r\nexport type CacheTTLValue = typeof CACHE_TTL[keyof typeof CACHE_TTL];\r\n\r\n/**\r\n * Cache tag values type (for TypeScript type safety)\r\n */\r\nexport type CacheTagValue = typeof CACHE_TAGS[keyof typeof CACHE_TAGS];\r\n\r\n// ==========================================\r\n// HELPER UTILITIES\r\n// ==========================================\r\n\r\n/**\r\n * Determine appropriate cache TTL based on data type\r\n *\r\n * @param resourceType - Type of resource (e.g., 'students', 'medications')\r\n * @param isPHI - Whether the data contains PHI\r\n * @param isFrequentlyAccessed - Whether the data is frequently accessed\r\n * @returns Appropriate cache TTL in seconds\r\n *\r\n * @example\r\n * ```typescript\r\n * const ttl = getCacheTTL('medications', true, true);\r\n * console.log(ttl); // 30 (PHI_FREQUENT)\r\n * ```\r\n */\r\nexport function getCacheTTL(\r\n  resourceType: string,\r\n  isPHI: boolean,\r\n  isFrequentlyAccessed: boolean = false\r\n): number {\r\n  if (!isPHI) {\r\n    // Non-PHI data\r\n    if (resourceType === 'users' || resourceType === 'schools' || resourceType === 'districts') {\r\n      return CACHE_TTL.STATIC;\r\n    }\r\n    if (resourceType === 'statistics' || resourceType === 'analytics') {\r\n      return CACHE_TTL.STATS;\r\n    }\r\n    if (resourceType === 'notifications') {\r\n      return CACHE_TTL.REALTIME;\r\n    }\r\n    return CACHE_TTL.SESSION; // Default for non-PHI\r\n  }\r\n\r\n  // PHI data\r\n  if (isFrequentlyAccessed) {\r\n    return CACHE_TTL.PHI_FREQUENT;\r\n  }\r\n  return CACHE_TTL.PHI_STANDARD;\r\n}\r\n\r\n/**\r\n * Get cache tags for a resource type\r\n *\r\n * @param resourceType - Type of resource\r\n * @param isPHI - Whether the data contains PHI\r\n * @returns Array of cache tags to apply\r\n *\r\n * @example\r\n * ```typescript\r\n * const tags = getCacheTags('students', true);\r\n * console.log(tags); // ['students', 'phi-data']\r\n * ```\r\n */\r\nexport function getCacheTags(\r\n  resourceType: string,\r\n  isPHI: boolean = true\r\n): string[] {\r\n  const tags: string[] = [];\r\n\r\n  // Add resource-specific tag\r\n  if (resourceType === 'students') {\r\n    tags.push(CACHE_TAGS.STUDENTS);\r\n  } else if (resourceType === 'medications') {\r\n    tags.push(CACHE_TAGS.MEDICATIONS);\r\n  } else if (resourceType === 'health-records') {\r\n    tags.push(CACHE_TAGS.HEALTH_RECORDS);\r\n  } else if (resourceType === 'appointments') {\r\n    tags.push(CACHE_TAGS.APPOINTMENTS);\r\n  } else if (resourceType === 'incidents') {\r\n    tags.push(CACHE_TAGS.INCIDENTS);\r\n  } else if (resourceType === 'users') {\r\n    tags.push(CACHE_TAGS.USERS);\r\n  } else if (resourceType === 'statistics') {\r\n    tags.push(CACHE_TAGS.STATS);\r\n  }\r\n\r\n  // Add PHI tag if applicable\r\n  if (isPHI) {\r\n    tags.push(CACHE_TAGS.PHI);\r\n  }\r\n\r\n  return tags;\r\n}\r\n\r\n/**\r\n * Build cache tag for specific resource instance\r\n *\r\n * @param resourceType - Type of resource\r\n * @param resourceId - ID of specific resource\r\n * @returns Cache tag string\r\n *\r\n * @example\r\n * ```typescript\r\n * const tag = buildResourceTag('student', '123');\r\n * console.log(tag); // 'student-123'\r\n * ```\r\n */\r\nexport function buildResourceTag(\r\n  resourceType: string,\r\n  resourceId: string\r\n): string {\r\n  return `${resourceType}-${resourceId}`;\r\n}\r\n\r\n// ==========================================\r\n// DOCUMENTATION\r\n// ==========================================\r\n\r\n/**\r\n * Cache Strategy Documentation\r\n *\r\n * **Decision Framework:**\r\n *\r\n * 1. **Is it PHI?**\r\n *    - YES → Use PHI_FREQUENT (30s) or PHI_STANDARD (60s)\r\n *    - NO → Continue to #2\r\n *\r\n * 2. **How often does it change?**\r\n *    - Rarely (reference data) → STATIC (300s)\r\n *    - Moderately (aggregated stats) → STATS (120s)\r\n *    - Frequently (real-time) → REALTIME (10s)\r\n *\r\n * 3. **Is it user-specific?**\r\n *    - YES → SESSION (300s)\r\n *    - NO → Use type-based TTL\r\n *\r\n * **HIPAA Compliance Notes:**\r\n * - All PHI cache entries MUST have tags for invalidation\r\n * - Cache keys MUST NOT contain PHI values (use IDs only)\r\n * - PHI caches MUST be cleared on user logout\r\n * - Audit logging required for PHI cache access\r\n *\r\n * **Performance Guidelines:**\r\n * - Prefer longer TTLs for static data (reduces backend load)\r\n * - Use shorter TTLs for PHI (compliance requirement)\r\n * - Always tag caches for granular invalidation\r\n * - Monitor cache hit rates and adjust TTLs accordingly\r\n *\r\n * **Examples:**\r\n *\r\n * ```typescript\r\n * // Example 1: Fetch student list (PHI, standard access)\r\n * const students = await fetch('/api/students', {\r\n *   next: {\r\n *     revalidate: CACHE_TTL.PHI_STANDARD, // 60s\r\n *     tags: [CACHE_TAGS.STUDENTS, CACHE_TAGS.PHI]\r\n *   }\r\n * });\r\n *\r\n * // Example 2: Fetch medication formulary (non-PHI, static)\r\n * const formulary = await fetch('/api/medications/formulary', {\r\n *   next: {\r\n *     revalidate: CACHE_TTL.STATIC, // 300s\r\n *     tags: [CACHE_TAGS.FORMULARY]\r\n *   }\r\n * });\r\n *\r\n * // Example 3: Fetch today's appointments (PHI, frequent)\r\n * const appointments = await fetch('/api/appointments/today', {\r\n *   next: {\r\n *     revalidate: CACHE_TTL.PHI_FREQUENT, // 30s\r\n *     tags: [CACHE_TAGS.APPOINTMENTS, CACHE_TAGS.PHI]\r\n *   }\r\n * });\r\n *\r\n * // Example 4: Fetch current user (non-PHI, session)\r\n * const user = await fetch('/api/auth/me', {\r\n *   next: {\r\n *     revalidate: CACHE_TTL.SESSION, // 300s\r\n *     tags: [CACHE_TAGS.USERS]\r\n *   }\r\n * });\r\n * ```\r\n */\r\n\r\n// Export all constants and utilities\r\nconst cacheConstants = {\r\n  CACHE_TTL,\r\n  CACHE_TAGS,\r\n  getCacheTTL,\r\n  getCacheTags,\r\n  buildResourceTag,\r\n};\r\n\r\nexport default cacheConstants;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 686, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/admin/settings/users/page.tsx"],"sourcesContent":["/**\n * Admin Users Management Page - User administration and role management\n *\n * Next.js v16 Server Component that provides comprehensive user management interface.\n * Uses Server Actions, streaming, and advanced caching for optimal performance.\n *\n * Features:\n * - Server-side data fetching with caching\n * - Server Actions for form handling\n * - Streaming with Suspense boundaries\n * - Optimistic updates\n * - HIPAA-compliant audit logging\n *\n * @module app/admin/settings/users/page\n * @since 2025-11-05 - Enhanced for Next.js v16\n */\n\nimport { Suspense } from 'react';\nimport { Metadata } from 'next';\nimport { UserManagementContent } from './_components/UserManagementContent';\nimport { UserManagementSkeleton } from './_components/UserManagementSkeleton';\nimport { UserManagementHeader } from './_components/UserManagementHeader';\nimport { CACHE_TAGS, CACHE_TTL } from '@/lib/cache/constants';\n\n/**\n * Metadata for the users management page\n */\nexport const metadata: Metadata = {\n  title: 'User Management | Admin Settings',\n  description: 'Comprehensive user administration, role management, and access control for healthcare platform users.',\n  keywords: [\n    'user management',\n    'role administration',\n    'access control',\n    'healthcare users',\n    'account management',\n    'permissions',\n    'user roles',\n    'admin tools'\n  ],\n  robots: {\n    index: false,\n    follow: false\n  }\n};\n\n/**\n * Search parameters interface for typed route parameters\n */\ninterface UserSearchParams {\n  search?: string;\n  role?: string;\n  status?: string;\n  page?: string;\n  limit?: string;\n}\n\n/**\n * Page props with typed search parameters\n */\ninterface UsersPageProps {\n  searchParams: UserSearchParams;\n}\n\n/**\n * User data fetcher\n */\nasync function fetchUsersData(searchParams: UserSearchParams) {\n  const apiUrl = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:3001';\n  const urlParams = new URLSearchParams();\n  \n  if (searchParams.role && searchParams.role !== 'all') {\n    urlParams.append('role', searchParams.role);\n  }\n  if (searchParams.status && searchParams.status !== 'all') {\n    urlParams.append('status', searchParams.status);\n  }\n  if (searchParams.search) {\n    urlParams.append('search', searchParams.search);\n  }\n  if (searchParams.page) {\n    urlParams.append('page', searchParams.page);\n  }\n  if (searchParams.limit) {\n    urlParams.append('limit', searchParams.limit);\n  }\n\n  try {\n    const response = await fetch(`${apiUrl}/users?${urlParams.toString()}`, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      next: {\n        tags: [CACHE_TAGS.ADMIN_USERS, CACHE_TAGS.USERS],\n        revalidate: CACHE_TTL.PHI_STANDARD, // 60 seconds for user data\n      }\n    });\n\n    if (!response.ok) {\n      throw new Error(`Failed to fetch users: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return {\n      users: data.users || [],\n      total: data.total || 0,\n      pagination: data.pagination || null,\n    };\n  } catch (error) {\n    console.error('Error fetching users:', error);\n    // Return empty state rather than throwing to allow graceful degradation\n    return {\n      users: [],\n      total: 0,\n      pagination: null,\n      error: error instanceof Error ? error.message : 'Failed to load users'\n    };\n  }\n}\n\n/**\n * Users Management Page - Server Component\n */\nexport default async function UsersPage({ searchParams }: UsersPageProps) {\n  // Fetch data server-side using the established patterns\n  const usersData = await fetchUsersData(searchParams);\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Page Header */}\n      <header className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-semibold text-gray-900\">User Management</h1>\n          <p className=\"text-gray-600 mt-1\">\n            Comprehensive user administration and role management\n          </p>\n        </div>\n      </header>\n\n      {/* Error State */}\n      {usersData.error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div className=\"flex\">\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800\">\n                Error loading users\n              </h3>\n              <div className=\"mt-2 text-sm text-red-700\">\n                <p>{usersData.error}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Main Content with Suspense for progressive loading */}\n      <Suspense fallback={<UserManagementSkeleton />}>\n        <UserManagementContent \n          initialUsers={usersData.users}\n          total={usersData.total}\n          pagination={usersData.pagination}\n          searchParams={searchParams}\n        />\n      </Suspense>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;CAeC;;;;;;;AAED;AAEA;AACA;AAEA;;;;;;AAKO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;IACb,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,QAAQ;QACN,OAAO;QACP,QAAQ;IACV;AACF;AAoBA;;CAEC,GACD,eAAe,eAAe,YAA8B;IAC1D,MAAM,SAAS,6DAAwC;IACvD,MAAM,YAAY,IAAI;IAEtB,IAAI,aAAa,IAAI,IAAI,aAAa,IAAI,KAAK,OAAO;QACpD,UAAU,MAAM,CAAC,QAAQ,aAAa,IAAI;IAC5C;IACA,IAAI,aAAa,MAAM,IAAI,aAAa,MAAM,KAAK,OAAO;QACxD,UAAU,MAAM,CAAC,UAAU,aAAa,MAAM;IAChD;IACA,IAAI,aAAa,MAAM,EAAE;QACvB,UAAU,MAAM,CAAC,UAAU,aAAa,MAAM;IAChD;IACA,IAAI,aAAa,IAAI,EAAE;QACrB,UAAU,MAAM,CAAC,QAAQ,aAAa,IAAI;IAC5C;IACA,IAAI,aAAa,KAAK,EAAE;QACtB,UAAU,MAAM,CAAC,SAAS,aAAa,KAAK;IAC9C;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,OAAO,OAAO,EAAE,UAAU,QAAQ,IAAI,EAAE;YACtE,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM;gBACJ,MAAM;oBAAC,8IAAU,CAAC,WAAW;oBAAE,8IAAU,CAAC,KAAK;iBAAC;gBAChD,YAAY,6IAAS,CAAC,YAAY;YACpC;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,SAAS,MAAM,EAAE;QAC7D;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO;YACL,OAAO,KAAK,KAAK,IAAI,EAAE;YACvB,OAAO,KAAK,KAAK,IAAI;YACrB,YAAY,KAAK,UAAU,IAAI;QACjC;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,wEAAwE;QACxE,OAAO;YACL,OAAO,EAAE;YACT,OAAO;YACP,YAAY;YACZ,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAClD;IACF;AACF;AAKe,eAAe,UAAU,EAAE,YAAY,EAAkB;IACtE,wDAAwD;IACxD,MAAM,YAAY,MAAM,eAAe;IAEvC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;;sCACC,8OAAC;4BAAG,WAAU;sCAAuC;;;;;;sCACrD,8OAAC;4BAAE,WAAU;sCAAqB;;;;;;;;;;;;;;;;;YAOrC,UAAU,KAAK,kBACd,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CAGjD,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;8CAAG,UAAU,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQ7B,8OAAC,iNAAQ;gBAAC,wBAAU,8OAAC,6NAAsB;;;;;0BACzC,cAAA,8OAAC,2NAAqB;oBACpB,cAAc,UAAU,KAAK;oBAC7B,OAAO,UAAU,KAAK;oBACtB,YAAY,UAAU,UAAU;oBAChC,cAAc;;;;;;;;;;;;;;;;;AAKxB","debugId":null}}]
}