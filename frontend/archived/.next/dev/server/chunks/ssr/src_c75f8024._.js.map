{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.actions.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile Management Server Actions - Main Entry Point\r\n * @module lib/actions/profile.actions\r\n *\r\n * HIPAA-compliant server actions for user profile management with comprehensive\r\n * caching, audit logging, and error handling.\r\n *\r\n * This file serves as the main entry point, re-exporting all profile-related\r\n * functionality from specialized modules for better organization and maintainability.\r\n *\r\n * Features:\r\n * - Server actions with proper 'use server' directive (in individual modules)\r\n * - Next.js cache integration with revalidateTag/revalidatePath\r\n * - HIPAA audit logging for all profile operations\r\n * - Type-safe CRUD operations\r\n * - Form data handling for UI integration\r\n * - Comprehensive error handling and validation\r\n *\r\n * Module Organization:\r\n * - profile.types.ts - TypeScript type definitions and interfaces\r\n * - profile.cache.ts - Cached data retrieval functions (marked with 'use server')\r\n * - profile.crud.ts - Basic profile CRUD operations (marked with 'use server')\r\n * - profile.settings.ts - Settings management actions (marked with 'use server')\r\n * - profile.security.ts - Security operations (marked with 'use server')\r\n * - profile.forms.ts - Form data handling wrappers (marked with 'use server')\r\n * - profile.utils.ts - Utility and helper functions (marked with 'use server')\r\n *\r\n * NOTE: This file does NOT have 'use server' at the file level to allow imports\r\n * from both Client and Server Components. Individual modules have their own\r\n * 'use server' directives to mark functions as server actions.\r\n */\r\n\r\n// ==========================================\r\n// TYPE DEFINITIONS\r\n// ==========================================\r\n\r\nexport type {\r\n  ActionResult,\r\n  UserProfile,\r\n  UpdateProfileData,\r\n  ProfileSettings,\r\n  UpdateProfileSettingsData,\r\n  ChangePasswordData,\r\n  SecurityLog,\r\n  ActiveSession,\r\n} from './profile.types';\r\n\r\n// NOTE: PROFILE_CACHE_TAGS cannot be re-exported from this \"use server\" file.\r\n// Import directly from './profile.constants' when needed in client components.\r\n\r\n// ==========================================\r\n// CACHED DATA FUNCTIONS\r\n// ==========================================\r\n\r\nexport {\r\n  getUserProfile,\r\n  getCurrentUserProfile,\r\n  getProfileSettings,\r\n  getSecurityLogs,\r\n  getActiveSessions,\r\n} from './profile.cache';\r\n\r\n// ==========================================\r\n// PROFILE CRUD OPERATIONS\r\n// ==========================================\r\n\r\nexport {\r\n  updateProfileAction,\r\n  uploadAvatarAction,\r\n} from './profile.crud';\r\n\r\n// ==========================================\r\n// SETTINGS OPERATIONS\r\n// ==========================================\r\n\r\nexport {\r\n  updateProfileSettingsAction,\r\n} from './profile.settings';\r\n\r\n// ==========================================\r\n// SECURITY OPERATIONS\r\n// ==========================================\r\n\r\nexport {\r\n  changePasswordAction,\r\n  enableTwoFactorAction,\r\n  disableTwoFactorAction,\r\n  revokeSessionAction,\r\n} from './profile.security';\r\n\r\n// ==========================================\r\n// FORM HANDLING OPERATIONS\r\n// ==========================================\r\n\r\nexport {\r\n  updateProfileFromForm,\r\n  changePasswordFromForm,\r\n} from './profile.forms';\r\n\r\n// ==========================================\r\n// UTILITY FUNCTIONS\r\n// ==========================================\r\n\r\nexport {\r\n  profileExists,\r\n  getProfileOverview,\r\n  clearProfileCache,\r\n} from './profile.utils';\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA8BC,GAED,6CAA6C;AAC7C,mBAAmB;AACnB,6CAA6C","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.cache.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile Cache Operations\r\n * @module lib/actions/profile.cache\r\n *\r\n * Cached data retrieval functions for profile management with Next.js cache integration.\r\n * All functions use React cache() for automatic memoization within a single request.\r\n *\r\n * Features:\r\n * - Next.js cache integration with revalidation\r\n * - Proper cache tags for selective invalidation\r\n * - Error handling with fallback values\r\n * - HIPAA-compliant data access patterns\r\n */\r\n\r\n'use server';\r\n\r\nimport { cache } from 'react';\r\nimport { serverGet } from '@/lib/api/nextjs-client';\r\nimport { CACHE_TTL } from '@/lib/cache/constants';\r\nimport type { ApiResponse } from '@/types/core/api/responses';\r\nimport type {\r\n  UserProfile,\r\n  ProfileSettings,\r\n  SecurityLog,\r\n  ActiveSession\r\n} from './profile.types';\r\n\r\n// NOTE: Cache tags are hardcoded as strings in this file.\r\n// If you need to reference PROFILE_CACHE_TAGS constant, import from './profile.constants'\r\n// (cannot be imported here due to \"use server\" restrictions on re-exports).\r\n\r\n// ==========================================\r\n// CACHED DATA FUNCTIONS\r\n// ==========================================\r\n\r\n/**\r\n * Get user profile by ID with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch profile for\r\n * @returns User profile or null if not found\r\n */\r\nexport const getUserProfile = cache(async (userId: string): Promise<UserProfile | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<UserProfile>>(\r\n      `/api/users/${userId}/profile`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: [`profile-${userId}`, 'profiles']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get user profile:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get current user profile with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @returns Current user profile or null if not authenticated\r\n */\r\nexport const getCurrentUserProfile = cache(async (): Promise<UserProfile | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<UserProfile>>(\r\n      `/api/profile`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: ['current-profile', 'profiles']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get current user profile:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get profile settings with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch settings for\r\n * @returns Profile settings or null if not found\r\n */\r\nexport const getProfileSettings = cache(async (userId: string): Promise<ProfileSettings | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<ProfileSettings>>(\r\n      `/api/users/${userId}/settings`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: [`profile-settings-${userId}`, 'profile-settings']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get profile settings:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get security logs with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch security logs for\r\n * @param limit - Maximum number of logs to retrieve (default: 50)\r\n * @returns Array of security log entries\r\n */\r\nexport const getSecurityLogs = cache(async (userId: string, limit: number = 50): Promise<SecurityLog[]> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<SecurityLog[]>>(\r\n      `/api/users/${userId}/security-logs`,\r\n      { limit: limit.toString() },\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.PHI_FREQUENT,\r\n          tags: [`security-logs-${userId}`, 'profile-security']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data || [];\r\n  } catch (error) {\r\n    console.error('Failed to get security logs:', error);\r\n    return [];\r\n  }\r\n});\r\n\r\n/**\r\n * Get active sessions with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch active sessions for\r\n * @returns Array of active session information\r\n */\r\nexport const getActiveSessions = cache(async (userId: string): Promise<ActiveSession[]> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<ActiveSession[]>>(\r\n      `/api/proxy/security/sessions?userId=${userId}`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.PHI_FREQUENT,\r\n          tags: [`sessions-${userId}`, 'profile-sessions']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data || [];\r\n  } catch (error) {\r\n    console.error('Failed to get active sessions:', error);\r\n    return [];\r\n  }\r\n});\r\n"],"names":[],"mappings":";;;;;;;IAqEa,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.cache.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile Cache Operations\r\n * @module lib/actions/profile.cache\r\n *\r\n * Cached data retrieval functions for profile management with Next.js cache integration.\r\n * All functions use React cache() for automatic memoization within a single request.\r\n *\r\n * Features:\r\n * - Next.js cache integration with revalidation\r\n * - Proper cache tags for selective invalidation\r\n * - Error handling with fallback values\r\n * - HIPAA-compliant data access patterns\r\n */\r\n\r\n'use server';\r\n\r\nimport { cache } from 'react';\r\nimport { serverGet } from '@/lib/api/nextjs-client';\r\nimport { CACHE_TTL } from '@/lib/cache/constants';\r\nimport type { ApiResponse } from '@/types/core/api/responses';\r\nimport type {\r\n  UserProfile,\r\n  ProfileSettings,\r\n  SecurityLog,\r\n  ActiveSession\r\n} from './profile.types';\r\n\r\n// NOTE: Cache tags are hardcoded as strings in this file.\r\n// If you need to reference PROFILE_CACHE_TAGS constant, import from './profile.constants'\r\n// (cannot be imported here due to \"use server\" restrictions on re-exports).\r\n\r\n// ==========================================\r\n// CACHED DATA FUNCTIONS\r\n// ==========================================\r\n\r\n/**\r\n * Get user profile by ID with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch profile for\r\n * @returns User profile or null if not found\r\n */\r\nexport const getUserProfile = cache(async (userId: string): Promise<UserProfile | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<UserProfile>>(\r\n      `/api/users/${userId}/profile`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: [`profile-${userId}`, 'profiles']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get user profile:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get current user profile with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @returns Current user profile or null if not authenticated\r\n */\r\nexport const getCurrentUserProfile = cache(async (): Promise<UserProfile | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<UserProfile>>(\r\n      `/api/profile`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: ['current-profile', 'profiles']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get current user profile:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get profile settings with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch settings for\r\n * @returns Profile settings or null if not found\r\n */\r\nexport const getProfileSettings = cache(async (userId: string): Promise<ProfileSettings | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<ProfileSettings>>(\r\n      `/api/users/${userId}/settings`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: [`profile-settings-${userId}`, 'profile-settings']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get profile settings:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get security logs with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch security logs for\r\n * @param limit - Maximum number of logs to retrieve (default: 50)\r\n * @returns Array of security log entries\r\n */\r\nexport const getSecurityLogs = cache(async (userId: string, limit: number = 50): Promise<SecurityLog[]> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<SecurityLog[]>>(\r\n      `/api/users/${userId}/security-logs`,\r\n      { limit: limit.toString() },\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.PHI_FREQUENT,\r\n          tags: [`security-logs-${userId}`, 'profile-security']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data || [];\r\n  } catch (error) {\r\n    console.error('Failed to get security logs:', error);\r\n    return [];\r\n  }\r\n});\r\n\r\n/**\r\n * Get active sessions with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch active sessions for\r\n * @returns Array of active session information\r\n */\r\nexport const getActiveSessions = cache(async (userId: string): Promise<ActiveSession[]> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<ActiveSession[]>>(\r\n      `/api/proxy/security/sessions?userId=${userId}`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.PHI_FREQUENT,\r\n          tags: [`sessions-${userId}`, 'profile-sessions']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data || [];\r\n  } catch (error) {\r\n    console.error('Failed to get active sessions:', error);\r\n    return [];\r\n  }\r\n});\r\n"],"names":[],"mappings":";;;;;;;IAiGa,qBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.cache.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile Cache Operations\r\n * @module lib/actions/profile.cache\r\n *\r\n * Cached data retrieval functions for profile management with Next.js cache integration.\r\n * All functions use React cache() for automatic memoization within a single request.\r\n *\r\n * Features:\r\n * - Next.js cache integration with revalidation\r\n * - Proper cache tags for selective invalidation\r\n * - Error handling with fallback values\r\n * - HIPAA-compliant data access patterns\r\n */\r\n\r\n'use server';\r\n\r\nimport { cache } from 'react';\r\nimport { serverGet } from '@/lib/api/nextjs-client';\r\nimport { CACHE_TTL } from '@/lib/cache/constants';\r\nimport type { ApiResponse } from '@/types/core/api/responses';\r\nimport type {\r\n  UserProfile,\r\n  ProfileSettings,\r\n  SecurityLog,\r\n  ActiveSession\r\n} from './profile.types';\r\n\r\n// NOTE: Cache tags are hardcoded as strings in this file.\r\n// If you need to reference PROFILE_CACHE_TAGS constant, import from './profile.constants'\r\n// (cannot be imported here due to \"use server\" restrictions on re-exports).\r\n\r\n// ==========================================\r\n// CACHED DATA FUNCTIONS\r\n// ==========================================\r\n\r\n/**\r\n * Get user profile by ID with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch profile for\r\n * @returns User profile or null if not found\r\n */\r\nexport const getUserProfile = cache(async (userId: string): Promise<UserProfile | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<UserProfile>>(\r\n      `/api/users/${userId}/profile`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: [`profile-${userId}`, 'profiles']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get user profile:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get current user profile with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @returns Current user profile or null if not authenticated\r\n */\r\nexport const getCurrentUserProfile = cache(async (): Promise<UserProfile | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<UserProfile>>(\r\n      `/api/profile`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: ['current-profile', 'profiles']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get current user profile:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get profile settings with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch settings for\r\n * @returns Profile settings or null if not found\r\n */\r\nexport const getProfileSettings = cache(async (userId: string): Promise<ProfileSettings | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<ProfileSettings>>(\r\n      `/api/users/${userId}/settings`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: [`profile-settings-${userId}`, 'profile-settings']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get profile settings:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get security logs with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch security logs for\r\n * @param limit - Maximum number of logs to retrieve (default: 50)\r\n * @returns Array of security log entries\r\n */\r\nexport const getSecurityLogs = cache(async (userId: string, limit: number = 50): Promise<SecurityLog[]> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<SecurityLog[]>>(\r\n      `/api/users/${userId}/security-logs`,\r\n      { limit: limit.toString() },\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.PHI_FREQUENT,\r\n          tags: [`security-logs-${userId}`, 'profile-security']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data || [];\r\n  } catch (error) {\r\n    console.error('Failed to get security logs:', error);\r\n    return [];\r\n  }\r\n});\r\n\r\n/**\r\n * Get active sessions with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch active sessions for\r\n * @returns Array of active session information\r\n */\r\nexport const getActiveSessions = cache(async (userId: string): Promise<ActiveSession[]> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<ActiveSession[]>>(\r\n      `/api/proxy/security/sessions?userId=${userId}`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.PHI_FREQUENT,\r\n          tags: [`sessions-${userId}`, 'profile-sessions']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data || [];\r\n  } catch (error) {\r\n    console.error('Failed to get active sessions:', error);\r\n    return [];\r\n  }\r\n});\r\n"],"names":[],"mappings":";;;;;;;IA8Ha,kBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.cache.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile Cache Operations\r\n * @module lib/actions/profile.cache\r\n *\r\n * Cached data retrieval functions for profile management with Next.js cache integration.\r\n * All functions use React cache() for automatic memoization within a single request.\r\n *\r\n * Features:\r\n * - Next.js cache integration with revalidation\r\n * - Proper cache tags for selective invalidation\r\n * - Error handling with fallback values\r\n * - HIPAA-compliant data access patterns\r\n */\r\n\r\n'use server';\r\n\r\nimport { cache } from 'react';\r\nimport { serverGet } from '@/lib/api/nextjs-client';\r\nimport { CACHE_TTL } from '@/lib/cache/constants';\r\nimport type { ApiResponse } from '@/types/core/api/responses';\r\nimport type {\r\n  UserProfile,\r\n  ProfileSettings,\r\n  SecurityLog,\r\n  ActiveSession\r\n} from './profile.types';\r\n\r\n// NOTE: Cache tags are hardcoded as strings in this file.\r\n// If you need to reference PROFILE_CACHE_TAGS constant, import from './profile.constants'\r\n// (cannot be imported here due to \"use server\" restrictions on re-exports).\r\n\r\n// ==========================================\r\n// CACHED DATA FUNCTIONS\r\n// ==========================================\r\n\r\n/**\r\n * Get user profile by ID with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch profile for\r\n * @returns User profile or null if not found\r\n */\r\nexport const getUserProfile = cache(async (userId: string): Promise<UserProfile | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<UserProfile>>(\r\n      `/api/users/${userId}/profile`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: [`profile-${userId}`, 'profiles']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get user profile:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get current user profile with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @returns Current user profile or null if not authenticated\r\n */\r\nexport const getCurrentUserProfile = cache(async (): Promise<UserProfile | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<UserProfile>>(\r\n      `/api/profile`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: ['current-profile', 'profiles']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get current user profile:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get profile settings with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch settings for\r\n * @returns Profile settings or null if not found\r\n */\r\nexport const getProfileSettings = cache(async (userId: string): Promise<ProfileSettings | null> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<ProfileSettings>>(\r\n      `/api/users/${userId}/settings`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.SESSION,\r\n          tags: [`profile-settings-${userId}`, 'profile-settings']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to get profile settings:', error);\r\n    return null;\r\n  }\r\n});\r\n\r\n/**\r\n * Get security logs with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch security logs for\r\n * @param limit - Maximum number of logs to retrieve (default: 50)\r\n * @returns Array of security log entries\r\n */\r\nexport const getSecurityLogs = cache(async (userId: string, limit: number = 50): Promise<SecurityLog[]> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<SecurityLog[]>>(\r\n      `/api/users/${userId}/security-logs`,\r\n      { limit: limit.toString() },\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.PHI_FREQUENT,\r\n          tags: [`security-logs-${userId}`, 'profile-security']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data || [];\r\n  } catch (error) {\r\n    console.error('Failed to get security logs:', error);\r\n    return [];\r\n  }\r\n});\r\n\r\n/**\r\n * Get active sessions with caching\r\n * Uses Next.js cache() for automatic memoization\r\n *\r\n * @param userId - The user ID to fetch active sessions for\r\n * @returns Array of active session information\r\n */\r\nexport const getActiveSessions = cache(async (userId: string): Promise<ActiveSession[]> => {\r\n  try {\r\n    const response = await serverGet<ApiResponse<ActiveSession[]>>(\r\n      `/api/proxy/security/sessions?userId=${userId}`,\r\n      undefined,\r\n      {\r\n        cache: 'force-cache',\r\n        next: {\r\n          revalidate: CACHE_TTL.PHI_FREQUENT,\r\n          tags: [`sessions-${userId}`, 'profile-sessions']\r\n        }\r\n      }\r\n    );\r\n\r\n    return response.data || [];\r\n  } catch (error) {\r\n    console.error('Failed to get active sessions:', error);\r\n    return [];\r\n  }\r\n});\r\n"],"names":[],"mappings":";;;;;;;IA0Ja,oBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.forms.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile Form Handlers\r\n * @module lib/actions/profile.forms\r\n *\r\n * Form-friendly wrapper functions for profile actions.\r\n * Converts FormData to typed objects and delegates to core action functions.\r\n *\r\n * Features:\r\n * - FormData to typed object conversion\r\n * - Automatic path revalidation\r\n * - Integration with core action modules\r\n */\r\n\r\n'use server';\r\n\r\nimport { revalidatePath } from 'next/cache';\r\nimport { updateProfileAction } from './profile.crud';\r\nimport { changePasswordAction } from './profile.security';\r\nimport type {\r\n  ActionResult,\r\n  UserProfile,\r\n  UpdateProfileData,\r\n  ChangePasswordData\r\n} from './profile.types';\r\n\r\n// ==========================================\r\n// FORM HANDLING OPERATIONS\r\n// ==========================================\r\n\r\n/**\r\n * Update profile from form data\r\n * Form-friendly wrapper for updateProfileAction\r\n *\r\n * @param userId - The user ID to update\r\n * @param formData - FormData from form submission\r\n * @returns Action result with updated profile or error\r\n */\r\nexport async function updateProfileFromForm(\r\n  userId: string,\r\n  formData: FormData\r\n): Promise<ActionResult<UserProfile>> {\r\n  const profileData: UpdateProfileData = {\r\n    firstName: formData.get('firstName') as string || undefined,\r\n    lastName: formData.get('lastName') as string || undefined,\r\n    phone: formData.get('phone') as string || undefined,\r\n    title: formData.get('title') as string || undefined,\r\n    department: formData.get('department') as string || undefined,\r\n    timezone: formData.get('timezone') as string || undefined,\r\n    locale: formData.get('locale') as string || undefined,\r\n    dateFormat: formData.get('dateFormat') as string || undefined,\r\n    timeFormat: formData.get('timeFormat') as '12h' | '24h' || undefined,\r\n    theme: formData.get('theme') as 'light' | 'dark' | 'system' || undefined,\r\n  };\r\n\r\n  // Filter out undefined values\r\n  const filteredData = Object.entries(profileData).reduce((acc, [key, value]) => {\r\n    if (value !== undefined) {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      (acc as any)[key] = value;\r\n    }\r\n    return acc;\r\n  }, {} as UpdateProfileData);\r\n\r\n  const result = await updateProfileAction(userId, filteredData);\r\n\r\n  if (result.success && result.data) {\r\n    revalidatePath('/profile', 'page');\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Change password from form data\r\n * Form-friendly wrapper for changePasswordAction\r\n *\r\n * @param userId - The user ID to change password for\r\n * @param formData - FormData from form submission\r\n * @returns Action result with success status or error\r\n */\r\nexport async function changePasswordFromForm(\r\n  userId: string,\r\n  formData: FormData\r\n): Promise<ActionResult<void>> {\r\n  const passwordData: ChangePasswordData = {\r\n    currentPassword: formData.get('currentPassword') as string,\r\n    newPassword: formData.get('newPassword') as string,\r\n    confirmPassword: formData.get('confirmPassword') as string,\r\n  };\r\n\r\n  const result = await changePasswordAction(userId, passwordData);\r\n\r\n  if (result.success) {\r\n    revalidatePath('/profile/security', 'page');\r\n  }\r\n\r\n  return result;\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAqCsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.forms.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile Form Handlers\r\n * @module lib/actions/profile.forms\r\n *\r\n * Form-friendly wrapper functions for profile actions.\r\n * Converts FormData to typed objects and delegates to core action functions.\r\n *\r\n * Features:\r\n * - FormData to typed object conversion\r\n * - Automatic path revalidation\r\n * - Integration with core action modules\r\n */\r\n\r\n'use server';\r\n\r\nimport { revalidatePath } from 'next/cache';\r\nimport { updateProfileAction } from './profile.crud';\r\nimport { changePasswordAction } from './profile.security';\r\nimport type {\r\n  ActionResult,\r\n  UserProfile,\r\n  UpdateProfileData,\r\n  ChangePasswordData\r\n} from './profile.types';\r\n\r\n// ==========================================\r\n// FORM HANDLING OPERATIONS\r\n// ==========================================\r\n\r\n/**\r\n * Update profile from form data\r\n * Form-friendly wrapper for updateProfileAction\r\n *\r\n * @param userId - The user ID to update\r\n * @param formData - FormData from form submission\r\n * @returns Action result with updated profile or error\r\n */\r\nexport async function updateProfileFromForm(\r\n  userId: string,\r\n  formData: FormData\r\n): Promise<ActionResult<UserProfile>> {\r\n  const profileData: UpdateProfileData = {\r\n    firstName: formData.get('firstName') as string || undefined,\r\n    lastName: formData.get('lastName') as string || undefined,\r\n    phone: formData.get('phone') as string || undefined,\r\n    title: formData.get('title') as string || undefined,\r\n    department: formData.get('department') as string || undefined,\r\n    timezone: formData.get('timezone') as string || undefined,\r\n    locale: formData.get('locale') as string || undefined,\r\n    dateFormat: formData.get('dateFormat') as string || undefined,\r\n    timeFormat: formData.get('timeFormat') as '12h' | '24h' || undefined,\r\n    theme: formData.get('theme') as 'light' | 'dark' | 'system' || undefined,\r\n  };\r\n\r\n  // Filter out undefined values\r\n  const filteredData = Object.entries(profileData).reduce((acc, [key, value]) => {\r\n    if (value !== undefined) {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      (acc as any)[key] = value;\r\n    }\r\n    return acc;\r\n  }, {} as UpdateProfileData);\r\n\r\n  const result = await updateProfileAction(userId, filteredData);\r\n\r\n  if (result.success && result.data) {\r\n    revalidatePath('/profile', 'page');\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Change password from form data\r\n * Form-friendly wrapper for changePasswordAction\r\n *\r\n * @param userId - The user ID to change password for\r\n * @param formData - FormData from form submission\r\n * @returns Action result with success status or error\r\n */\r\nexport async function changePasswordFromForm(\r\n  userId: string,\r\n  formData: FormData\r\n): Promise<ActionResult<void>> {\r\n  const passwordData: ChangePasswordData = {\r\n    currentPassword: formData.get('currentPassword') as string,\r\n    newPassword: formData.get('newPassword') as string,\r\n    confirmPassword: formData.get('confirmPassword') as string,\r\n  };\r\n\r\n  const result = await changePasswordAction(userId, passwordData);\r\n\r\n  if (result.success) {\r\n    revalidatePath('/profile/security', 'page');\r\n  }\r\n\r\n  return result;\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAgFsB,yBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.crud.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile CRUD Operations\r\n * @module lib/actions/profile.crud\r\n *\r\n * Basic Create, Read, Update operations for user profiles.\r\n * Includes profile updates and avatar management.\r\n *\r\n * Features:\r\n * - HIPAA-compliant audit logging\r\n * - Next.js cache invalidation\r\n * - Type-safe server actions\r\n * - Comprehensive error handling\r\n */\r\n\r\n'use server';\r\n\r\nimport { revalidateTag, revalidatePath } from 'next/cache';\r\nimport { serverPut, serverPost, NextApiClientError } from '@/lib/api/nextjs-client';\r\nimport { auditLog, AUDIT_ACTIONS } from '@/lib/audit';\r\nimport type { ApiResponse } from '@/types/core/api/responses';\r\nimport type {\r\n  ActionResult,\r\n  UserProfile,\r\n  UpdateProfileData\r\n} from './profile.types';\r\n\r\n// ==========================================\r\n// PROFILE CRUD OPERATIONS\r\n// ==========================================\r\n\r\n/**\r\n * Update user profile\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID to update\r\n * @param data - Profile data to update\r\n * @returns Action result with updated profile or error\r\n */\r\nexport async function updateProfileAction(\r\n  userId: string,\r\n  data: UpdateProfileData\r\n): Promise<ActionResult<UserProfile>> {\r\n  try {\r\n    if (!userId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID is required'\r\n      };\r\n    }\r\n\r\n    // Validate first name if provided\r\n    if (data.firstName && data.firstName.length < 2) {\r\n      return {\r\n        success: false,\r\n        error: 'First name must be at least 2 characters'\r\n      };\r\n    }\r\n\r\n    // Validate last name if provided\r\n    if (data.lastName && data.lastName.length < 2) {\r\n      return {\r\n        success: false,\r\n        error: 'Last name must be at least 2 characters'\r\n      };\r\n    }\r\n\r\n    const response = await serverPut<ApiResponse<UserProfile>>(\r\n      `/api/users/${userId}/profile`,\r\n      data,\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profiles', `profile-${userId}`] }\r\n      }\r\n    );\r\n\r\n    if (!response.success || !response.data) {\r\n      throw new Error(response.message || 'Failed to update profile');\r\n    }\r\n\r\n    // AUDIT LOG - Profile update\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserProfile',\r\n      resourceId: userId,\r\n      details: 'Updated user profile',\r\n      changes: data as Record<string, unknown>,\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag('profiles', 'default');\r\n    revalidateTag(`profile-${userId}`, 'default');\r\n    revalidateTag('current-profile', 'default');\r\n    revalidatePath('/profile', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'Profile updated successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to update profile';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserProfile',\r\n      resourceId: userId,\r\n      details: `Failed to update profile: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Upload profile avatar\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID to upload avatar for\r\n * @param formData - Form data containing avatar file\r\n * @returns Action result with avatar URL or error\r\n */\r\nexport async function uploadAvatarAction(\r\n  userId: string,\r\n  formData: FormData\r\n): Promise<ActionResult<{ avatarUrl: string }>> {\r\n  try {\r\n    if (!userId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID is required'\r\n      };\r\n    }\r\n\r\n    const response = await serverPost<ApiResponse<{ avatarUrl: string }>>(\r\n      `/api/users/${userId}/avatar`,\r\n      formData,\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profiles', `profile-${userId}`] }\r\n      }\r\n    );\r\n\r\n    if (!response.success || !response.data) {\r\n      throw new Error(response.message || 'Failed to upload avatar');\r\n    }\r\n\r\n    // AUDIT LOG - Avatar upload\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserProfile',\r\n      resourceId: userId,\r\n      details: 'Updated profile avatar',\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag('profiles', 'default');\r\n    revalidateTag(`profile-${userId}`, 'default');\r\n    revalidateTag('current-profile', 'default');\r\n    revalidatePath('/profile', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'Avatar uploaded successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to upload avatar';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserProfile',\r\n      resourceId: userId,\r\n      details: `Failed to upload avatar: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAoIsB,qBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.security.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile Security Operations\r\n * @module lib/actions/profile.security\r\n *\r\n * Security-related server actions for user profiles including password management,\r\n * two-factor authentication, and session management.\r\n *\r\n * Features:\r\n * - HIPAA-compliant audit logging\r\n * - Next.js cache invalidation\r\n * - Type-safe server actions\r\n * - Comprehensive validation and error handling\r\n * - Security event tracking\r\n */\r\n\r\n'use server';\r\n\r\nimport { revalidateTag, revalidatePath } from 'next/cache';\r\nimport { serverPost, serverDelete, NextApiClientError } from '@/lib/api/nextjs-client';\r\nimport { auditLog, AUDIT_ACTIONS } from '@/lib/audit';\r\nimport type { ApiResponse } from '@/types/core/api/responses';\r\nimport type {\r\n  ActionResult,\r\n  ChangePasswordData\r\n} from './profile.types';\r\n\r\n// ==========================================\r\n// PASSWORD MANAGEMENT\r\n// ==========================================\r\n\r\n/**\r\n * Change password\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID to change password for\r\n * @param data - Password change data (current, new, confirm)\r\n * @returns Action result with success status or error\r\n */\r\nexport async function changePasswordAction(\r\n  userId: string,\r\n  data: ChangePasswordData\r\n): Promise<ActionResult<void>> {\r\n  try {\r\n    if (!userId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID is required'\r\n      };\r\n    }\r\n\r\n    // Validate passwords match\r\n    if (data.newPassword !== data.confirmPassword) {\r\n      return {\r\n        success: false,\r\n        error: 'Passwords do not match'\r\n      };\r\n    }\r\n\r\n    // Validate password strength\r\n    if (data.newPassword.length < 8) {\r\n      return {\r\n        success: false,\r\n        error: 'Password must be at least 8 characters long'\r\n      };\r\n    }\r\n\r\n    const response = await serverPost<ApiResponse<void>>(\r\n      `/api/users/${userId}/change-password`,\r\n      {\r\n        currentPassword: data.currentPassword,\r\n        newPassword: data.newPassword\r\n      },\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profile-security'] }\r\n      }\r\n    );\r\n\r\n    if (!response.success) {\r\n      throw new Error(response.message || 'Failed to change password');\r\n    }\r\n\r\n    // AUDIT LOG - Password change\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: 'Changed user password',\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation for security logs\r\n    revalidateTag('profile-security', 'default');\r\n    revalidateTag(`security-logs-${userId}`, 'default');\r\n    revalidatePath('/profile/security', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      message: 'Password changed successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to change password';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: `Failed to change password: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// TWO-FACTOR AUTHENTICATION\r\n// ==========================================\r\n\r\n/**\r\n * Enable two-factor authentication\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID to enable 2FA for\r\n * @returns Action result with QR code and backup codes or error\r\n */\r\nexport async function enableTwoFactorAction(\r\n  userId: string\r\n): Promise<ActionResult<{ qrCode: string; backupCodes: string[] }>> {\r\n  try {\r\n    if (!userId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID is required'\r\n      };\r\n    }\r\n\r\n    const response = await serverPost<ApiResponse<{ qrCode: string; backupCodes: string[] }>>(\r\n      `/api/users/${userId}/2fa/enable`,\r\n      {},\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profile-security', `profile-${userId}`] }\r\n      }\r\n    );\r\n\r\n    if (!response.success || !response.data) {\r\n      throw new Error(response.message || 'Failed to enable two-factor authentication');\r\n    }\r\n\r\n    // AUDIT LOG - 2FA enabled\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: 'Enabled two-factor authentication',\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag('profiles', 'default');\r\n    revalidateTag('profile-security', 'default');\r\n    revalidateTag(`profile-${userId}`, 'default');\r\n    revalidateTag(`security-logs-${userId}`, 'default');\r\n    revalidatePath('/profile/security', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'Two-factor authentication enabled successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to enable two-factor authentication';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: `Failed to enable two-factor authentication: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Disable two-factor authentication\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID to disable 2FA for\r\n * @returns Action result with success status or error\r\n */\r\nexport async function disableTwoFactorAction(userId: string): Promise<ActionResult<void>> {\r\n  try {\r\n    if (!userId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID is required'\r\n      };\r\n    }\r\n\r\n    const response = await serverPost<ApiResponse<void>>(\r\n      `/api/users/${userId}/2fa/disable`,\r\n      {},\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profile-security', `profile-${userId}`] }\r\n      }\r\n    );\r\n\r\n    if (!response.success) {\r\n      throw new Error(response.message || 'Failed to disable two-factor authentication');\r\n    }\r\n\r\n    // AUDIT LOG - 2FA disabled\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: 'Disabled two-factor authentication',\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag('profiles', 'default');\r\n    revalidateTag('profile-security', 'default');\r\n    revalidateTag(`profile-${userId}`, 'default');\r\n    revalidateTag(`security-logs-${userId}`, 'default');\r\n    revalidatePath('/profile/security', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      message: 'Two-factor authentication disabled successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to disable two-factor authentication';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: `Failed to disable two-factor authentication: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// SESSION MANAGEMENT\r\n// ==========================================\r\n\r\n/**\r\n * Revoke session\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID whose session to revoke\r\n * @param sessionId - The session ID to revoke\r\n * @returns Action result with success status or error\r\n */\r\nexport async function revokeSessionAction(\r\n  userId: string,\r\n  sessionId: string\r\n): Promise<ActionResult<void>> {\r\n  try {\r\n    if (!userId || !sessionId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID and session ID are required'\r\n      };\r\n    }\r\n\r\n    const response = await serverDelete<ApiResponse<void>>(\r\n      `/api/users/${userId}/sessions/${sessionId}`,\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profile-sessions', `sessions-${userId}`] }\r\n      }\r\n    );\r\n\r\n    if (!response.success) {\r\n      throw new Error(response.message || 'Failed to revoke session');\r\n    }\r\n\r\n    // AUDIT LOG - Session revoked\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.DELETE_DOCUMENT,\r\n      resource: 'UserSession',\r\n      resourceId: sessionId,\r\n      details: `Revoked user session`,\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag('profile-sessions', 'default');\r\n    revalidateTag('profile-security', 'default');\r\n    revalidateTag(`sessions-${userId}`, 'default');\r\n    revalidateTag(`security-logs-${userId}`, 'default');\r\n    revalidatePath('/profile/security', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      message: 'Session revoked successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to revoke session';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.DELETE_DOCUMENT,\r\n      resource: 'UserSession',\r\n      resourceId: sessionId,\r\n      details: `Failed to revoke session: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAuIsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/profile.security.ts"],"sourcesContent":["/**\r\n * @fileoverview Profile Security Operations\r\n * @module lib/actions/profile.security\r\n *\r\n * Security-related server actions for user profiles including password management,\r\n * two-factor authentication, and session management.\r\n *\r\n * Features:\r\n * - HIPAA-compliant audit logging\r\n * - Next.js cache invalidation\r\n * - Type-safe server actions\r\n * - Comprehensive validation and error handling\r\n * - Security event tracking\r\n */\r\n\r\n'use server';\r\n\r\nimport { revalidateTag, revalidatePath } from 'next/cache';\r\nimport { serverPost, serverDelete, NextApiClientError } from '@/lib/api/nextjs-client';\r\nimport { auditLog, AUDIT_ACTIONS } from '@/lib/audit';\r\nimport type { ApiResponse } from '@/types/core/api/responses';\r\nimport type {\r\n  ActionResult,\r\n  ChangePasswordData\r\n} from './profile.types';\r\n\r\n// ==========================================\r\n// PASSWORD MANAGEMENT\r\n// ==========================================\r\n\r\n/**\r\n * Change password\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID to change password for\r\n * @param data - Password change data (current, new, confirm)\r\n * @returns Action result with success status or error\r\n */\r\nexport async function changePasswordAction(\r\n  userId: string,\r\n  data: ChangePasswordData\r\n): Promise<ActionResult<void>> {\r\n  try {\r\n    if (!userId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID is required'\r\n      };\r\n    }\r\n\r\n    // Validate passwords match\r\n    if (data.newPassword !== data.confirmPassword) {\r\n      return {\r\n        success: false,\r\n        error: 'Passwords do not match'\r\n      };\r\n    }\r\n\r\n    // Validate password strength\r\n    if (data.newPassword.length < 8) {\r\n      return {\r\n        success: false,\r\n        error: 'Password must be at least 8 characters long'\r\n      };\r\n    }\r\n\r\n    const response = await serverPost<ApiResponse<void>>(\r\n      `/api/users/${userId}/change-password`,\r\n      {\r\n        currentPassword: data.currentPassword,\r\n        newPassword: data.newPassword\r\n      },\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profile-security'] }\r\n      }\r\n    );\r\n\r\n    if (!response.success) {\r\n      throw new Error(response.message || 'Failed to change password');\r\n    }\r\n\r\n    // AUDIT LOG - Password change\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: 'Changed user password',\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation for security logs\r\n    revalidateTag('profile-security', 'default');\r\n    revalidateTag(`security-logs-${userId}`, 'default');\r\n    revalidatePath('/profile/security', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      message: 'Password changed successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to change password';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: `Failed to change password: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// TWO-FACTOR AUTHENTICATION\r\n// ==========================================\r\n\r\n/**\r\n * Enable two-factor authentication\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID to enable 2FA for\r\n * @returns Action result with QR code and backup codes or error\r\n */\r\nexport async function enableTwoFactorAction(\r\n  userId: string\r\n): Promise<ActionResult<{ qrCode: string; backupCodes: string[] }>> {\r\n  try {\r\n    if (!userId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID is required'\r\n      };\r\n    }\r\n\r\n    const response = await serverPost<ApiResponse<{ qrCode: string; backupCodes: string[] }>>(\r\n      `/api/users/${userId}/2fa/enable`,\r\n      {},\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profile-security', `profile-${userId}`] }\r\n      }\r\n    );\r\n\r\n    if (!response.success || !response.data) {\r\n      throw new Error(response.message || 'Failed to enable two-factor authentication');\r\n    }\r\n\r\n    // AUDIT LOG - 2FA enabled\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: 'Enabled two-factor authentication',\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag('profiles', 'default');\r\n    revalidateTag('profile-security', 'default');\r\n    revalidateTag(`profile-${userId}`, 'default');\r\n    revalidateTag(`security-logs-${userId}`, 'default');\r\n    revalidatePath('/profile/security', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'Two-factor authentication enabled successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to enable two-factor authentication';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: `Failed to enable two-factor authentication: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Disable two-factor authentication\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID to disable 2FA for\r\n * @returns Action result with success status or error\r\n */\r\nexport async function disableTwoFactorAction(userId: string): Promise<ActionResult<void>> {\r\n  try {\r\n    if (!userId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID is required'\r\n      };\r\n    }\r\n\r\n    const response = await serverPost<ApiResponse<void>>(\r\n      `/api/users/${userId}/2fa/disable`,\r\n      {},\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profile-security', `profile-${userId}`] }\r\n      }\r\n    );\r\n\r\n    if (!response.success) {\r\n      throw new Error(response.message || 'Failed to disable two-factor authentication');\r\n    }\r\n\r\n    // AUDIT LOG - 2FA disabled\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: 'Disabled two-factor authentication',\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag('profiles', 'default');\r\n    revalidateTag('profile-security', 'default');\r\n    revalidateTag(`profile-${userId}`, 'default');\r\n    revalidateTag(`security-logs-${userId}`, 'default');\r\n    revalidatePath('/profile/security', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      message: 'Two-factor authentication disabled successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to disable two-factor authentication';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_DOCUMENT,\r\n      resource: 'UserSecurity',\r\n      resourceId: userId,\r\n      details: `Failed to disable two-factor authentication: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// SESSION MANAGEMENT\r\n// ==========================================\r\n\r\n/**\r\n * Revoke session\r\n * Includes audit logging and cache invalidation\r\n *\r\n * @param userId - The user ID whose session to revoke\r\n * @param sessionId - The session ID to revoke\r\n * @returns Action result with success status or error\r\n */\r\nexport async function revokeSessionAction(\r\n  userId: string,\r\n  sessionId: string\r\n): Promise<ActionResult<void>> {\r\n  try {\r\n    if (!userId || !sessionId) {\r\n      return {\r\n        success: false,\r\n        error: 'User ID and session ID are required'\r\n      };\r\n    }\r\n\r\n    const response = await serverDelete<ApiResponse<void>>(\r\n      `/api/users/${userId}/sessions/${sessionId}`,\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: ['profile-sessions', `sessions-${userId}`] }\r\n      }\r\n    );\r\n\r\n    if (!response.success) {\r\n      throw new Error(response.message || 'Failed to revoke session');\r\n    }\r\n\r\n    // AUDIT LOG - Session revoked\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.DELETE_DOCUMENT,\r\n      resource: 'UserSession',\r\n      resourceId: sessionId,\r\n      details: `Revoked user session`,\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag('profile-sessions', 'default');\r\n    revalidateTag('profile-security', 'default');\r\n    revalidateTag(`sessions-${userId}`, 'default');\r\n    revalidateTag(`security-logs-${userId}`, 'default');\r\n    revalidatePath('/profile/security', 'page');\r\n\r\n    return {\r\n      success: true,\r\n      message: 'Session revoked successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to revoke session';\r\n\r\n    // AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.DELETE_DOCUMENT,\r\n      resource: 'UserSession',\r\n      resourceId: sessionId,\r\n      details: `Failed to revoke session: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAmNsB,yBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/ProfileHeader.tsx"],"sourcesContent":["/**\r\n * @fileoverview Profile Header Component - Profile avatar, basic info, quick actions\r\n * @module app/(dashboard)/profile/_components/ProfileHeader\r\n * @category Profile - Components\r\n */\r\n\r\n'use client';\r\n\r\nimport { \r\n  Camera, \r\n  Edit3, \r\n  Download, \r\n  Briefcase, \r\n  Award, \r\n  Calendar, \r\n  Clock \r\n} from 'lucide-react';\r\n\r\ninterface UserProfile {\r\n  firstName: string;\r\n  lastName: string;\r\n  title: string;\r\n  department: string;\r\n  employeeId: string;\r\n  hireDate: string;\r\n  lastLogin: string;\r\n  profileImage?: string;\r\n}\r\n\r\ninterface ProfileHeaderProps {\r\n  profile: UserProfile;\r\n  onEditProfile: () => void;\r\n  onUploadAvatar: (file: File) => Promise<void>;\r\n  onExportData: () => Promise<void>;\r\n  isUploading?: boolean;\r\n}\r\n\r\nexport function ProfileHeader({\r\n  profile,\r\n  onEditProfile,\r\n  onUploadAvatar,\r\n  onExportData,\r\n  isUploading = false\r\n}: ProfileHeaderProps) {\r\n  \r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const formatDateTime = (dateString: string) => {\r\n    return new Date(dateString).toLocaleString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      try {\r\n        await onUploadAvatar(file);\r\n      } catch (error) {\r\n        console.error('Failed to upload avatar:', error);\r\n        // Error handling is managed by parent component\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-6\">\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex items-start gap-6\">\r\n          {/* Profile Image */}\r\n          <div className=\"relative\">\r\n            {profile.profileImage ? (\r\n              <img\r\n                src={profile.profileImage}\r\n                alt=\"Profile\"\r\n                className=\"w-24 h-24 rounded-full object-cover border-4 border-white shadow-md\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold shadow-md\">\r\n                {profile.firstName.charAt(0)}{profile.lastName.charAt(0)}\r\n              </div>\r\n            )}\r\n            <label \r\n              className=\"absolute bottom-0 right-0 p-2 bg-white rounded-full shadow-md border hover:bg-gray-50 transition-colors cursor-pointer\"\r\n              title=\"Upload profile picture\"\r\n            >\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleFileChange}\r\n                className=\"hidden\"\r\n                disabled={isUploading}\r\n              />\r\n              {isUploading ? (\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600\"></div>\r\n              ) : (\r\n                <Camera className=\"h-4 w-4 text-gray-600\" />\r\n              )}\r\n            </label>\r\n          </div>\r\n\r\n          {/* Profile Info */}\r\n          <div className=\"flex-1\">\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">\r\n              {profile.firstName} {profile.lastName}\r\n            </h1>\r\n            <p className=\"text-lg text-gray-600 mt-1\">{profile.title}</p>\r\n            <div className=\"flex items-center gap-4 mt-3\">\r\n              <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                <Briefcase className=\"h-4 w-4\" />\r\n                {profile.department}\r\n              </div>\r\n              <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                <Award className=\"h-4 w-4\" />\r\n                ID: {profile.employeeId}\r\n              </div>\r\n              <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                <Calendar className=\"h-4 w-4\" />\r\n                Hired: {formatDate(profile.hireDate)}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2 mt-2 text-sm\">\r\n              <Clock className=\"h-4 w-4 text-green-600\" />\r\n              <span className=\"text-green-600\">Last login: {formatDateTime(profile.lastLogin)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"flex gap-3\">\r\n          <button \r\n            onClick={onEditProfile}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\r\n          >\r\n            <Edit3 className=\"h-4 w-4\" />\r\n            Edit Profile\r\n          </button>\r\n          <button \r\n            onClick={onExportData}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2\"\r\n          >\r\n            <Download className=\"h-4 w-4\" />\r\n            Export Data\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;AAID;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;AA+BO,SAAS,cAAc,EAC5B,OAAO,EACP,aAAa,EACb,cAAc,EACd,YAAY,EACZ,cAAc,KAAK,EACA;IAEnB,MAAM,aAAa,CAAC;QAClB,OAAO,IAAI,KAAK,YAAY,kBAAkB,CAAC,SAAS;YACtD,MAAM;YACN,OAAO;YACP,KAAK;QACP;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,OAAO,IAAI,KAAK,YAAY,cAAc,CAAC,SAAS;YAClD,MAAM;YACN,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;QACV;IACF;IAEA,MAAM,mBAAmB,OAAO;QAC9B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACR,IAAI;gBACF,MAAM,eAAe;YACvB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,gDAAgD;YAClD;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;gCACZ,QAAQ,YAAY,iBACnB,8OAAC;oCACC,KAAK,QAAQ,YAAY;oCACzB,KAAI;oCACJ,WAAU;;;;;yDAGZ,8OAAC;oCAAI,WAAU;;wCACZ,QAAQ,SAAS,CAAC,MAAM,CAAC;wCAAI,QAAQ,QAAQ,CAAC,MAAM,CAAC;;;;;;;8CAG1D,8OAAC;oCACC,WAAU;oCACV,OAAM;;sDAEN,8OAAC;4CACC,MAAK;4CACL,QAAO;4CACP,UAAU;4CACV,WAAU;4CACV,UAAU;;;;;;wCAEX,4BACC,8OAAC;4CAAI,WAAU;;;;;iEAEf,8OAAC,gNAAM;4CAAC,WAAU;;;;;;;;;;;;;;;;;;sCAMxB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;;wCACX,QAAQ,SAAS;wCAAC;wCAAE,QAAQ,QAAQ;;;;;;;8CAEvC,8OAAC;oCAAE,WAAU;8CAA8B,QAAQ,KAAK;;;;;;8CACxD,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,yNAAS;oDAAC,WAAU;;;;;;gDACpB,QAAQ,UAAU;;;;;;;sDAErB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,6MAAK;oDAAC,WAAU;;;;;;gDAAY;gDACxB,QAAQ,UAAU;;;;;;;sDAEzB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,sNAAQ;oDAAC,WAAU;;;;;;gDAAY;gDACxB,WAAW,QAAQ,QAAQ;;;;;;;;;;;;;8CAGvC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,6MAAK;4CAAC,WAAU;;;;;;sDACjB,8OAAC;4CAAK,WAAU;;gDAAiB;gDAAa,eAAe,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;8BAMpF,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,8OAAC,mNAAK;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAG/B,8OAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,8OAAC,sNAAQ;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;;;;;;;AAO5C","debugId":null}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/PersonalInformation.tsx"],"sourcesContent":["/**\r\n * @fileoverview Personal Information Component - Editable personal details section\r\n * @module app/(dashboard)/profile/_components/PersonalInformation\r\n * @category Profile - Components\r\n */\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { User, Edit3, X, Save } from 'lucide-react';\r\n\r\ninterface PersonalInfo {\r\n  firstName: string;\r\n  lastName: string;\r\n  title: string;\r\n  department: string;\r\n  employeeId: string;\r\n  hireDate: string;\r\n}\r\n\r\ninterface PersonalInformationProps {\r\n  personalInfo: PersonalInfo;\r\n  onUpdatePersonalInfo: (info: Partial<PersonalInfo>) => Promise<void>;\r\n  isUpdating?: boolean;\r\n}\r\n\r\nexport function PersonalInformation({\r\n  personalInfo,\r\n  onUpdatePersonalInfo,\r\n  isUpdating = false\r\n}: PersonalInformationProps) {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [formData, setFormData] = useState({ ...personalInfo });\r\n  const [hasChanges, setHasChanges] = useState(false);\r\n\r\n  // Update form data when props change\r\n  const resetFormData = () => {\r\n    setFormData({ ...personalInfo });\r\n    setHasChanges(false);\r\n  };\r\n\r\n  const handleInputChange = (field: keyof PersonalInfo, value: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    setHasChanges(true);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      // Only send changed fields\r\n      const changes: Partial<PersonalInfo> = {};\r\n      Object.keys(formData).forEach(key => {\r\n        const fieldKey = key as keyof PersonalInfo;\r\n        if (formData[fieldKey] !== personalInfo[fieldKey]) {\r\n          changes[fieldKey] = formData[fieldKey];\r\n        }\r\n      });\r\n\r\n      if (Object.keys(changes).length > 0) {\r\n        await onUpdatePersonalInfo(changes);\r\n      }\r\n      \r\n      setIsEditing(false);\r\n      setHasChanges(false);\r\n    } catch (error) {\r\n      console.error('Failed to update personal information:', error);\r\n      // Error handling is managed by parent component\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    resetFormData();\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    resetFormData();\r\n    setIsEditing(true);\r\n  };\r\n\r\n  // Validation - check if required fields are filled\r\n  const isFormValid = formData.firstName.trim() !== '' && \r\n                      formData.lastName.trim() !== '' && \r\n                      formData.title.trim() !== '';\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <User className=\"h-5 w-5 text-gray-600\" />\r\n          <h2 className=\"text-lg font-semibold\">Personal Information</h2>\r\n        </div>\r\n        <button \r\n          onClick={isEditing ? handleCancel : handleEdit}\r\n          disabled={isUpdating}\r\n          className=\"text-blue-600 hover:text-blue-700 disabled:opacity-50\"\r\n          title={isEditing ? \"Cancel editing\" : \"Edit personal information\"}\r\n        >\r\n          {isEditing ? <X className=\"h-4 w-4\" /> : <Edit3 className=\"h-4 w-4\" />}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {/* First Name and Last Name */}\r\n        <div className=\"grid gap-4 sm:grid-cols-2\">\r\n          <div>\r\n            <label htmlFor=\"personal-firstName\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              First Name <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"personal-firstName\"\r\n              type=\"text\"\r\n              value={isEditing ? formData.firstName : personalInfo.firstName}\r\n              onChange={(e) => handleInputChange('firstName', e.target.value)}\r\n              disabled={!isEditing}\r\n              className=\"w-full p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Enter first name\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"personal-lastName\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Last Name <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"personal-lastName\"\r\n              type=\"text\"\r\n              value={isEditing ? formData.lastName : personalInfo.lastName}\r\n              onChange={(e) => handleInputChange('lastName', e.target.value)}\r\n              disabled={!isEditing}\r\n              className=\"w-full p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Enter last name\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Job Title */}\r\n        <div>\r\n          <label htmlFor=\"personal-title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Job Title <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            id=\"personal-title\"\r\n            type=\"text\"\r\n            value={isEditing ? formData.title : personalInfo.title}\r\n            onChange={(e) => handleInputChange('title', e.target.value)}\r\n            disabled={!isEditing}\r\n            className=\"w-full p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            placeholder=\"Enter job title\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        {/* Department */}\r\n        <div>\r\n          <label htmlFor=\"personal-department\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Department\r\n          </label>\r\n          <input\r\n            id=\"personal-department\"\r\n            type=\"text\"\r\n            value={isEditing ? formData.department : personalInfo.department}\r\n            onChange={(e) => handleInputChange('department', e.target.value)}\r\n            disabled={!isEditing}\r\n            className=\"w-full p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            placeholder=\"Enter department\"\r\n          />\r\n        </div>\r\n\r\n        {/* Employee ID - Read only */}\r\n        <div>\r\n          <label htmlFor=\"personal-employeeId\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Employee ID\r\n          </label>\r\n          <input\r\n            id=\"personal-employeeId\"\r\n            type=\"text\"\r\n            value={personalInfo.employeeId}\r\n            disabled\r\n            className=\"w-full p-3 border rounded-lg bg-gray-50 text-gray-600\"\r\n            aria-label=\"Employee ID (read-only)\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 mt-1\">Employee ID cannot be changed</p>\r\n        </div>\r\n\r\n        {/* Hire Date - Read only */}\r\n        <div>\r\n          <label htmlFor=\"personal-hireDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Hire Date\r\n          </label>\r\n          <input\r\n            id=\"personal-hireDate\"\r\n            type=\"text\"\r\n            value={new Date(personalInfo.hireDate).toLocaleDateString('en-US', {\r\n              year: 'numeric',\r\n              month: 'long',\r\n              day: 'numeric'\r\n            })}\r\n            disabled\r\n            className=\"w-full p-3 border rounded-lg bg-gray-50 text-gray-600\"\r\n            aria-label=\"Hire date (read-only)\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 mt-1\">Hire date is set by HR</p>\r\n        </div>\r\n\r\n        {/* Save/Cancel Actions */}\r\n        {isEditing && (\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <button \r\n              onClick={handleSave}\r\n              disabled={!hasChanges || !isFormValid || isUpdating}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n            >\r\n              {isUpdating ? (\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\" />\r\n              ) : (\r\n                <Save className=\"h-4 w-4\" />\r\n              )}\r\n              {isUpdating ? 'Saving...' : 'Save Changes'}\r\n            </button>\r\n            <button \r\n              onClick={handleCancel}\r\n              disabled={isUpdating}\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {isEditing && !isFormValid && (\r\n          <div className=\"text-sm text-red-600\">\r\n            * Required fields must be filled out\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 897, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/ContactInformation.tsx"],"sourcesContent":["/**\r\n * @fileoverview Contact Information Component - User contact details management\r\n * @module app/(dashboard)/profile/_components/ContactInformation\r\n * @category Profile - Components\r\n */\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Mail, Phone, MapPin, Edit3, X, Save } from 'lucide-react';\r\n\r\ninterface Address {\r\n  street: string;\r\n  city: string;\r\n  state: string;\r\n  zipCode: string;\r\n}\r\n\r\ninterface ContactInformationProps {\r\n  email: string;\r\n  phone: string;\r\n  address: Address;\r\n  onUpdateContact: (contactData: {\r\n    email: string;\r\n    phone: string;\r\n    address: Address;\r\n  }) => Promise<void>;\r\n  isUpdating?: boolean;\r\n}\r\n\r\nexport function ContactInformation({\r\n  email,\r\n  phone,\r\n  address,\r\n  onUpdateContact,\r\n  isUpdating = false\r\n}: ContactInformationProps) {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    email,\r\n    phone,\r\n    address: { ...address }\r\n  });\r\n  const [hasChanges, setHasChanges] = useState(false);\r\n\r\n  // Update form data when props change\r\n  const resetFormData = () => {\r\n    setFormData({\r\n      email,\r\n      phone,\r\n      address: { ...address }\r\n    });\r\n    setHasChanges(false);\r\n  };\r\n\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setFormData(prev => {\r\n      const updated = { ...prev };\r\n      \r\n      if (field.startsWith('address.')) {\r\n        const addressField = field.split('.')[1] as keyof Address;\r\n        updated.address = { ...prev.address, [addressField]: value };\r\n      } else if (field === 'email') {\r\n        updated.email = value;\r\n      } else if (field === 'phone') {\r\n        updated.phone = value;\r\n      }\r\n      \r\n      return updated;\r\n    });\r\n    setHasChanges(true);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await onUpdateContact(formData);\r\n      setIsEditing(false);\r\n      setHasChanges(false);\r\n    } catch (error) {\r\n      console.error('Failed to update contact information:', error);\r\n      // Error handling is managed by parent component\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    resetFormData();\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    resetFormData();\r\n    setIsEditing(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Mail className=\"h-5 w-5 text-gray-600\" />\r\n          <h2 className=\"text-lg font-semibold\">Contact Information</h2>\r\n        </div>\r\n        <button \r\n          onClick={isEditing ? handleCancel : handleEdit}\r\n          disabled={isUpdating}\r\n          className=\"text-blue-600 hover:text-blue-700 disabled:opacity-50\"\r\n          title={isEditing ? \"Cancel editing\" : \"Edit contact information\"}\r\n        >\r\n          {isEditing ? <X className=\"h-4 w-4\" /> : <Edit3 className=\"h-4 w-4\" />}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {/* Email Address */}\r\n        <div>\r\n          <label htmlFor=\"contact-email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Email Address\r\n          </label>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Mail className=\"h-4 w-4 text-gray-400\" />\r\n            <input\r\n              id=\"contact-email\"\r\n              type=\"email\"\r\n              value={isEditing ? formData.email : email}\r\n              onChange={(e) => handleInputChange('email', e.target.value)}\r\n              disabled={!isEditing}\r\n              className=\"flex-1 p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Enter email address\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Phone Number */}\r\n        <div>\r\n          <label htmlFor=\"contact-phone\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Phone Number\r\n          </label>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Phone className=\"h-4 w-4 text-gray-400\" />\r\n            <input\r\n              id=\"contact-phone\"\r\n              type=\"tel\"\r\n              value={isEditing ? formData.phone : phone}\r\n              onChange={(e) => handleInputChange('phone', e.target.value)}\r\n              disabled={!isEditing}\r\n              className=\"flex-1 p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Enter phone number\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Address */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Address</label>\r\n          <div className=\"space-y-2\">\r\n            {/* Street Address */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <MapPin className=\"h-4 w-4 text-gray-400\" />\r\n              <input\r\n                id=\"contact-street\"\r\n                type=\"text\"\r\n                value={isEditing ? formData.address.street : address.street}\r\n                onChange={(e) => handleInputChange('address.street', e.target.value)}\r\n                placeholder=\"Street Address\"\r\n                disabled={!isEditing}\r\n                className=\"flex-1 p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n\r\n            {/* City, State, ZIP */}\r\n            <div className=\"grid gap-2 sm:grid-cols-3 pl-6\">\r\n              <input\r\n                id=\"contact-city\"\r\n                type=\"text\"\r\n                value={isEditing ? formData.address.city : address.city}\r\n                onChange={(e) => handleInputChange('address.city', e.target.value)}\r\n                placeholder=\"City\"\r\n                disabled={!isEditing}\r\n                className=\"p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n              <input\r\n                id=\"contact-state\"\r\n                type=\"text\"\r\n                value={isEditing ? formData.address.state : address.state}\r\n                onChange={(e) => handleInputChange('address.state', e.target.value)}\r\n                placeholder=\"State\"\r\n                disabled={!isEditing}\r\n                className=\"p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n              <input\r\n                id=\"contact-zip\"\r\n                type=\"text\"\r\n                value={isEditing ? formData.address.zipCode : address.zipCode}\r\n                onChange={(e) => handleInputChange('address.zipCode', e.target.value)}\r\n                placeholder=\"ZIP Code\"\r\n                disabled={!isEditing}\r\n                className=\"p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Save/Cancel Actions */}\r\n        {isEditing && (\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <button \r\n              onClick={handleSave}\r\n              disabled={!hasChanges || isUpdating}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n            >\r\n              {isUpdating ? (\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\" />\r\n              ) : (\r\n                <Save className=\"h-4 w-4\" />\r\n              )}\r\n              {isUpdating ? 'Saving...' : 'Save Changes'}\r\n            </button>\r\n            <button \r\n              onClick={handleCancel}\r\n              disabled={isUpdating}\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1293, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/EmergencyContact.tsx"],"sourcesContent":["/**\r\n * @fileoverview Emergency Contact Component - Emergency contact information management\r\n * @module app/(dashboard)/profile/_components/EmergencyContact\r\n * @category Profile - Components\r\n */\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { AlertTriangle, Edit3, X, Save } from 'lucide-react';\r\n\r\ninterface EmergencyContactData {\r\n  name: string;\r\n  relationship: string;\r\n  phone: string;\r\n}\r\n\r\ninterface EmergencyContactProps {\r\n  emergencyContact: EmergencyContactData;\r\n  onUpdateEmergencyContact: (contactData: EmergencyContactData) => Promise<void>;\r\n  isUpdating?: boolean;\r\n}\r\n\r\nexport function EmergencyContact({\r\n  emergencyContact,\r\n  onUpdateEmergencyContact,\r\n  isUpdating = false\r\n}: EmergencyContactProps) {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [formData, setFormData] = useState<EmergencyContactData>({ ...emergencyContact });\r\n  const [hasChanges, setHasChanges] = useState(false);\r\n\r\n  // Update form data when props change\r\n  const resetFormData = () => {\r\n    setFormData({ ...emergencyContact });\r\n    setHasChanges(false);\r\n  };\r\n\r\n  const handleInputChange = (field: keyof EmergencyContactData, value: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    setHasChanges(true);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await onUpdateEmergencyContact(formData);\r\n      setIsEditing(false);\r\n      setHasChanges(false);\r\n    } catch (error) {\r\n      console.error('Failed to update emergency contact:', error);\r\n      // Error handling is managed by parent component\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    resetFormData();\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    resetFormData();\r\n    setIsEditing(true);\r\n  };\r\n\r\n  // Validation\r\n  const isFormValid = formData.name.trim() !== '' && \r\n                     formData.relationship.trim() !== '' && \r\n                     formData.phone.trim() !== '';\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <AlertTriangle className=\"h-5 w-5 text-gray-600\" />\r\n          <h2 className=\"text-lg font-semibold\">Emergency Contact</h2>\r\n        </div>\r\n        <button \r\n          onClick={isEditing ? handleCancel : handleEdit}\r\n          disabled={isUpdating}\r\n          className=\"text-blue-600 hover:text-blue-700 disabled:opacity-50\"\r\n          title={isEditing ? \"Cancel editing\" : \"Edit emergency contact\"}\r\n        >\r\n          {isEditing ? <X className=\"h-4 w-4\" /> : <Edit3 className=\"h-4 w-4\" />}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {/* Contact Name */}\r\n        <div>\r\n          <label htmlFor=\"emergency-name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Contact Name <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            id=\"emergency-name\"\r\n            type=\"text\"\r\n            value={isEditing ? formData.name : emergencyContact.name}\r\n            onChange={(e) => handleInputChange('name', e.target.value)}\r\n            disabled={!isEditing}\r\n            className=\"w-full p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            placeholder=\"Enter contact name\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        {/* Relationship */}\r\n        <div>\r\n          <label htmlFor=\"emergency-relationship\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Relationship <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          {isEditing ? (\r\n            <select\r\n              id=\"emergency-relationship\"\r\n              value={formData.relationship}\r\n              onChange={(e) => handleInputChange('relationship', e.target.value)}\r\n              className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              required\r\n            >\r\n              <option value=\"\">Select relationship</option>\r\n              <option value=\"Spouse\">Spouse</option>\r\n              <option value=\"Partner\">Partner</option>\r\n              <option value=\"Parent\">Parent</option>\r\n              <option value=\"Child\">Child</option>\r\n              <option value=\"Sibling\">Sibling</option>\r\n              <option value=\"Friend\">Friend</option>\r\n              <option value=\"Colleague\">Colleague</option>\r\n              <option value=\"Other\">Other</option>\r\n            </select>\r\n          ) : (\r\n            <input\r\n              type=\"text\"\r\n              value={emergencyContact.relationship}\r\n              disabled\r\n              aria-label=\"Emergency contact relationship\"\r\n              className=\"w-full p-3 border rounded-lg bg-gray-50 text-gray-600\"\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Phone Number */}\r\n        <div>\r\n          <label htmlFor=\"emergency-phone\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Phone Number <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            id=\"emergency-phone\"\r\n            type=\"tel\"\r\n            value={isEditing ? formData.phone : emergencyContact.phone}\r\n            onChange={(e) => handleInputChange('phone', e.target.value)}\r\n            disabled={!isEditing}\r\n            className=\"w-full p-3 border rounded-lg disabled:bg-gray-50 disabled:text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            placeholder=\"Enter phone number\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        {/* Important Note */}\r\n        <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-4\">\r\n          <div className=\"flex items-start gap-3\">\r\n            <AlertTriangle className=\"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0\" />\r\n            <div>\r\n              <p className=\"text-sm text-amber-800 font-medium mb-1\">\r\n                Important Information\r\n              </p>\r\n              <p className=\"text-sm text-amber-700\">\r\n                This person will be contacted in case of emergency. Please ensure all information is current and accurate.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Save/Cancel Actions */}\r\n        {isEditing && (\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <button \r\n              onClick={handleSave}\r\n              disabled={!hasChanges || !isFormValid || isUpdating}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n            >\r\n              {isUpdating ? (\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\" />\r\n              ) : (\r\n                <Save className=\"h-4 w-4\" />\r\n              )}\r\n              {isUpdating ? 'Saving...' : 'Save Changes'}\r\n            </button>\r\n            <button \r\n              onClick={handleCancel}\r\n              disabled={isUpdating}\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {isEditing && !isFormValid && (\r\n          <div className=\"text-sm text-red-600\">\r\n            * All fields are required\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1733, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/hooks/usePasswordChange.ts"],"sourcesContent":["/**\r\n * @fileoverview Custom hook for password change functionality\r\n * @module app/(dashboard)/profile/_components/hooks/usePasswordChange\r\n * @category Profile - Hooks\r\n */\r\n\r\n'use client';\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { changePasswordFromForm } from '@/lib/actions/profile.actions';\r\n\r\ninterface PasswordFormState {\r\n  currentPassword: string;\r\n  newPassword: string;\r\n  confirmPassword: string;\r\n  showCurrent: boolean;\r\n  showNew: boolean;\r\n  showConfirm: boolean;\r\n}\r\n\r\ninterface UsePasswordChangeReturn {\r\n  passwordForm: PasswordFormState;\r\n  setPasswordForm: React.Dispatch<React.SetStateAction<PasswordFormState>>;\r\n  changePassword: (userId: string) => Promise<boolean>;\r\n  resetPasswordForm: () => void;\r\n  changing: boolean;\r\n  changeError: string | null;\r\n  validatePassword: () => string | null;\r\n}\r\n\r\nconst initialPasswordForm: PasswordFormState = {\r\n  currentPassword: '',\r\n  newPassword: '',\r\n  confirmPassword: '',\r\n  showCurrent: false,\r\n  showNew: false,\r\n  showConfirm: false\r\n};\r\n\r\n/**\r\n * Custom hook for managing password change operations\r\n * Handles form state, validation, and submission\r\n */\r\nexport function usePasswordChange(): UsePasswordChangeReturn {\r\n  const [passwordForm, setPasswordForm] = useState<PasswordFormState>(initialPasswordForm);\r\n  const [changing, setChanging] = useState(false);\r\n  const [changeError, setChangeError] = useState<string | null>(null);\r\n\r\n  const validatePassword = useCallback((): string | null => {\r\n    if (!passwordForm.currentPassword) {\r\n      return 'Current password is required';\r\n    }\r\n    if (!passwordForm.newPassword) {\r\n      return 'New password is required';\r\n    }\r\n    if (passwordForm.newPassword.length < 8) {\r\n      return 'New password must be at least 8 characters';\r\n    }\r\n    if (passwordForm.newPassword !== passwordForm.confirmPassword) {\r\n      return 'Passwords do not match';\r\n    }\r\n    if (passwordForm.currentPassword === passwordForm.newPassword) {\r\n      return 'New password must be different from current password';\r\n    }\r\n    return null;\r\n  }, [passwordForm]);\r\n\r\n  const changePassword = useCallback(async (userId: string): Promise<boolean> => {\r\n    const validationError = validatePassword();\r\n    if (validationError) {\r\n      setChangeError(validationError);\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      setChanging(true);\r\n      setChangeError(null);\r\n\r\n      const formData = new FormData();\r\n      formData.append('currentPassword', passwordForm.currentPassword);\r\n      formData.append('newPassword', passwordForm.newPassword);\r\n      formData.append('confirmPassword', passwordForm.confirmPassword);\r\n\r\n      const result = await changePasswordFromForm(userId, formData);\r\n\r\n      if (result.success) {\r\n        return true;\r\n      } else {\r\n        setChangeError(result.error || 'Failed to change password');\r\n        return false;\r\n      }\r\n    } catch (err) {\r\n      setChangeError('Failed to change password. Please try again.');\r\n      return false;\r\n    } finally {\r\n      setChanging(false);\r\n    }\r\n  }, [passwordForm, validatePassword]);\r\n\r\n  const resetPasswordForm = useCallback(() => {\r\n    setPasswordForm(initialPasswordForm);\r\n    setChangeError(null);\r\n  }, []);\r\n\r\n  return {\r\n    passwordForm,\r\n    setPasswordForm,\r\n    changePassword,\r\n    resetPasswordForm,\r\n    changing,\r\n    changeError,\r\n    validatePassword\r\n  };\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAID;AACA;AAAA;AAHA;;;AAwBA,MAAM,sBAAyC;IAC7C,iBAAiB;IACjB,aAAa;IACb,iBAAiB;IACjB,aAAa;IACb,SAAS;IACT,aAAa;AACf;AAMO,SAAS;IACd,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAoB;IACpE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAE9D,MAAM,mBAAmB,IAAA,oNAAW,EAAC;QACnC,IAAI,CAAC,aAAa,eAAe,EAAE;YACjC,OAAO;QACT;QACA,IAAI,CAAC,aAAa,WAAW,EAAE;YAC7B,OAAO;QACT;QACA,IAAI,aAAa,WAAW,CAAC,MAAM,GAAG,GAAG;YACvC,OAAO;QACT;QACA,IAAI,aAAa,WAAW,KAAK,aAAa,eAAe,EAAE;YAC7D,OAAO;QACT;QACA,IAAI,aAAa,eAAe,KAAK,aAAa,WAAW,EAAE;YAC7D,OAAO;QACT;QACA,OAAO;IACT,GAAG;QAAC;KAAa;IAEjB,MAAM,iBAAiB,IAAA,oNAAW,EAAC,OAAO;QACxC,MAAM,kBAAkB;QACxB,IAAI,iBAAiB;YACnB,eAAe;YACf,OAAO;QACT;QAEA,IAAI;YACF,YAAY;YACZ,eAAe;YAEf,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,mBAAmB,aAAa,eAAe;YAC/D,SAAS,MAAM,CAAC,eAAe,aAAa,WAAW;YACvD,SAAS,MAAM,CAAC,mBAAmB,aAAa,eAAe;YAE/D,MAAM,SAAS,MAAM,IAAA,uLAAsB,EAAC,QAAQ;YAEpD,IAAI,OAAO,OAAO,EAAE;gBAClB,OAAO;YACT,OAAO;gBACL,eAAe,OAAO,KAAK,IAAI;gBAC/B,OAAO;YACT;QACF,EAAE,OAAO,KAAK;YACZ,eAAe;YACf,OAAO;QACT,SAAU;YACR,YAAY;QACd;IACF,GAAG;QAAC;QAAc;KAAiB;IAEnC,MAAM,oBAAoB,IAAA,oNAAW,EAAC;QACpC,gBAAgB;QAChB,eAAe;IACjB,GAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 1827, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/SecuritySettings.tsx"],"sourcesContent":["/**\r\n * @fileoverview Security settings component with 2FA and password management\r\n * @module app/(dashboard)/profile/_components/SecuritySettings\r\n * @category Profile - Components\r\n */\r\n\r\n'use client';\r\n\r\nimport { Shield, Check, Eye, EyeOff, X } from 'lucide-react';\r\nimport { useState } from 'react';\r\nimport type { UserProfile } from '@/lib/actions/profile.actions';\r\nimport { usePasswordChange } from './hooks/usePasswordChange';\r\n\r\ninterface SecuritySettingsProps {\r\n  profile: UserProfile;\r\n  onToggleTwoFactor: () => Promise<void>;\r\n  onPasswordChange: (userId: string, currentPassword: string, newPassword: string) => Promise<boolean>;\r\n  disabled?: boolean;\r\n}\r\n\r\n/**\r\n * Security settings component\r\n * Manages 2FA, password changes, and session timeout\r\n *\r\n * @component\r\n * @example\r\n * ```tsx\r\n * <SecuritySettings\r\n *   profile={userProfile}\r\n *   onToggleTwoFactor={handleToggle2FA}\r\n *   onPasswordChange={handlePasswordChange}\r\n * />\r\n * ```\r\n */\r\nexport function SecuritySettings({\r\n  profile,\r\n  onToggleTwoFactor,\r\n  onPasswordChange,\r\n  disabled = false\r\n}: SecuritySettingsProps) {\r\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\r\n  const {\r\n    passwordForm,\r\n    setPasswordForm,\r\n    changePassword,\r\n    resetPasswordForm,\r\n    changing,\r\n    changeError\r\n  } = usePasswordChange();\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const handlePasswordSubmit = async () => {\r\n    const success = await changePassword(profile.userId);\r\n    if (success) {\r\n      setShowPasswordModal(false);\r\n      resetPasswordForm();\r\n    }\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowPasswordModal(false);\r\n    resetPasswordForm();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bg-white rounded-lg border p-6\">\r\n        <div className=\"flex items-center gap-2 mb-4\">\r\n          <Shield className=\"h-5 w-5 text-gray-600\" />\r\n          <h2 className=\"text-lg font-semibold\">Security Settings</h2>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          {/* Two-Factor Authentication */}\r\n          <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n            <div>\r\n              <div className=\"font-medium\">Two-Factor Authentication</div>\r\n              <div className=\"text-sm text-gray-600\">Add an extra layer of security</div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              {profile.security.twoFactorEnabled ? (\r\n                <>\r\n                  <Check className=\"h-4 w-4 text-green-600\" />\r\n                  <span className=\"text-sm text-green-600 font-medium\">Enabled</span>\r\n                  <button\r\n                    onClick={onToggleTwoFactor}\r\n                    disabled={disabled}\r\n                    className=\"ml-2 px-3 py-1 border border-gray-300 text-gray-700 rounded text-sm hover:bg-gray-100 transition-colors disabled:opacity-50\"\r\n                  >\r\n                    Disable\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <button\r\n                  onClick={onToggleTwoFactor}\r\n                  disabled={disabled}\r\n                  className=\"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n                >\r\n                  Enable\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Password */}\r\n          <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n            <div>\r\n              <div className=\"font-medium\">Password</div>\r\n              <div className=\"text-sm text-gray-600\">\r\n                Last changed: {formatDate(profile.security.lastPasswordChange)}\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowPasswordModal(true)}\r\n              disabled={disabled}\r\n              className=\"px-3 py-1 border border-gray-300 text-gray-700 rounded text-sm hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n            >\r\n              Change Password\r\n            </button>\r\n          </div>\r\n\r\n          {/* Session Timeout */}\r\n          <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n            <div>\r\n              <div className=\"font-medium\">Session Timeout</div>\r\n              <div className=\"text-sm text-gray-600\">Auto logout after inactivity</div>\r\n            </div>\r\n            <select\r\n              className=\"px-3 py-1 border border-gray-300 rounded text-sm bg-white disabled:opacity-50\"\r\n              aria-label=\"Session timeout duration\"\r\n              disabled={disabled}\r\n              defaultValue=\"30\"\r\n            >\r\n              <option value=\"15\">15 minutes</option>\r\n              <option value=\"30\">30 minutes</option>\r\n              <option value=\"60\">1 hour</option>\r\n              <option value=\"120\">2 hours</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Password Change Modal */}\r\n      {showPasswordModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md mx-4\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold\">Change Password</h3>\r\n              <button\r\n                onClick={handleCloseModal}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n                aria-label=\"Close modal\"\r\n              >\r\n                <X className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {changeError && (\r\n              <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\r\n                {changeError}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"space-y-4\">\r\n              {/* Current Password */}\r\n              <div>\r\n                <label htmlFor=\"currentPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Current Password\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    id=\"currentPassword\"\r\n                    type={passwordForm.showCurrent ? 'text' : 'password'}\r\n                    value={passwordForm.currentPassword}\r\n                    onChange={(e) => setPasswordForm(prev => ({ ...prev, currentPassword: e.target.value }))}\r\n                    className=\"w-full p-3 border rounded-lg pr-10 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Enter current password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setPasswordForm(prev => ({ ...prev, showCurrent: !prev.showCurrent }))}\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                    aria-label={passwordForm.showCurrent ? 'Hide password' : 'Show password'}\r\n                  >\r\n                    {passwordForm.showCurrent ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* New Password */}\r\n              <div>\r\n                <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  New Password\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    id=\"newPassword\"\r\n                    type={passwordForm.showNew ? 'text' : 'password'}\r\n                    value={passwordForm.newPassword}\r\n                    onChange={(e) => setPasswordForm(prev => ({ ...prev, newPassword: e.target.value }))}\r\n                    className=\"w-full p-3 border rounded-lg pr-10 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Enter new password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setPasswordForm(prev => ({ ...prev, showNew: !prev.showNew }))}\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                    aria-label={passwordForm.showNew ? 'Hide password' : 'Show password'}\r\n                  >\r\n                    {passwordForm.showNew ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                  </button>\r\n                </div>\r\n                <p className=\"mt-1 text-xs text-gray-500\">Must be at least 8 characters</p>\r\n              </div>\r\n\r\n              {/* Confirm Password */}\r\n              <div>\r\n                <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Confirm New Password\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    id=\"confirmPassword\"\r\n                    type={passwordForm.showConfirm ? 'text' : 'password'}\r\n                    value={passwordForm.confirmPassword}\r\n                    onChange={(e) => setPasswordForm(prev => ({ ...prev, confirmPassword: e.target.value }))}\r\n                    className=\"w-full p-3 border rounded-lg pr-10 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Confirm new password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setPasswordForm(prev => ({ ...prev, showConfirm: !prev.showConfirm }))}\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                    aria-label={passwordForm.showConfirm ? 'Hide password' : 'Show password'}\r\n                  >\r\n                    {passwordForm.showConfirm ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-3 pt-4\">\r\n                <button\r\n                  onClick={handlePasswordSubmit}\r\n                  disabled={changing}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {changing ? 'Changing...' : 'Change Password'}\r\n                </button>\r\n                <button\r\n                  onClick={handleCloseModal}\r\n                  disabled={changing}\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2425, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/Certifications.tsx"],"sourcesContent":["/**\r\n * @fileoverview Certifications Component - Certifications and licenses management\r\n * @module app/(dashboard)/profile/_components/Certifications\r\n * @category Profile - Components\r\n */\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { \r\n  Award, \r\n  Upload, \r\n  FileText, \r\n  Download, \r\n  Trash2, \r\n  Calendar,\r\n  AlertTriangle,\r\n  Plus,\r\n  X\r\n} from 'lucide-react';\r\n\r\ninterface Certification {\r\n  id: string;\r\n  name: string;\r\n  issuer: string;\r\n  status: 'active' | 'expiring' | 'expired';\r\n  issueDate: string;\r\n  expiryDate: string;\r\n  certificateUrl?: string;\r\n}\r\n\r\ninterface CertificationsProps {\r\n  certifications: Certification[];\r\n  onUploadCertificate: (file: File, metadata: {\r\n    name: string;\r\n    issuer: string;\r\n    issueDate: string;\r\n    expiryDate: string;\r\n  }) => Promise<void>;\r\n  onDeleteCertification: (id: string) => Promise<void>;\r\n  onDownloadCertificate: (id: string) => Promise<void>;\r\n  isUploading?: boolean;\r\n}\r\n\r\nexport function Certifications({\r\n  certifications,\r\n  onUploadCertificate,\r\n  onDeleteCertification,\r\n  onDownloadCertificate,\r\n  isUploading = false\r\n}: CertificationsProps) {\r\n  const [showUploadModal, setShowUploadModal] = useState(false);\r\n  const [uploadForm, setUploadForm] = useState({\r\n    name: '',\r\n    issuer: '',\r\n    issueDate: '',\r\n    expiryDate: '',\r\n    file: null as File | null\r\n  });\r\n\r\n  // Helper functions\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const getCertificationStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'active':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'expiring':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'expired':\r\n        return 'bg-red-100 text-red-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getCertificationStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'active':\r\n        return <Award className=\"h-4 w-4 text-green-600\" />;\r\n      case 'expiring':\r\n        return <AlertTriangle className=\"h-4 w-4 text-yellow-600\" />;\r\n      case 'expired':\r\n        return <X className=\"h-4 w-4 text-red-600\" />;\r\n      default:\r\n        return <FileText className=\"h-4 w-4 text-gray-600\" />;\r\n    }\r\n  };\r\n\r\n  const isExpiringSoon = (expiryDate: string) => {\r\n    const expiry = new Date(expiryDate);\r\n    const today = new Date();\r\n    const thirtyDaysFromNow = new Date(today.getTime() + (30 * 24 * 60 * 60 * 1000));\r\n    return expiry <= thirtyDaysFromNow && expiry > today;\r\n  };\r\n\r\n  // Form handlers\r\n  const handleUploadSubmit = async () => {\r\n    if (!uploadForm.file || !uploadForm.name || !uploadForm.issuer || \r\n        !uploadForm.issueDate || !uploadForm.expiryDate) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await onUploadCertificate(uploadForm.file, {\r\n        name: uploadForm.name,\r\n        issuer: uploadForm.issuer,\r\n        issueDate: uploadForm.issueDate,\r\n        expiryDate: uploadForm.expiryDate\r\n      });\r\n      \r\n      // Reset form\r\n      setUploadForm({\r\n        name: '',\r\n        issuer: '',\r\n        issueDate: '',\r\n        expiryDate: '',\r\n        file: null\r\n      });\r\n      setShowUploadModal(false);\r\n    } catch (error) {\r\n      console.error('Failed to upload certificate:', error);\r\n      // Error handling is managed by parent component\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setUploadForm(prev => ({ ...prev, file }));\r\n    }\r\n  };\r\n\r\n  const isFormValid = uploadForm.name.trim() !== '' && \r\n                      uploadForm.issuer.trim() !== '' && \r\n                      uploadForm.issueDate !== '' && \r\n                      uploadForm.expiryDate !== '' && \r\n                      uploadForm.file !== null;\r\n\r\n  // Count certifications by status\r\n  const activeCertifications = certifications.filter(cert => cert.status === 'active').length;\r\n  const expiringCertifications = certifications.filter(cert => cert.status === 'expiring').length;\r\n  const expiredCertifications = certifications.filter(cert => cert.status === 'expired').length;\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Award className=\"h-5 w-5 text-gray-600\" />\r\n          <h2 className=\"text-lg font-semibold\">Certifications & Licenses</h2>\r\n          <div className=\"ml-2 text-sm text-gray-500\">\r\n            ({certifications.length} total)\r\n          </div>\r\n        </div>\r\n        <button \r\n          onClick={() => setShowUploadModal(true)}\r\n          className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2\"\r\n        >\r\n          <Upload className=\"h-4 w-4\" />\r\n          Upload Certificate\r\n        </button>\r\n      </div>\r\n\r\n      {/* Status Summary */}\r\n      {certifications.length > 0 && (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6\">\r\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Award className=\"h-5 w-5 text-green-600\" />\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-green-900\">{activeCertifications}</div>\r\n                <div className=\"text-sm text-green-700\">Active</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <AlertTriangle className=\"h-5 w-5 text-yellow-600\" />\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-yellow-900\">{expiringCertifications}</div>\r\n                <div className=\"text-sm text-yellow-700\">Expiring Soon</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <X className=\"h-5 w-5 text-red-600\" />\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-red-900\">{expiredCertifications}</div>\r\n                <div className=\"text-sm text-red-700\">Expired</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Certifications List */}\r\n      {certifications.length === 0 ? (\r\n        <div className=\"text-center py-8\">\r\n          <Award className=\"h-12 w-12 text-gray-300 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Certifications</h3>\r\n          <p className=\"text-gray-600 mb-4\">Upload your first certification to get started.</p>\r\n          <button \r\n            onClick={() => setShowUploadModal(true)}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            <Upload className=\"h-4 w-4 mr-2 inline\" />\r\n            Upload Certificate\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-3\">\r\n          {certifications.map((cert) => (\r\n            <div key={cert.id} className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                      {getCertificationStatusIcon(cert.status)}\r\n                      <h3 className=\"font-medium\">{cert.name}</h3>\r\n                      <div className={`px-2 py-1 rounded-full text-xs font-medium ${getCertificationStatusColor(cert.status)}`}>\r\n                        {cert.status.charAt(0).toUpperCase() + cert.status.slice(1)}\r\n                      </div>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 mb-2\">{cert.issuer}</p>\r\n                    <div className=\"flex items-center gap-4 text-sm text-gray-600\">\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <Calendar className=\"h-3 w-3\" />\r\n                        <span>Issued: {formatDate(cert.issueDate)}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <Calendar className=\"h-3 w-3\" />\r\n                        <span>Expires: {formatDate(cert.expiryDate)}</span>\r\n                      </div>\r\n                    </div>\r\n                    {isExpiringSoon(cert.expiryDate) && (\r\n                      <div className=\"flex items-center gap-1 mt-2 text-sm text-yellow-700\">\r\n                        <AlertTriangle className=\"h-3 w-3\" />\r\n                        <span>Expires within 30 days</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center gap-2 ml-4\">\r\n                <button \r\n                  title=\"View certificate details\" \r\n                  className=\"p-2 text-gray-400 hover:text-blue-600 transition-colors\"\r\n                >\r\n                  <FileText className=\"h-4 w-4\" />\r\n                </button>\r\n                <button \r\n                  title=\"Download certificate\" \r\n                  onClick={() => onDownloadCertificate(cert.id)}\r\n                  className=\"p-2 text-gray-400 hover:text-green-600 transition-colors\"\r\n                >\r\n                  <Download className=\"h-4 w-4\" />\r\n                </button>\r\n                <button \r\n                  title=\"Delete certificate\" \r\n                  onClick={() => onDeleteCertification(cert.id)}\r\n                  className=\"p-2 text-gray-400 hover:text-red-600 transition-colors\"\r\n                >\r\n                  <Trash2 className=\"h-4 w-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Upload Modal */}\r\n      {showUploadModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md mx-4\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold\">Upload Certificate</h3>\r\n              <button \r\n                onClick={() => setShowUploadModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n                title=\"Close upload modal\"\r\n              >\r\n                <X className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label htmlFor=\"cert-name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Certificate Name <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <input\r\n                  id=\"cert-name\"\r\n                  type=\"text\"\r\n                  value={uploadForm.name}\r\n                  onChange={(e) => setUploadForm(prev => ({ ...prev, name: e.target.value }))}\r\n                  className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  placeholder=\"e.g., AWS Solutions Architect\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"cert-issuer\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Issuing Organization <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <input\r\n                  id=\"cert-issuer\"\r\n                  type=\"text\"\r\n                  value={uploadForm.issuer}\r\n                  onChange={(e) => setUploadForm(prev => ({ ...prev, issuer: e.target.value }))}\r\n                  className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  placeholder=\"e.g., Amazon Web Services\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label htmlFor=\"cert-issue-date\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Issue Date <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <input\r\n                    id=\"cert-issue-date\"\r\n                    type=\"date\"\r\n                    value={uploadForm.issueDate}\r\n                    onChange={(e) => setUploadForm(prev => ({ ...prev, issueDate: e.target.value }))}\r\n                    className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"cert-expiry-date\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Expiry Date <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <input\r\n                    id=\"cert-expiry-date\"\r\n                    type=\"date\"\r\n                    value={uploadForm.expiryDate}\r\n                    onChange={(e) => setUploadForm(prev => ({ ...prev, expiryDate: e.target.value }))}\r\n                    className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"cert-file\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Certificate File <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <input\r\n                  id=\"cert-file\"\r\n                  type=\"file\"\r\n                  accept=\".pdf,.jpg,.jpeg,.png\"\r\n                  onChange={handleFileChange}\r\n                  className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  required\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  Supported formats: PDF, JPG, PNG (max 10MB)\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"flex gap-3 pt-4\">\r\n                <button\r\n                  onClick={handleUploadSubmit}\r\n                  disabled={!isFormValid || isUploading}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                >\r\n                  {isUploading ? (\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\" />\r\n                  ) : (\r\n                    <Upload className=\"h-4 w-4\" />\r\n                  )}\r\n                  {isUploading ? 'Uploading...' : 'Upload Certificate'}\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowUploadModal(false)}\r\n                  disabled={isUploading}\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3375, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/RecentActivity.tsx"],"sourcesContent":["/**\r\n * @fileoverview Recent Activity Component - User activity logs and system interactions\r\n * @module app/(dashboard)/profile/_components/RecentActivity\r\n * @category Profile - Components\r\n */\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { \r\n  Activity, \r\n  Calendar, \r\n  Clock, \r\n  Monitor, \r\n  Smartphone, \r\n  Globe, \r\n  FileText, \r\n  User, \r\n  Settings, \r\n  Download,\r\n  Filter,\r\n  ChevronDown,\r\n  MapPin\r\n} from 'lucide-react';\r\n\r\ninterface ActivityItem {\r\n  id: string;\r\n  action: string;\r\n  resource: string;\r\n  timestamp: string;\r\n  device: string;\r\n  ipAddress: string;\r\n  location?: string;\r\n  userAgent?: string;\r\n  outcome: 'success' | 'failure' | 'warning';\r\n}\r\n\r\ninterface RecentActivityProps {\r\n  activities: ActivityItem[];\r\n  onExportActivity: (timeframe: string) => Promise<void>;\r\n  onRefreshActivity: () => Promise<void>;\r\n  isLoading?: boolean;\r\n}\r\n\r\nexport function RecentActivity({\r\n  activities,\r\n  onExportActivity,\r\n  onRefreshActivity,\r\n  isLoading = false\r\n}: RecentActivityProps) {\r\n  const [selectedTimeframe, setSelectedTimeframe] = useState('7');\r\n  const [selectedFilter, setSelectedFilter] = useState('all');\r\n  const [showFilters, setShowFilters] = useState(false);\r\n\r\n  // Helper functions\r\n  const formatDateTime = (dateString: string) => {\r\n    return new Date(dateString).toLocaleString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const getRelativeTime = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\r\n    \r\n    if (diffInMinutes < 1) return 'Just now';\r\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\r\n    \r\n    const diffInHours = Math.floor(diffInMinutes / 60);\r\n    if (diffInHours < 24) return `${diffInHours}h ago`;\r\n    \r\n    const diffInDays = Math.floor(diffInHours / 24);\r\n    if (diffInDays < 7) return `${diffInDays}d ago`;\r\n    \r\n    return formatDateTime(dateString);\r\n  };\r\n\r\n  const getDeviceIcon = (device: string) => {\r\n    const deviceLower = device.toLowerCase();\r\n    if (deviceLower.includes('mobile') || deviceLower.includes('phone')) {\r\n      return <Smartphone className=\"h-4 w-4\" />;\r\n    }\r\n    if (deviceLower.includes('tablet') || deviceLower.includes('ipad')) {\r\n      return <Monitor className=\"h-4 w-4\" />;\r\n    }\r\n    return <Monitor className=\"h-4 w-4\" />;\r\n  };\r\n\r\n  const getActivityIcon = (action: string) => {\r\n    const actionLower = action.toLowerCase();\r\n    if (actionLower.includes('login') || actionLower.includes('signin')) {\r\n      return <User className=\"h-4 w-4 text-green-600\" />;\r\n    }\r\n    if (actionLower.includes('logout') || actionLower.includes('signout')) {\r\n      return <User className=\"h-4 w-4 text-orange-600\" />;\r\n    }\r\n    if (actionLower.includes('download') || actionLower.includes('export')) {\r\n      return <Download className=\"h-4 w-4 text-blue-600\" />;\r\n    }\r\n    if (actionLower.includes('settings') || actionLower.includes('config')) {\r\n      return <Settings className=\"h-4 w-4 text-purple-600\" />;\r\n    }\r\n    if (actionLower.includes('view') || actionLower.includes('access')) {\r\n      return <FileText className=\"h-4 w-4 text-gray-600\" />;\r\n    }\r\n    return <Activity className=\"h-4 w-4 text-blue-600\" />;\r\n  };\r\n\r\n  const getOutcomeColor = (outcome: string) => {\r\n    switch (outcome) {\r\n      case 'success':\r\n        return 'text-green-600';\r\n      case 'failure':\r\n        return 'text-red-600';\r\n      case 'warning':\r\n        return 'text-yellow-600';\r\n      default:\r\n        return 'text-gray-600';\r\n    }\r\n  };\r\n\r\n  const getOutcomeBadge = (outcome: string) => {\r\n    switch (outcome) {\r\n      case 'success':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'failure':\r\n        return 'bg-red-100 text-red-800';\r\n      case 'warning':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  // Filter activities\r\n  const filteredActivities = activities.filter(activity => {\r\n    if (selectedFilter === 'all') return true;\r\n    if (selectedFilter === 'success') return activity.outcome === 'success';\r\n    if (selectedFilter === 'failure') return activity.outcome === 'failure';\r\n    if (selectedFilter === 'warning') return activity.outcome === 'warning';\r\n    return true;\r\n  });\r\n\r\n  // Group activities by date\r\n  const groupedActivities = filteredActivities.reduce((groups, activity) => {\r\n    const date = new Date(activity.timestamp).toDateString();\r\n    if (!groups[date]) {\r\n      groups[date] = [];\r\n    }\r\n    groups[date].push(activity);\r\n    return groups;\r\n  }, {} as Record<string, ActivityItem[]>);\r\n\r\n  const handleExport = async () => {\r\n    try {\r\n      await onExportActivity(selectedTimeframe);\r\n    } catch (error) {\r\n      console.error('Failed to export activity:', error);\r\n      // Error handling is managed by parent component\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Activity className=\"h-5 w-5 text-gray-600\" />\r\n          <h2 className=\"text-lg font-semibold\">Recent Activity</h2>\r\n          <div className=\"ml-2 text-sm text-gray-500\">\r\n            ({filteredActivities.length} items)\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-2\">\r\n          {/* Filter Toggle */}\r\n          <button\r\n            onClick={() => setShowFilters(!showFilters)}\r\n            className=\"px-3 py-1 border border-gray-300 text-gray-700 rounded text-sm hover:bg-gray-50 transition-colors flex items-center gap-1\"\r\n            title=\"Toggle filters\"\r\n          >\r\n            <Filter className=\"h-3 w-3\" />\r\n            Filters\r\n            <ChevronDown className={`h-3 w-3 transition-transform ${showFilters ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Export Button */}\r\n          <button \r\n            onClick={handleExport}\r\n            disabled={isLoading}\r\n            className=\"px-3 py-1 border border-gray-300 text-gray-700 rounded text-sm hover:bg-gray-50 transition-colors disabled:opacity-50 flex items-center gap-1\"\r\n          >\r\n            <Download className=\"h-3 w-3\" />\r\n            Export\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters Panel */}\r\n      {showFilters && (\r\n        <div className=\"mb-4 p-4 bg-gray-50 rounded-lg\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label htmlFor=\"timeframe-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Timeframe\r\n              </label>\r\n              <select\r\n                id=\"timeframe-select\"\r\n                value={selectedTimeframe}\r\n                onChange={(e) => setSelectedTimeframe(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"1\">Last 24 hours</option>\r\n                <option value=\"7\">Last 7 days</option>\r\n                <option value=\"30\">Last 30 days</option>\r\n                <option value=\"90\">Last 90 days</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor=\"filter-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Activity Type\r\n              </label>\r\n              <select\r\n                id=\"filter-select\"\r\n                value={selectedFilter}\r\n                onChange={(e) => setSelectedFilter(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"all\">All Activities</option>\r\n                <option value=\"success\">Successful Actions</option>\r\n                <option value=\"failure\">Failed Actions</option>\r\n                <option value=\"warning\">Warnings</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Activity Summary */}\r\n      {filteredActivities.length > 0 && (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6\">\r\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\r\n                <Activity className=\"h-4 w-4 text-green-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-green-900\">\r\n                  {activities.filter(a => a.outcome === 'success').length}\r\n                </div>\r\n                <div className=\"text-sm text-green-700\">Successful</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center\">\r\n                <Activity className=\"h-4 w-4 text-red-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-red-900\">\r\n                  {activities.filter(a => a.outcome === 'failure').length}\r\n                </div>\r\n                <div className=\"text-sm text-red-700\">Failed</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center\">\r\n                <Activity className=\"h-4 w-4 text-yellow-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-yellow-900\">\r\n                  {activities.filter(a => a.outcome === 'warning').length}\r\n                </div>\r\n                <div className=\"text-sm text-yellow-700\">Warnings</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Activity List */}\r\n      {isLoading ? (\r\n        <div className=\"flex items-center justify-center py-8\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n          <span className=\"ml-3 text-gray-600\">Loading activity...</span>\r\n        </div>\r\n      ) : filteredActivities.length === 0 ? (\r\n        <div className=\"text-center py-8\">\r\n          <Activity className=\"h-12 w-12 text-gray-300 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Activity Found</h3>\r\n          <p className=\"text-gray-600\">No recent activity matches your current filters.</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          {Object.entries(groupedActivities)\r\n            .sort(([a], [b]) => new Date(b).getTime() - new Date(a).getTime())\r\n            .map(([date, dateActivities]) => (\r\n              <div key={date}>\r\n                <div className=\"flex items-center gap-2 mb-3\">\r\n                  <Calendar className=\"h-4 w-4 text-gray-500\" />\r\n                  <h3 className=\"text-sm font-medium text-gray-700\">\r\n                    {new Date(date).toLocaleDateString('en-US', { \r\n                      weekday: 'long', \r\n                      year: 'numeric', \r\n                      month: 'long', \r\n                      day: 'numeric' \r\n                    })}\r\n                  </h3>\r\n                  <div className=\"flex-1 border-t border-gray-200\"></div>\r\n                </div>\r\n                \r\n                <div className=\"space-y-3\">\r\n                  {dateActivities\r\n                    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())\r\n                    .map((activity) => (\r\n                      <div key={activity.id} className=\"flex items-start gap-4 p-3 hover:bg-gray-50 rounded-lg transition-colors\">\r\n                        <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${getOutcomeColor(activity.outcome)} bg-opacity-10`}>\r\n                          {getActivityIcon(activity.action)}\r\n                        </div>\r\n                        \r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"flex items-start justify-between\">\r\n                            <div className=\"flex-1\">\r\n                              <div className=\"flex items-center gap-2 mb-1\">\r\n                                <h4 className=\"font-medium text-gray-900\">{activity.action}</h4>\r\n                                <div className={`px-2 py-1 rounded-full text-xs font-medium ${getOutcomeBadge(activity.outcome)}`}>\r\n                                  {activity.outcome.charAt(0).toUpperCase() + activity.outcome.slice(1)}\r\n                                </div>\r\n                              </div>\r\n                              <p className=\"text-sm text-gray-600 mb-2\">{activity.resource}</p>\r\n                              \r\n                              <div className=\"flex items-center gap-4 text-xs text-gray-500\">\r\n                                <div className=\"flex items-center gap-1\">\r\n                                  <Clock className=\"h-3 w-3\" />\r\n                                  <span>{getRelativeTime(activity.timestamp)}</span>\r\n                                </div>\r\n                                \r\n                                <div className=\"flex items-center gap-1\">\r\n                                  {getDeviceIcon(activity.device)}\r\n                                  <span>{activity.device}</span>\r\n                                </div>\r\n                                \r\n                                <div className=\"flex items-center gap-1\">\r\n                                  <Globe className=\"h-3 w-3\" />\r\n                                  <span>IP: {activity.ipAddress}</span>\r\n                                </div>\r\n                                \r\n                                {activity.location && (\r\n                                  <div className=\"flex items-center gap-1\">\r\n                                    <MapPin className=\"h-3 w-3\" />\r\n                                    <span>{activity.location}</span>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            <div className=\"text-right text-xs text-gray-500 ml-4\">\r\n                              {formatDateTime(activity.timestamp)}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  }\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n      )}\r\n\r\n      {/* Load More */}\r\n      {!isLoading && filteredActivities.length > 0 && (\r\n        <div className=\"mt-6 text-center\">\r\n          <button \r\n            onClick={onRefreshActivity}\r\n            className=\"px-4 py-2 text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors\"\r\n          >\r\n            View All Activity\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4291, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/Preferences.tsx"],"sourcesContent":["/**\r\n * @fileoverview Preferences Component - User preferences and settings management\r\n * @module app/(dashboard)/profile/_components/Preferences\r\n * @category Profile - Components\r\n */\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Settings, Bell, Monitor, Globe, Save, RotateCcw } from 'lucide-react';\r\n\r\ninterface UserPreferences {\r\n  emailNotifications: boolean;\r\n  smsNotifications: boolean;\r\n  desktopNotifications: boolean;\r\n  marketingEmails: boolean;\r\n  securityAlerts: boolean;\r\n  language: string;\r\n  timezone: string;\r\n  theme: 'light' | 'dark' | 'auto';\r\n  dateFormat: string;\r\n  timeFormat: '12h' | '24h';\r\n  currency: string;\r\n  autoSave: boolean;\r\n  defaultView: string;\r\n  itemsPerPage: number;\r\n}\r\n\r\ninterface PreferencesProps {\r\n  preferences: UserPreferences;\r\n  onUpdatePreferences: (preferences: UserPreferences) => Promise<void>;\r\n  isUpdating?: boolean;\r\n}\r\n\r\nexport function Preferences({\r\n  preferences,\r\n  onUpdatePreferences,\r\n  isUpdating = false\r\n}: PreferencesProps) {\r\n  const [formData, setFormData] = useState<UserPreferences>({ ...preferences });\r\n  const [hasChanges, setHasChanges] = useState(false);\r\n\r\n  // Handle input changes\r\n  const handleToggle = (field: keyof UserPreferences) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: !prev[field]\r\n    }));\r\n    setHasChanges(true);\r\n  };\r\n\r\n  const handleSelectChange = (field: keyof UserPreferences, value: string | number) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    setHasChanges(true);\r\n  };\r\n\r\n  // Save preferences\r\n  const handleSave = async () => {\r\n    try {\r\n      await onUpdatePreferences(formData);\r\n      setHasChanges(false);\r\n    } catch (error) {\r\n      console.error('Failed to save preferences:', error);\r\n      // Error handling is managed by parent component\r\n    }\r\n  };\r\n\r\n  // Reset to original preferences\r\n  const handleReset = () => {\r\n    setFormData({ ...preferences });\r\n    setHasChanges(false);\r\n  };\r\n\r\n  // Timezone options\r\n  const timezones = [\r\n    { value: 'America/New_York', label: 'Eastern Time (ET)' },\r\n    { value: 'America/Chicago', label: 'Central Time (CT)' },\r\n    { value: 'America/Denver', label: 'Mountain Time (MT)' },\r\n    { value: 'America/Los_Angeles', label: 'Pacific Time (PT)' },\r\n    { value: 'America/Phoenix', label: 'Arizona Time (MST)' },\r\n    { value: 'America/Anchorage', label: 'Alaska Time (AKST)' },\r\n    { value: 'Pacific/Honolulu', label: 'Hawaii Time (HST)' },\r\n    { value: 'UTC', label: 'UTC' }\r\n  ];\r\n\r\n  // Language options\r\n  const languages = [\r\n    { value: 'en-US', label: 'English (US)' },\r\n    { value: 'en-GB', label: 'English (UK)' },\r\n    { value: 'es-ES', label: 'Espaol (Spain)' },\r\n    { value: 'es-MX', label: 'Espaol (Mexico)' },\r\n    { value: 'fr-FR', label: 'Franais' },\r\n    { value: 'de-DE', label: 'Deutsch' },\r\n    { value: 'it-IT', label: 'Italiano' },\r\n    { value: 'pt-BR', label: 'Portugus (Brasil)' },\r\n    { value: 'zh-CN', label: ' ()' },\r\n    { value: 'ja-JP', label: '' }\r\n  ];\r\n\r\n  // Currency options\r\n  const currencies = [\r\n    { value: 'USD', label: 'US Dollar ($)' },\r\n    { value: 'EUR', label: 'Euro ()' },\r\n    { value: 'GBP', label: 'British Pound ()' },\r\n    { value: 'JPY', label: 'Japanese Yen ()' },\r\n    { value: 'CAD', label: 'Canadian Dollar (C$)' },\r\n    { value: 'AUD', label: 'Australian Dollar (A$)' },\r\n    { value: 'CHF', label: 'Swiss Franc (CHF)' },\r\n    { value: 'CNY', label: 'Chinese Yuan ()' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-6\">\r\n      <div className=\"flex items-center gap-2 mb-6\">\r\n        <Settings className=\"h-5 w-5 text-gray-600\" />\r\n        <h2 className=\"text-lg font-semibold\">Preferences</h2>\r\n      </div>\r\n\r\n      <div className=\"space-y-8\">\r\n        {/* Notification Settings */}\r\n        <div>\r\n          <h3 className=\"font-medium mb-4 flex items-center gap-2\">\r\n            <Bell className=\"h-4 w-4 text-gray-600\" />\r\n            Notification Settings\r\n          </h3>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium\">Email Notifications</div>\r\n                <div className=\"text-sm text-gray-600\">Receive updates and alerts via email</div>\r\n              </div>\r\n              <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.emailNotifications}\r\n                  onChange={() => handleToggle('emailNotifications')}\r\n                  className=\"sr-only peer\"\r\n                  aria-label=\"Toggle email notifications\"\r\n                />\r\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium\">SMS Notifications</div>\r\n                <div className=\"text-sm text-gray-600\">Receive important alerts via text message</div>\r\n              </div>\r\n              <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.smsNotifications}\r\n                  onChange={() => handleToggle('smsNotifications')}\r\n                  className=\"sr-only peer\"\r\n                  aria-label=\"Toggle SMS notifications\"\r\n                />\r\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium\">Desktop Notifications</div>\r\n                <div className=\"text-sm text-gray-600\">Show browser push notifications</div>\r\n              </div>\r\n              <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.desktopNotifications}\r\n                  onChange={() => handleToggle('desktopNotifications')}\r\n                  className=\"sr-only peer\"\r\n                  aria-label=\"Toggle desktop notifications\"\r\n                />\r\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium\">Marketing Emails</div>\r\n                <div className=\"text-sm text-gray-600\">Receive product updates and newsletters</div>\r\n              </div>\r\n              <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.marketingEmails}\r\n                  onChange={() => handleToggle('marketingEmails')}\r\n                  className=\"sr-only peer\"\r\n                  aria-label=\"Toggle marketing emails\"\r\n                />\r\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium\">Security Alerts</div>\r\n                <div className=\"text-sm text-gray-600\">Important security notifications (recommended)</div>\r\n              </div>\r\n              <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.securityAlerts}\r\n                  onChange={() => handleToggle('securityAlerts')}\r\n                  className=\"sr-only peer\"\r\n                  aria-label=\"Toggle security alerts\"\r\n                />\r\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Display & Localization */}\r\n        <div>\r\n          <h3 className=\"font-medium mb-4 flex items-center gap-2\">\r\n            <Globe className=\"h-4 w-4 text-gray-600\" />\r\n            Display & Localization\r\n          </h3>\r\n          <div className=\"grid gap-4 md:grid-cols-2\">\r\n            <div>\r\n              <label htmlFor=\"language-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Language\r\n              </label>\r\n              <select\r\n                id=\"language-select\"\r\n                value={formData.language}\r\n                onChange={(e) => handleSelectChange('language', e.target.value)}\r\n                className=\"w-full p-3 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                {languages.map(lang => (\r\n                  <option key={lang.value} value={lang.value}>{lang.label}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"timezone-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Timezone\r\n              </label>\r\n              <select\r\n                id=\"timezone-select\"\r\n                value={formData.timezone}\r\n                onChange={(e) => handleSelectChange('timezone', e.target.value)}\r\n                className=\"w-full p-3 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                {timezones.map(tz => (\r\n                  <option key={tz.value} value={tz.value}>{tz.label}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"theme-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Theme\r\n              </label>\r\n              <select\r\n                id=\"theme-select\"\r\n                value={formData.theme}\r\n                onChange={(e) => handleSelectChange('theme', e.target.value)}\r\n                className=\"w-full p-3 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"light\">Light</option>\r\n                <option value=\"dark\">Dark</option>\r\n                <option value=\"auto\">Auto (System)</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"currency-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Currency\r\n              </label>\r\n              <select\r\n                id=\"currency-select\"\r\n                value={formData.currency}\r\n                onChange={(e) => handleSelectChange('currency', e.target.value)}\r\n                className=\"w-full p-3 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                {currencies.map(curr => (\r\n                  <option key={curr.value} value={curr.value}>{curr.label}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"date-format-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Date Format\r\n              </label>\r\n              <select\r\n                id=\"date-format-select\"\r\n                value={formData.dateFormat}\r\n                onChange={(e) => handleSelectChange('dateFormat', e.target.value)}\r\n                className=\"w-full p-3 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"MM/DD/YYYY\">MM/DD/YYYY</option>\r\n                <option value=\"DD/MM/YYYY\">DD/MM/YYYY</option>\r\n                <option value=\"YYYY-MM-DD\">YYYY-MM-DD</option>\r\n                <option value=\"DD MMM YYYY\">DD MMM YYYY</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"time-format-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Time Format\r\n              </label>\r\n              <select\r\n                id=\"time-format-select\"\r\n                value={formData.timeFormat}\r\n                onChange={(e) => handleSelectChange('timeFormat', e.target.value)}\r\n                className=\"w-full p-3 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"12h\">12 Hour (AM/PM)</option>\r\n                <option value=\"24h\">24 Hour</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Application Settings */}\r\n        <div>\r\n          <h3 className=\"font-medium mb-4 flex items-center gap-2\">\r\n            <Monitor className=\"h-4 w-4 text-gray-600\" />\r\n            Application Settings\r\n          </h3>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium\">Auto-save</div>\r\n                <div className=\"text-sm text-gray-600\">Automatically save changes as you work</div>\r\n              </div>\r\n              <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.autoSave}\r\n                  onChange={() => handleToggle('autoSave')}\r\n                  className=\"sr-only peer\"\r\n                  aria-label=\"Toggle auto-save\"\r\n                />\r\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n              <div>\r\n                <label htmlFor=\"default-view-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Default View\r\n                </label>\r\n                <select\r\n                  id=\"default-view-select\"\r\n                  value={formData.defaultView}\r\n                  onChange={(e) => handleSelectChange('defaultView', e.target.value)}\r\n                  className=\"w-full p-3 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"dashboard\">Dashboard</option>\r\n                  <option value=\"documents\">Documents</option>\r\n                  <option value=\"reports\">Reports</option>\r\n                  <option value=\"settings\">Settings</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"items-per-page-select\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Items Per Page\r\n                </label>\r\n                <select\r\n                  id=\"items-per-page-select\"\r\n                  value={formData.itemsPerPage}\r\n                  onChange={(e) => handleSelectChange('itemsPerPage', parseInt(e.target.value))}\r\n                  className=\"w-full p-3 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  <option value={10}>10</option>\r\n                  <option value={25}>25</option>\r\n                  <option value={50}>50</option>\r\n                  <option value={100}>100</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Buttons */}\r\n      {hasChanges && (\r\n        <div className=\"mt-8 pt-6 border-t border-gray-200\">\r\n          <div className=\"flex justify-between\">\r\n            <button\r\n              onClick={handleReset}\r\n              disabled={isUpdating}\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 flex items-center gap-2\"\r\n            >\r\n              <RotateCcw className=\"h-4 w-4\" />\r\n              Reset Changes\r\n            </button>\r\n            \r\n            <button\r\n              onClick={handleSave}\r\n              disabled={isUpdating}\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n            >\r\n              {isUpdating ? (\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\" />\r\n              ) : (\r\n                <Save className=\"h-4 w-4\" />\r\n              )}\r\n              {isUpdating ? 'Saving...' : 'Save Preferences'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {!hasChanges && (\r\n        <div className=\"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-600\">\r\n          Your preferences are up to date\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5433, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/%28dashboard%29/settings/profile/_components/ProfileContent.tsx"],"sourcesContent":["/**\r\n * @fileoverview Profile Content Component - Orchestrator for modular profile components\r\n * @module app/(dashboard)/profile/_components/ProfileContent\r\n * @category Profile - Components\r\n */\r\n\r\n'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { AlertTriangle } from 'lucide-react';\r\n\r\n// Import server actions\r\nimport { \r\n  getCurrentUserProfile, \r\n  getProfileSettings,\r\n  getSecurityLogs,\r\n  getActiveSessions,\r\n  updateProfileFromForm,\r\n  changePasswordFromForm,\r\n  uploadAvatarAction,\r\n  enableTwoFactorAction,\r\n  disableTwoFactorAction,\r\n  type UserProfile,\r\n  type ProfileSettings,\r\n  type SecurityLog,\r\n  type ActiveSession\r\n} from '@/lib/actions/profile.actions';\r\n\r\n// Import modular components\r\nimport { ProfileHeader } from './ProfileHeader';\r\nimport { PersonalInformation } from './PersonalInformation';\r\nimport { ContactInformation } from './ContactInformation';\r\nimport { EmergencyContact } from './EmergencyContact';\r\nimport { SecuritySettings } from './SecuritySettings';\r\nimport { Certifications } from './Certifications';\r\nimport { RecentActivity } from './RecentActivity';\r\nimport { Preferences } from './Preferences';\r\n\r\ninterface ProfileContentProps {\r\n  searchParams: { [key: string]: string | string[] | undefined };\r\n}\r\n\r\nexport function ProfileContent({ }: ProfileContentProps) {\r\n  // Profile data state\r\n  const [profile, setProfile] = useState<UserProfile | null>(null);\r\n  const [settings, setSettings] = useState<ProfileSettings | null>(null);\r\n  const [securityLogs, setSecurityLogs] = useState<SecurityLog[]>([]);\r\n  const [sessions, setSessions] = useState<ActiveSession[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Loading states for different operations\r\n  const [isUpdatingProfile, setIsUpdatingProfile] = useState(false);\r\n  const [isUploadingAvatar, setIsUploadingAvatar] = useState(false);\r\n  const [isUpdatingPreferences, setIsUpdatingPreferences] = useState(false);\r\n\r\n  // Load profile data on component mount\r\n  useEffect(() => {\r\n    const loadProfileData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        // Load all profile data concurrently\r\n        const [profileData, settingsData, logsData, sessionsData] = await Promise.all([\r\n          getCurrentUserProfile(),\r\n          getProfileSettings('current'),\r\n          getSecurityLogs('current', 10),\r\n          getActiveSessions('current')\r\n        ]);\r\n\r\n        setProfile(profileData);\r\n        setSettings(settingsData);\r\n        setSecurityLogs(logsData);\r\n        setSessions(sessionsData);\r\n      } catch (err) {\r\n        console.error('Failed to load profile data:', err);\r\n        setError('Failed to load profile data. Please refresh the page.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadProfileData();\r\n  }, []);\r\n\r\n  // Handler functions for child components\r\n  const handleEditProfile = () => {\r\n    // Open edit mode or navigate to edit page\r\n    console.log('Edit profile clicked');\r\n  };\r\n\r\n  const handleUploadAvatar = async (file: File) => {\r\n    if (!profile) return;\r\n    \r\n    try {\r\n      setIsUploadingAvatar(true);\r\n      const result = await uploadAvatarAction(profile.userId, file);\r\n      \r\n      if (result.success && result.data) {\r\n        setProfile(prev => prev ? { ...prev, profileImage: result.data.profileImage } : null);\r\n      } else {\r\n        setError(result.error || 'Failed to upload avatar');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to upload avatar. Please try again.');\r\n    } finally {\r\n      setIsUploadingAvatar(false);\r\n    }\r\n  };\r\n\r\n  const handleExportData = async () => {\r\n    // Implement data export functionality\r\n    console.log('Export data clicked');\r\n  };\r\n\r\n  const handleUpdatePersonalInfo = async (info: Partial<{ \r\n    firstName: string; \r\n    lastName: string; \r\n    title: string; \r\n    department: string; \r\n  }>) => {\r\n    if (!profile) return;\r\n    \r\n    try {\r\n      setIsUpdatingProfile(true);\r\n      const formData = new FormData();\r\n      Object.entries(info).forEach(([key, value]) => {\r\n        formData.append(key, value);\r\n      });\r\n      \r\n      const result = await updateProfileFromForm(profile.userId, formData);\r\n      \r\n      if (result.success && result.data) {\r\n        setProfile(result.data);\r\n      } else {\r\n        setError(result.error || 'Failed to update personal information');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to update personal information. Please try again.');\r\n    } finally {\r\n      setIsUpdatingProfile(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateContact = async (contactData: {\r\n    email: string;\r\n    phone: string;\r\n    address: { street: string; city: string; state: string; zipCode: string };\r\n  }) => {\r\n    if (!profile) return;\r\n    \r\n    try {\r\n      setIsUpdatingProfile(true);\r\n      const formData = new FormData();\r\n      formData.append('email', contactData.email);\r\n      formData.append('phone', contactData.phone);\r\n      formData.append('address', JSON.stringify(contactData.address));\r\n      \r\n      const result = await updateProfileFromForm(profile.userId, formData);\r\n      \r\n      if (result.success && result.data) {\r\n        setProfile(result.data);\r\n      } else {\r\n        setError(result.error || 'Failed to update contact information');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to update contact information. Please try again.');\r\n    } finally {\r\n      setIsUpdatingProfile(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateEmergencyContact = async (contactData: {\r\n    name: string;\r\n    relationship: string;\r\n    phone: string;\r\n  }) => {\r\n    if (!profile) return;\r\n    \r\n    try {\r\n      setIsUpdatingProfile(true);\r\n      const formData = new FormData();\r\n      formData.append('emergencyContact', JSON.stringify(contactData));\r\n      \r\n      const result = await updateProfileFromForm(profile.userId, formData);\r\n      \r\n      if (result.success && result.data) {\r\n        setProfile(result.data);\r\n      } else {\r\n        setError(result.error || 'Failed to update emergency contact');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to update emergency contact. Please try again.');\r\n    } finally {\r\n      setIsUpdatingProfile(false);\r\n    }\r\n  };\r\n\r\n  const handleChangePassword = async (userId: string, currentPassword: string, newPassword: string): Promise<boolean> => {\r\n    try {\r\n      setIsUpdatingProfile(true);\r\n      const formData = new FormData();\r\n      formData.append('currentPassword', currentPassword);\r\n      formData.append('newPassword', newPassword);\r\n      \r\n      const result = await changePasswordFromForm(userId, formData);\r\n      \r\n      if (result.success) {\r\n        setError(null);\r\n        return true;\r\n      } else {\r\n        setError(result.error || 'Failed to change password');\r\n        return false;\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to change password. Please try again.');\r\n      return false;\r\n    } finally {\r\n      setIsUpdatingProfile(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleTwoFactor = async () => {\r\n    if (!profile) return;\r\n    \r\n    try {\r\n      setIsUpdatingProfile(true);\r\n      const result = profile.security.twoFactorEnabled \r\n        ? await disableTwoFactorAction(profile.userId)\r\n        : await enableTwoFactorAction(profile.userId);\r\n      \r\n      if (result.success) {\r\n        // Reload profile to get updated 2FA status\r\n        const updatedProfile = await getCurrentUserProfile();\r\n        if (updatedProfile) {\r\n          setProfile(updatedProfile);\r\n        }\r\n      } else {\r\n        setError(result.error || 'Failed to update two-factor authentication');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to update two-factor authentication. Please try again.');\r\n    } finally {\r\n      setIsUpdatingProfile(false);\r\n    }\r\n  };\r\n\r\n  const handleUploadCertificate = async (file: File, metadata: {\r\n    name: string;\r\n    issuer: string;\r\n    issueDate: string;\r\n    expiryDate: string;\r\n  }) => {\r\n    // Mock implementation - replace with actual certificate upload logic\r\n    console.log('Upload certificate:', file, metadata);\r\n  };\r\n\r\n  const handleDeleteCertification = async (id: string) => {\r\n    // Mock implementation - replace with actual deletion logic\r\n    console.log('Delete certification:', id);\r\n  };\r\n\r\n  const handleDownloadCertificate = async (id: string) => {\r\n    // Mock implementation - replace with actual download logic\r\n    console.log('Download certificate:', id);\r\n  };\r\n\r\n  const handleExportActivity = async (timeframe: string) => {\r\n    // Mock implementation - replace with actual export logic\r\n    console.log('Export activity:', timeframe);\r\n  };\r\n\r\n  const handleRefreshActivity = async () => {\r\n    // Mock implementation - replace with actual refresh logic\r\n    console.log('Refresh activity');\r\n  };\r\n\r\n  const handleUpdatePreferences = async (preferences: {\r\n    emailNotifications: boolean;\r\n    smsNotifications: boolean;\r\n    desktopNotifications: boolean;\r\n    marketingEmails: boolean;\r\n    securityAlerts: boolean;\r\n    language: string;\r\n    timezone: string;\r\n    theme: 'light' | 'dark' | 'auto';\r\n    dateFormat: string;\r\n    timeFormat: '12h' | '24h';\r\n    currency: string;\r\n    autoSave: boolean;\r\n    defaultView: string;\r\n    itemsPerPage: number;\r\n  }) => {\r\n    if (!profile) return;\r\n    \r\n    try {\r\n      setIsUpdatingPreferences(true);\r\n      // Mock implementation - replace with actual preferences update logic\r\n      console.log('Update preferences:', preferences);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('Failed to update preferences. Please try again.');\r\n    } finally {\r\n      setIsUpdatingPreferences(false);\r\n    }\r\n  };\r\n\r\n  // Loading state\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n        <span className=\"ml-3 text-gray-600\">Loading profile...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error state\r\n  if (error && !profile) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"text-center\">\r\n          <AlertTriangle className=\"h-12 w-12 text-red-600 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Error Loading Profile</h3>\r\n          <p className=\"text-gray-600 mb-4\">{error}</p>\r\n          <button\r\n            onClick={() => window.location.reload()}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!profile) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <p className=\"text-gray-600\">No profile data available.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Error Display */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n          <div className=\"flex\">\r\n            <AlertTriangle className=\"h-5 w-5 text-red-400\" />\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm text-red-800\">{error}</p>\r\n            </div>\r\n            <button \r\n              onClick={() => setError(null)}\r\n              className=\"ml-auto text-red-400 hover:text-red-600\"\r\n            >\r\n              <span className=\"sr-only\">Dismiss</span>\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Profile Header */}\r\n      <ProfileHeader\r\n        profile={{\r\n          firstName: profile.firstName,\r\n          lastName: profile.lastName,\r\n          title: profile.title || '',\r\n          department: profile.department || '',\r\n          employeeId: profile.employeeId,\r\n          hireDate: profile.hireDate,\r\n          lastLogin: profile.lastLogin,\r\n          profileImage: profile.profileImage\r\n        }}\r\n        onEditProfile={handleEditProfile}\r\n        onUploadAvatar={handleUploadAvatar}\r\n        onExportData={handleExportData}\r\n        isUploading={isUploadingAvatar}\r\n      />\r\n\r\n      <div className=\"grid gap-6 lg:grid-cols-2\">\r\n        {/* Personal Information */}\r\n        <PersonalInformation\r\n          personalInfo={{\r\n            firstName: profile.firstName,\r\n            lastName: profile.lastName,\r\n            title: profile.title || '',\r\n            department: profile.department || '',\r\n            employeeId: profile.employeeId,\r\n            hireDate: profile.hireDate\r\n          }}\r\n          onUpdatePersonalInfo={handleUpdatePersonalInfo}\r\n          isUpdating={isUpdatingProfile}\r\n        />\r\n\r\n        {/* Contact Information */}\r\n        <ContactInformation\r\n          email={profile.email}\r\n          phone={profile.phone || ''}\r\n          address={profile.address}\r\n          onUpdateContact={handleUpdateContact}\r\n          isUpdating={isUpdatingProfile}\r\n        />\r\n\r\n        {/* Emergency Contact */}\r\n        <EmergencyContact\r\n          emergencyContact={profile.emergencyContact}\r\n          onUpdateEmergencyContact={handleUpdateEmergencyContact}\r\n          isUpdating={isUpdatingProfile}\r\n        />\r\n\r\n        {/* Security Settings */}\r\n        <SecuritySettings\r\n          profile={profile}\r\n          onPasswordChange={handleChangePassword}\r\n          onToggleTwoFactor={handleToggleTwoFactor}\r\n          disabled={isUpdatingProfile}\r\n        />\r\n      </div>\r\n\r\n      {/* Certifications */}\r\n      <Certifications\r\n        certifications={profile.certifications}\r\n        onUploadCertificate={handleUploadCertificate}\r\n        onDeleteCertification={handleDeleteCertification}\r\n        onDownloadCertificate={handleDownloadCertificate}\r\n        isUploading={false}\r\n      />\r\n\r\n      {/* Recent Activity */}\r\n      <RecentActivity\r\n        activities={profile.recentActivity.map(activity => ({\r\n          ...activity,\r\n          outcome: 'success' as const // Default to success if not present\r\n        }))}\r\n        onExportActivity={handleExportActivity}\r\n        onRefreshActivity={handleRefreshActivity}\r\n        isLoading={false}\r\n      />\r\n\r\n      {/* Preferences */}\r\n      <Preferences\r\n        preferences={{\r\n          emailNotifications: profile.preferences.emailNotifications,\r\n          smsNotifications: profile.preferences.smsNotifications,\r\n          desktopNotifications: profile.preferences.desktopNotifications,\r\n          marketingEmails: true, // Default values for missing fields\r\n          securityAlerts: true,\r\n          language: profile.preferences.language,\r\n          timezone: profile.preferences.timezone,\r\n          theme: profile.preferences.theme,\r\n          dateFormat: 'MM/DD/YYYY', // Default format\r\n          timeFormat: '12h' as const,\r\n          currency: 'USD', // Default currency\r\n          autoSave: true, // Default setting\r\n          defaultView: 'dashboard', // Default view\r\n          itemsPerPage: 25 // Default items per page\r\n        }}\r\n        onUpdatePreferences={handleUpdatePreferences}\r\n        isUpdating={isUpdatingPreferences}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}