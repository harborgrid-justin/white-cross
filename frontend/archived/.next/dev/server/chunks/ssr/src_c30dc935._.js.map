{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/hooks/useReducedMotion.ts"],"sourcesContent":["/**\r\n * useReducedMotion Hook\r\n *\r\n * Detects if the user has requested reduced motion via their OS settings.\r\n * Respects the prefers-reduced-motion media query for accessibility.\r\n *\r\n * @returns {boolean} True if reduced motion is preferred, false otherwise\r\n *\r\n * @example\r\n * ```tsx\r\n * const shouldReduceMotion = useReducedMotion();\r\n *\r\n * <motion.div\r\n *   animate={{ opacity: 1 }}\r\n *   transition={{ duration: shouldReduceMotion ? 0 : 0.3 }}\r\n * />\r\n * ```\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-reduced-motion\r\n * @wcag WCAG 2.1 Level AAA - 2.3.3 Animation from Interactions\r\n */\r\n\r\n'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useReducedMotion(): boolean {\r\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Check if we're in a browser environment\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    // Create media query\r\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\r\n\r\n    // Set initial value\r\n    setPrefersReducedMotion(mediaQuery.matches);\r\n\r\n    // Handler for when preference changes\r\n    const handleChange = (event: MediaQueryListEvent | MediaQueryList) => {\r\n      setPrefersReducedMotion(event.matches);\r\n    };\r\n\r\n    // Listen for changes\r\n    // Note: Safari < 14 uses addListener/removeListener\r\n    if (mediaQuery.addEventListener) {\r\n      mediaQuery.addEventListener('change', handleChange);\r\n    } else {\r\n      // Fallback for older browsers\r\n      mediaQuery.addListener(handleChange as (event: MediaQueryListEvent) => void);\r\n    }\r\n\r\n    // Cleanup\r\n    return () => {\r\n      if (mediaQuery.removeEventListener) {\r\n        mediaQuery.removeEventListener('change', handleChange);\r\n      } else {\r\n        // Fallback for older browsers\r\n        mediaQuery.removeListener(handleChange as (event: MediaQueryListEvent) => void);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return prefersReducedMotion;\r\n}\r\n\r\n/**\r\n * Get transition object based on reduced motion preference\r\n *\r\n * @param shouldReduceMotion - Whether to reduce motion\r\n * @param defaultDuration - Default animation duration\r\n * @returns Transition configuration object\r\n *\r\n * @example\r\n * ```tsx\r\n * const shouldReduceMotion = useReducedMotion();\r\n *\r\n * <motion.div\r\n *   transition={getTransition(shouldReduceMotion, 0.3)}\r\n * />\r\n * ```\r\n */\r\nexport function getTransition(\r\n  shouldReduceMotion: boolean,\r\n  defaultDuration = 0.3\r\n): { duration: number; ease?: string } {\r\n  return {\r\n    duration: shouldReduceMotion ? 0.01 : defaultDuration,\r\n    ease: shouldReduceMotion ? 'linear' : 'easeInOut',\r\n  };\r\n}\r\n\r\n/**\r\n * Get animation variants that respect reduced motion\r\n *\r\n * @param shouldReduceMotion - Whether to reduce motion\r\n * @returns Animation variant configuration\r\n *\r\n * @example\r\n * ```tsx\r\n * const shouldReduceMotion = useReducedMotion();\r\n * const variants = getAnimationVariants(shouldReduceMotion);\r\n *\r\n * <motion.div\r\n *   initial=\"initial\"\r\n *   animate=\"animate\"\r\n *   exit=\"exit\"\r\n *   variants={variants.fade}\r\n * />\r\n * ```\r\n */\r\nexport function getAnimationVariants(shouldReduceMotion: boolean) {\r\n  const instant = shouldReduceMotion ? 0.01 : 0;\r\n\r\n  return {\r\n    fade: {\r\n      initial: { opacity: shouldReduceMotion ? 1 : 0 },\r\n      animate: { opacity: 1 },\r\n      exit: { opacity: shouldReduceMotion ? 1 : 0 },\r\n    },\r\n    slideUp: {\r\n      initial: {\r\n        opacity: shouldReduceMotion ? 1 : 0,\r\n        y: shouldReduceMotion ? 0 : 10\r\n      },\r\n      animate: { opacity: 1, y: 0 },\r\n      exit: {\r\n        opacity: shouldReduceMotion ? 1 : 0,\r\n        y: shouldReduceMotion ? 0 : -10\r\n      },\r\n    },\r\n    scale: {\r\n      initial: {\r\n        opacity: shouldReduceMotion ? 1 : 0,\r\n        scale: shouldReduceMotion ? 1 : 0.95\r\n      },\r\n      animate: { opacity: 1, scale: 1 },\r\n      exit: {\r\n        opacity: shouldReduceMotion ? 1 : 0,\r\n        scale: shouldReduceMotion ? 1 : 0.95\r\n      },\r\n    },\r\n  };\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;CAoBC;;;;;;;;AAID;AAFA;;AAIO,SAAS;IACd,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,iNAAQ,EAAC;IAEjE,IAAA,kNAAS,EAAC;QACR,0CAA0C;QAC1C,wCAAmC;YACjC;QACF;;;QAEA,qBAAqB;QACrB,MAAM;QAKN,sCAAsC;QACtC,MAAM;IAsBR,GAAG,EAAE;IAEL,OAAO;AACT;AAkBO,SAAS,cACd,kBAA2B,EAC3B,kBAAkB,GAAG;IAErB,OAAO;QACL,UAAU,qBAAqB,OAAO;QACtC,MAAM,qBAAqB,WAAW;IACxC;AACF;AAqBO,SAAS,qBAAqB,kBAA2B;IAC9D,MAAM,UAAU,qBAAqB,OAAO;IAE5C,OAAO;QACL,MAAM;YACJ,SAAS;gBAAE,SAAS,qBAAqB,IAAI;YAAE;YAC/C,SAAS;gBAAE,SAAS;YAAE;YACtB,MAAM;gBAAE,SAAS,qBAAqB,IAAI;YAAE;QAC9C;QACA,SAAS;YACP,SAAS;gBACP,SAAS,qBAAqB,IAAI;gBAClC,GAAG,qBAAqB,IAAI;YAC9B;YACA,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,MAAM;gBACJ,SAAS,qBAAqB,IAAI;gBAClC,GAAG,qBAAqB,IAAI,CAAC;YAC/B;QACF;QACA,OAAO;YACL,SAAS;gBACP,SAAS,qBAAqB,IAAI;gBAClC,OAAO,qBAAqB,IAAI;YAClC;YACA,SAAS;gBAAE,SAAS;gBAAG,OAAO;YAAE;YAChC,MAAM;gBACJ,SAAS,qBAAqB,IAAI;gBAClC,OAAO,qBAAqB,IAAI;YAClC;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/app/template.tsx"],"sourcesContent":["/**\r\n * Root Template Component\r\n *\r\n * Re-renders on every navigation (unlike layout.tsx which persists)\r\n * Use for animations, transitions, or resetting state on navigation\r\n *\r\n * Respects prefers-reduced-motion for accessibility (WCAG 2.1 AAA - 2.3.3)\r\n *\r\n * @see https://nextjs.org/docs/app/api-reference/file-conventions/template\r\n */\r\n\r\n'use client';\r\n\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Suspense } from 'react';\r\nimport { useReducedMotion, getTransition } from '@/hooks/useReducedMotion';\r\n\r\ninterface TemplateProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Inner template component that uses pathname\r\n */\r\nfunction TemplateInner({ children }: TemplateProps) {\r\n  const pathname = usePathname();\r\n  const shouldReduceMotion = useReducedMotion();\r\n\r\n  return (\r\n    <AnimatePresence mode=\"wait\">\r\n      <motion.div\r\n        key={pathname}\r\n        initial={{ opacity: shouldReduceMotion ? 1 : 0, y: shouldReduceMotion ? 0 : 10 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        exit={{ opacity: shouldReduceMotion ? 1 : 0, y: shouldReduceMotion ? 0 : -10 }}\r\n        transition={getTransition(shouldReduceMotion, 0.2)}\r\n      >\r\n        {children}\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\n/**\r\n * Page transition template with fade animation\r\n * Wrapped in Suspense to prevent blocking route issues\r\n */\r\nexport default function Template({ children }: TemplateProps) {\r\n  return (\r\n    <Suspense fallback={<div className=\"animate-pulse min-h-screen bg-gray-50\" />}>\r\n      <TemplateInner>{children}</TemplateInner>\r\n    </Suspense>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;CASC;;;;;AAID;AAAA;AACA;AACA;AACA;AALA;;;;;;AAWA;;CAEC,GACD,SAAS,cAAc,EAAE,QAAQ,EAAiB;IAChD,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,qBAAqB,IAAA,oJAAgB;IAE3C,qBACE,8OAAC,4MAAe;QAAC,MAAK;kBACpB,cAAA,8OAAC,oMAAM,CAAC,GAAG;YAET,SAAS;gBAAE,SAAS,qBAAqB,IAAI;gBAAG,GAAG,qBAAqB,IAAI;YAAG;YAC/E,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,MAAM;gBAAE,SAAS,qBAAqB,IAAI;gBAAG,GAAG,qBAAqB,IAAI,CAAC;YAAG;YAC7E,YAAY,IAAA,iJAAa,EAAC,oBAAoB;sBAE7C;WANI;;;;;;;;;;AAUb;AAMe,SAAS,SAAS,EAAE,QAAQ,EAAiB;IAC1D,qBACE,8OAAC,iNAAQ;QAAC,wBAAU,8OAAC;YAAI,WAAU;;;;;;kBACjC,cAAA,8OAAC;sBAAe;;;;;;;;;;;AAGtB","debugId":null}}]
}