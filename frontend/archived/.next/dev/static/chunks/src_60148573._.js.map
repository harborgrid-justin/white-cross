{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/validations/student.schema.ts"],"sourcesContent":["/**\r\n * Student Validation Schemas\r\n * Zod schemas for type-safe validation of student data\r\n *\r\n * @module lib/validations/student.schema\r\n */\r\n\r\nimport { z } from 'zod';\r\n\r\n/**\r\n * Gender enum schema\r\n */\r\nconst GenderSchema = z.enum(['MALE', 'FEMALE', 'OTHER', 'PREFER_NOT_TO_SAY'] as const);\r\n\r\n/**\r\n * Student number validation\r\n * Format: alphanumeric with hyphens, 3-50 characters\r\n */\r\nconst studentNumberSchema = z\r\n  .string()\r\n  .min(3, 'Student number must be at least 3 characters')\r\n  .max(50, 'Student number must not exceed 50 characters')\r\n  .regex(/^[A-Z0-9-]+$/i, 'Student number can only contain letters, numbers, and hyphens');\r\n\r\n/**\r\n * Name validation\r\n * Letters, spaces, hyphens, apostrophes only\r\n */\r\nconst nameSchema = z\r\n  .string()\r\n  .min(1, 'Name is required')\r\n  .max(100, 'Name must not exceed 100 characters')\r\n  .regex(/^[a-zA-Z\\s'-]+$/, \"Name can only contain letters, spaces, hyphens, and apostrophes\");\r\n\r\n/**\r\n * Grade validation\r\n * Supports: K, 1-12\r\n */\r\nconst gradeSchema = z\r\n  .string()\r\n  .regex(/^(K|[1-9]|1[0-2])$/, 'Grade must be K or 1-12');\r\n\r\n/**\r\n * Date of birth validation\r\n * Must be a past date\r\n */\r\nconst dateOfBirthSchema = z\r\n  .string()\r\n  .or(z.date())\r\n  .refine((val) => {\r\n    const date = typeof val === 'string' ? new Date(val) : val;\r\n    return date < new Date();\r\n  }, 'Date of birth must be in the past')\r\n  .refine((val) => {\r\n    const date = typeof val === 'string' ? new Date(val) : val;\r\n    const year = date.getFullYear();\r\n    return year > 1900 && year <= new Date().getFullYear();\r\n  }, 'Date of birth must be between 1900 and current year');\r\n\r\n/**\r\n * Medical record number validation\r\n * Optional, alphanumeric with hyphens\r\n */\r\nconst medicalRecordNumberSchema = z\r\n  .string()\r\n  .regex(/^[A-Z0-9-]+$/i, 'Medical record number can only contain letters, numbers, and hyphens')\r\n  .min(3, 'Medical record number must be at least 3 characters')\r\n  .max(50, 'Medical record number must not exceed 50 characters')\r\n  .optional()\r\n  .or(z.literal(''));\r\n\r\n/**\r\n * UUID validation\r\n */\r\nconst uuidSchema = z\r\n  .string()\r\n  .uuid('Invalid UUID format');\r\n\r\n/**\r\n * Photo URL validation\r\n */\r\nconst photoUrlSchema = z\r\n  .string()\r\n  .url('Invalid photo URL')\r\n  .optional()\r\n  .or(z.literal(''));\r\n\r\n/**\r\n * Create Student Schema\r\n * Validates data for creating a new student\r\n *\r\n * @remarks\r\n * All required fields must be provided. Date of birth must be a past date.\r\n * Student number must be unique (enforced by backend).\r\n *\r\n * @example\r\n * ```typescript\r\n * const validData = {\r\n *   studentNumber: 'STU-2024-001',\r\n *   firstName: 'John',\r\n *   lastName: 'Doe',\r\n *   dateOfBirth: '2015-05-15',\r\n *   grade: '3',\r\n *   gender: 'MALE',\r\n *   enrollmentDate: '2024-09-01'\r\n * };\r\n * const result = CreateStudentSchema.parse(validData);\r\n * ```\r\n */\r\nexport const CreateStudentSchema = z.object({\r\n  studentNumber: studentNumberSchema,\r\n  firstName: nameSchema,\r\n  lastName: nameSchema,\r\n  dateOfBirth: dateOfBirthSchema,\r\n  grade: gradeSchema,\r\n  gender: GenderSchema,\r\n  photo: photoUrlSchema,\r\n  medicalRecordNum: medicalRecordNumberSchema,\r\n  nurseId: uuidSchema.optional(),\r\n  enrollmentDate: z.string().or(z.date()).optional(),\r\n  createdBy: uuidSchema.optional()\r\n});\r\n\r\n/**\r\n * Update Student Schema\r\n * Validates data for updating an existing student\r\n *\r\n * @remarks\r\n * All fields are optional - only provided fields will be updated.\r\n * Partial updates are supported.\r\n *\r\n * @example\r\n * ```typescript\r\n * const updateData = {\r\n *   grade: '4',\r\n *   isActive: true\r\n * };\r\n * const result = UpdateStudentSchema.parse(updateData);\r\n * ```\r\n */\r\nexport const UpdateStudentSchema = z.object({\r\n  studentNumber: studentNumberSchema.optional(),\r\n  firstName: nameSchema.optional(),\r\n  lastName: nameSchema.optional(),\r\n  dateOfBirth: dateOfBirthSchema.optional(),\r\n  grade: gradeSchema.optional(),\r\n  gender: GenderSchema.optional(),\r\n  photo: photoUrlSchema,\r\n  medicalRecordNum: medicalRecordNumberSchema,\r\n  nurseId: uuidSchema.optional().or(z.null()),\r\n  isActive: z.boolean().optional(),\r\n  enrollmentDate: z.string().or(z.date()).optional(),\r\n  updatedBy: uuidSchema.optional()\r\n}).refine(\r\n  (data) => Object.keys(data).length > 0,\r\n  'At least one field must be provided for update'\r\n);\r\n\r\n/**\r\n * Student Filters Schema\r\n * Validates query parameters for filtering students\r\n *\r\n * @example\r\n * ```typescript\r\n * const filters = {\r\n *   grade: '5',\r\n *   isActive: true,\r\n *   hasAllergies: true,\r\n *   page: 1,\r\n *   limit: 20\r\n * };\r\n * const result = StudentFiltersSchema.parse(filters);\r\n * ```\r\n */\r\nexport const StudentFiltersSchema = z.object({\r\n  search: z.string().min(1).optional(),\r\n  grade: gradeSchema.optional(),\r\n  isActive: z.boolean().optional(),\r\n  includeInactive: z.boolean().optional(),\r\n  nurseId: uuidSchema.optional(),\r\n  hasAllergies: z.boolean().optional(),\r\n  hasMedications: z.boolean().optional(),\r\n  gender: GenderSchema.optional(),\r\n  page: z.number().int().positive().optional().default(1),\r\n  limit: z.number().int().positive().max(100).optional().default(20)\r\n});\r\n\r\n/**\r\n * Transfer Student Schema\r\n * Validates data for transferring a student to a different nurse\r\n */\r\nexport const TransferStudentSchema = z.object({\r\n  nurseId: uuidSchema\r\n});\r\n\r\n/**\r\n * Deactivate Student Schema\r\n * Validates data for deactivating a student\r\n */\r\nexport const DeactivateStudentSchema = z.object({\r\n  reason: z\r\n    .string()\r\n    .min(5, 'Deactivation reason must be at least 5 characters')\r\n    .max(500, 'Deactivation reason must not exceed 500 characters')\r\n});\r\n\r\n/**\r\n * Student Form Schema\r\n * Comprehensive schema for client-side form validation\r\n * Includes additional UI-specific fields and validation\r\n */\r\nexport const StudentFormSchema = z.object({\r\n  studentNumber: studentNumberSchema,\r\n  firstName: nameSchema,\r\n  lastName: nameSchema,\r\n  dateOfBirth: z.string().refine((val) => {\r\n    const date = new Date(val);\r\n    return !isNaN(date.getTime()) && date < new Date();\r\n  }, 'Please enter a valid past date'),\r\n  grade: gradeSchema,\r\n  gender: GenderSchema,\r\n  photo: z.string().url().optional().or(z.literal('')),\r\n  medicalRecordNum: z.string().optional().or(z.literal('')),\r\n  nurseId: z.string().optional().or(z.literal('')),\r\n  enrollmentDate: z.string().optional()\r\n});\r\n\r\n/**\r\n * Bulk Update Students Schema\r\n * Validates data for bulk updating multiple students\r\n */\r\nexport const BulkUpdateStudentsSchema = z.object({\r\n  studentIds: z.array(uuidSchema).min(1, 'At least one student ID is required'),\r\n  updateData: UpdateStudentSchema.omit({ updatedBy: true })\r\n});\r\n\r\n/**\r\n * Type exports from schemas\r\n */\r\nexport type CreateStudentInput = z.infer<typeof CreateStudentSchema>;\r\nexport type UpdateStudentInput = z.infer<typeof UpdateStudentSchema>;\r\nexport type StudentFiltersInput = z.infer<typeof StudentFiltersSchema>;\r\nexport type TransferStudentInput = z.infer<typeof TransferStudentSchema>;\r\nexport type DeactivateStudentInput = z.infer<typeof DeactivateStudentSchema>;\r\nexport type StudentFormInput = z.infer<typeof StudentFormSchema>;\r\nexport type BulkUpdateStudentsInput = z.infer<typeof BulkUpdateStudentsSchema>;\r\n\r\n/**\r\n * Validation helper functions\r\n */\r\n\r\n/**\r\n * Validates create student data\r\n * @param data - Data to validate\r\n * @returns Validation result with parsed data or errors\r\n */\r\nexport function validateCreateStudent(data: unknown) {\r\n  return CreateStudentSchema.safeParse(data);\r\n}\r\n\r\n/**\r\n * Validates update student data\r\n * @param data - Data to validate\r\n * @returns Validation result with parsed data or errors\r\n */\r\nexport function validateUpdateStudent(data: unknown) {\r\n  return UpdateStudentSchema.safeParse(data);\r\n}\r\n\r\n/**\r\n * Validates student filters\r\n * @param data - Data to validate\r\n * @returns Validation result with parsed data or errors\r\n */\r\nexport function validateStudentFilters(data: unknown) {\r\n  return StudentFiltersSchema.safeParse(data);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;;;;;;;;;;;;AAED;;AAEA;;CAEC,GACD,MAAM,eAAe,qLAAC,CAAC,IAAI,CAAC;IAAC;IAAQ;IAAU;IAAS;CAAoB;AAE5E;;;CAGC,GACD,MAAM,sBAAsB,qLAAC,CAC1B,MAAM,GACN,GAAG,CAAC,GAAG,gDACP,GAAG,CAAC,IAAI,gDACR,KAAK,CAAC,iBAAiB;AAE1B;;;CAGC,GACD,MAAM,aAAa,qLAAC,CACjB,MAAM,GACN,GAAG,CAAC,GAAG,oBACP,GAAG,CAAC,KAAK,uCACT,KAAK,CAAC,mBAAmB;AAE5B;;;CAGC,GACD,MAAM,cAAc,qLAAC,CAClB,MAAM,GACN,KAAK,CAAC,sBAAsB;AAE/B;;;CAGC,GACD,MAAM,oBAAoB,qLAAC,CACxB,MAAM,GACN,EAAE,CAAC,qLAAC,CAAC,IAAI,IACT,MAAM,CAAC,CAAC;IACP,MAAM,OAAO,OAAO,QAAQ,WAAW,IAAI,KAAK,OAAO;IACvD,OAAO,OAAO,IAAI;AACpB,GAAG,qCACF,MAAM,CAAC,CAAC;IACP,MAAM,OAAO,OAAO,QAAQ,WAAW,IAAI,KAAK,OAAO;IACvD,MAAM,OAAO,KAAK,WAAW;IAC7B,OAAO,OAAO,QAAQ,QAAQ,IAAI,OAAO,WAAW;AACtD,GAAG;AAEL;;;CAGC,GACD,MAAM,4BAA4B,qLAAC,CAChC,MAAM,GACN,KAAK,CAAC,iBAAiB,wEACvB,GAAG,CAAC,GAAG,uDACP,GAAG,CAAC,IAAI,uDACR,QAAQ,GACR,EAAE,CAAC,qLAAC,CAAC,OAAO,CAAC;AAEhB;;CAEC,GACD,MAAM,aAAa,qLAAC,CACjB,MAAM,GACN,IAAI,CAAC;AAER;;CAEC,GACD,MAAM,iBAAiB,qLAAC,CACrB,MAAM,GACN,GAAG,CAAC,qBACJ,QAAQ,GACR,EAAE,CAAC,qLAAC,CAAC,OAAO,CAAC;AAwBT,MAAM,sBAAsB,qLAAC,CAAC,MAAM,CAAC;IAC1C,eAAe;IACf,WAAW;IACX,UAAU;IACV,aAAa;IACb,OAAO;IACP,QAAQ;IACR,OAAO;IACP,kBAAkB;IAClB,SAAS,WAAW,QAAQ;IAC5B,gBAAgB,qLAAC,CAAC,MAAM,GAAG,EAAE,CAAC,qLAAC,CAAC,IAAI,IAAI,QAAQ;IAChD,WAAW,WAAW,QAAQ;AAChC;AAmBO,MAAM,sBAAsB,qLAAC,CAAC,MAAM,CAAC;IAC1C,eAAe,oBAAoB,QAAQ;IAC3C,WAAW,WAAW,QAAQ;IAC9B,UAAU,WAAW,QAAQ;IAC7B,aAAa,kBAAkB,QAAQ;IACvC,OAAO,YAAY,QAAQ;IAC3B,QAAQ,aAAa,QAAQ;IAC7B,OAAO;IACP,kBAAkB;IAClB,SAAS,WAAW,QAAQ,GAAG,EAAE,CAAC,qLAAC,CAAC,IAAI;IACxC,UAAU,qLAAC,CAAC,OAAO,GAAG,QAAQ;IAC9B,gBAAgB,qLAAC,CAAC,MAAM,GAAG,EAAE,CAAC,qLAAC,CAAC,IAAI,IAAI,QAAQ;IAChD,WAAW,WAAW,QAAQ;AAChC,GAAG,MAAM,MACP,CAAC,OAAS,OAAO,IAAI,CAAC,MAAM,MAAM,GAAG,GACrC;;AAmBK,MAAM,uBAAuB,qLAAC,CAAC,MAAM,CAAC;IAC3C,QAAQ,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ;IAClC,OAAO,YAAY,QAAQ;IAC3B,UAAU,qLAAC,CAAC,OAAO,GAAG,QAAQ;IAC9B,iBAAiB,qLAAC,CAAC,OAAO,GAAG,QAAQ;IACrC,SAAS,WAAW,QAAQ;IAC5B,cAAc,qLAAC,CAAC,OAAO,GAAG,QAAQ;IAClC,gBAAgB,qLAAC,CAAC,OAAO,GAAG,QAAQ;IACpC,QAAQ,aAAa,QAAQ;IAC7B,MAAM,qLAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ,GAAG,QAAQ,GAAG,OAAO,CAAC;IACrD,OAAO,qLAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ,GAAG,GAAG,CAAC,KAAK,QAAQ,GAAG,OAAO,CAAC;AACjE;AAMO,MAAM,wBAAwB,qLAAC,CAAC,MAAM,CAAC;IAC5C,SAAS;AACX;AAMO,MAAM,0BAA0B,qLAAC,CAAC,MAAM,CAAC;IAC9C,QAAQ,qLAAC,CACN,MAAM,GACN,GAAG,CAAC,GAAG,qDACP,GAAG,CAAC,KAAK;AACd;AAOO,MAAM,oBAAoB,qLAAC,CAAC,MAAM,CAAC;IACxC,eAAe;IACf,WAAW;IACX,UAAU;IACV,aAAa,qLAAC,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC;QAC9B,MAAM,OAAO,IAAI,KAAK;QACtB,OAAO,CAAC,MAAM,KAAK,OAAO,OAAO,OAAO,IAAI;IAC9C,GAAG;IACH,OAAO;IACP,QAAQ;IACR,OAAO,qLAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ,GAAG,EAAE,CAAC,qLAAC,CAAC,OAAO,CAAC;IAChD,kBAAkB,qLAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,EAAE,CAAC,qLAAC,CAAC,OAAO,CAAC;IACrD,SAAS,qLAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,EAAE,CAAC,qLAAC,CAAC,OAAO,CAAC;IAC5C,gBAAgB,qLAAC,CAAC,MAAM,GAAG,QAAQ;AACrC;AAMO,MAAM,2BAA2B,qLAAC,CAAC,MAAM,CAAC;IAC/C,YAAY,qLAAC,CAAC,KAAK,CAAC,YAAY,GAAG,CAAC,GAAG;IACvC,YAAY,oBAAoB,IAAI,CAAC;QAAE,WAAW;IAAK;AACzD;AAsBO,SAAS,sBAAsB,IAAa;IACjD,OAAO,oBAAoB,SAAS,CAAC;AACvC;AAOO,SAAS,sBAAsB,IAAa;IACjD,OAAO,oBAAoB,SAAS,CAAC;AACvC;AAOO,SAAS,uBAAuB,IAAa;IAClD,OAAO,qBAAqB,SAAS,CAAC;AACxC","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/students.actions.ts"],"sourcesContent":["/**\r\n * @fileoverview Student Management Server Actions - Next.js v14+ Compatible\r\n * @module app/students/actions\r\n *\r\n * HIPAA-compliant server actions for student data management with comprehensive\r\n * caching, audit logging, and error handling.\r\n *\r\n * Features:\r\n * - Server actions with proper 'use server' directive in submodules\r\n * - Next.js cache integration with revalidateTag/revalidatePath\r\n * - HIPAA audit logging for all PHI operations\r\n * - Type-safe CRUD operations\r\n * - Form data handling for UI integration\r\n * - Comprehensive error handling and validation\r\n *\r\n * This module serves as the main entry point and re-exports all student-related\r\n * operations from specialized submodules for better code organization.\r\n *\r\n * Note: This file does NOT have 'use server' directive to allow re-exports.\r\n * Each submodule has its own 'use server' directive.\r\n */\r\n\r\n// ==========================================\r\n// TYPE EXPORTS\r\n// ==========================================\r\nexport type { ActionResult } from './students.types';\r\n\r\n// ==========================================\r\n// CACHED READ OPERATIONS\r\n// ==========================================\r\nexport {\r\n  getStudent,\r\n  getStudents,\r\n  searchStudents,\r\n  getPaginatedStudents,\r\n  getStudentCount,\r\n  getStudentStatistics,\r\n  exportStudentData,\r\n} from './students.cache';\r\n\r\n// ==========================================\r\n// CRUD OPERATIONS\r\n// ==========================================\r\nexport {\r\n  createStudent,\r\n  updateStudent,\r\n  deleteStudent,\r\n} from './students.crud';\r\n\r\n// ==========================================\r\n// FORM HANDLERS\r\n// ==========================================\r\nexport {\r\n  createStudentFromForm,\r\n  updateStudentFromForm,\r\n} from './students.forms';\r\n\r\n// ==========================================\r\n// STATUS OPERATIONS\r\n// ==========================================\r\nexport {\r\n  reactivateStudent,\r\n  deactivateStudent,\r\n} from './students.status';\r\n\r\n// ==========================================\r\n// BULK OPERATIONS\r\n// ==========================================\r\nexport {\r\n  transferStudent,\r\n  bulkUpdateStudents,\r\n} from './students.bulk';\r\n\r\n// ==========================================\r\n// UTILITY FUNCTIONS\r\n// ==========================================\r\nexport {\r\n  studentExists,\r\n  clearStudentCache,\r\n} from './students.utils';\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;CAoBC,GAED,6CAA6C;AAC7C,eAAe;AACf,6CAA6C","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/students.crud.ts"],"sourcesContent":["/**\r\n * @fileoverview Student CRUD Operations - Create, Read, Update, Delete\r\n * @module lib/actions/students.crud\r\n *\r\n * HIPAA-compliant CRUD operations for student data management.\r\n *\r\n * Features:\r\n * - Create, update, delete operations\r\n * - HIPAA audit logging for all PHI operations\r\n * - Cache invalidation with revalidateTag/revalidatePath\r\n * - Comprehensive error handling and validation\r\n */\r\n\r\n'use server';\r\n\r\nimport { revalidateTag, revalidatePath } from 'next/cache';\r\nimport { serverPost, serverPut, serverDelete, NextApiClientError } from '@/lib/api/nextjs-client';\r\nimport { API_ENDPOINTS } from '@/constants/api';\r\nimport { auditLog, AUDIT_ACTIONS } from '@/lib/audit';\r\nimport { CACHE_TAGS } from '@/lib/cache/constants';\r\n\r\n// Types\r\nimport type {\r\n  Student,\r\n  CreateStudentData,\r\n  UpdateStudentData,\r\n} from '@/types/domain/student.types';\r\nimport type { ApiResponse } from '@/types';\r\nimport type { ActionResult } from './students.types';\r\n\r\n// Utils\r\nimport { formatName } from '@/utils/formatters';\r\n\r\n// ==========================================\r\n// CREATE OPERATIONS\r\n// ==========================================\r\n\r\n/**\r\n * Create a new student\r\n * Includes HIPAA audit logging and cache invalidation\r\n */\r\nexport async function createStudent(data: CreateStudentData): Promise<ActionResult<Student>> {\r\n  try {\r\n    // Validate required fields\r\n    if (!data.firstName || !data.lastName || !data.dateOfBirth || !data.grade) {\r\n      return {\r\n        success: false,\r\n        error: 'Missing required fields: firstName, lastName, dateOfBirth, grade'\r\n      };\r\n    }\r\n\r\n    const response = await serverPost<ApiResponse<Student>>(\r\n      API_ENDPOINTS.STUDENTS.BASE,\r\n      data,\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: [CACHE_TAGS.STUDENTS, CACHE_TAGS.PHI] }\r\n      }\r\n    );\r\n\r\n    if (!response.success || !response.data) {\r\n      throw new Error(response.message || 'Failed to create student');\r\n    }\r\n\r\n    // HIPAA AUDIT LOG - Mandatory for PHI creation\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.CREATE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: response.data.id,\r\n      details: `Created student record for ${formatName(data.firstName, data.lastName)}`,\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag(CACHE_TAGS.STUDENTS, 'default');\r\n    revalidateTag('student-list', 'default');\r\n    revalidatePath('/dashboard/students');\r\n\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'Student created successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to create student';\r\n\r\n    // HIPAA AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.CREATE_STUDENT,\r\n      resource: 'Student',\r\n      details: `Failed to create student record: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// UPDATE OPERATIONS\r\n// ==========================================\r\n\r\n/**\r\n * Update student information\r\n * Includes HIPAA audit logging and cache invalidation\r\n */\r\nexport async function updateStudent(\r\n  studentId: string,\r\n  data: UpdateStudentData\r\n): Promise<ActionResult<Student>> {\r\n  try {\r\n    if (!studentId) {\r\n      return {\r\n        success: false,\r\n        error: 'Student ID is required'\r\n      };\r\n    }\r\n\r\n    const response = await serverPut<ApiResponse<Student>>(\r\n      API_ENDPOINTS.STUDENTS.BY_ID(studentId),\r\n      data,\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: [CACHE_TAGS.STUDENTS, `student-${studentId}`, CACHE_TAGS.PHI] }\r\n      }\r\n    );\r\n\r\n    if (!response.success || !response.data) {\r\n      throw new Error(response.message || 'Failed to update student');\r\n    }\r\n\r\n    // HIPAA AUDIT LOG - Mandatory for PHI modification\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: studentId,\r\n      details: `Updated student record`,\r\n      changes: data as Record<string, unknown>,\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag(CACHE_TAGS.STUDENTS, 'default');\r\n    revalidateTag(`student-${studentId}`, 'default');\r\n    revalidateTag('student-list', 'default');\r\n    revalidatePath('/dashboard/students');\r\n    revalidatePath(`/dashboard/students/${studentId}` as any);\r\n\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'Student updated successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to update student';\r\n\r\n    // HIPAA AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: studentId,\r\n      details: `Failed to update student record: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// DELETE OPERATIONS\r\n// ==========================================\r\n\r\n/**\r\n * Delete student (soft delete)\r\n * Includes HIPAA audit logging and cache invalidation\r\n */\r\nexport async function deleteStudent(studentId: string): Promise<ActionResult<void>> {\r\n  try {\r\n    if (!studentId) {\r\n      return {\r\n        success: false,\r\n        error: 'Student ID is required'\r\n      };\r\n    }\r\n\r\n    await serverDelete<ApiResponse<void>>(\r\n      API_ENDPOINTS.STUDENTS.BY_ID(studentId),\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: [CACHE_TAGS.STUDENTS, `student-${studentId}`, CACHE_TAGS.PHI] }\r\n      }\r\n    );\r\n\r\n    // HIPAA AUDIT LOG - Mandatory for PHI deletion\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.DELETE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: studentId,\r\n      details: `Deleted student record (soft delete)`,\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag(CACHE_TAGS.STUDENTS, 'default');\r\n    revalidateTag(`student-${studentId}`, 'default');\r\n    revalidateTag('student-list', 'default');\r\n    revalidatePath('/dashboard/students');\r\n\r\n    return {\r\n      success: true,\r\n      message: 'Student deleted successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to delete student';\r\n\r\n    // HIPAA AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.DELETE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: studentId,\r\n      details: `Failed to delete student record: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAyCsB,gBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/lib/actions/students.crud.ts"],"sourcesContent":["/**\r\n * @fileoverview Student CRUD Operations - Create, Read, Update, Delete\r\n * @module lib/actions/students.crud\r\n *\r\n * HIPAA-compliant CRUD operations for student data management.\r\n *\r\n * Features:\r\n * - Create, update, delete operations\r\n * - HIPAA audit logging for all PHI operations\r\n * - Cache invalidation with revalidateTag/revalidatePath\r\n * - Comprehensive error handling and validation\r\n */\r\n\r\n'use server';\r\n\r\nimport { revalidateTag, revalidatePath } from 'next/cache';\r\nimport { serverPost, serverPut, serverDelete, NextApiClientError } from '@/lib/api/nextjs-client';\r\nimport { API_ENDPOINTS } from '@/constants/api';\r\nimport { auditLog, AUDIT_ACTIONS } from '@/lib/audit';\r\nimport { CACHE_TAGS } from '@/lib/cache/constants';\r\n\r\n// Types\r\nimport type {\r\n  Student,\r\n  CreateStudentData,\r\n  UpdateStudentData,\r\n} from '@/types/domain/student.types';\r\nimport type { ApiResponse } from '@/types';\r\nimport type { ActionResult } from './students.types';\r\n\r\n// Utils\r\nimport { formatName } from '@/utils/formatters';\r\n\r\n// ==========================================\r\n// CREATE OPERATIONS\r\n// ==========================================\r\n\r\n/**\r\n * Create a new student\r\n * Includes HIPAA audit logging and cache invalidation\r\n */\r\nexport async function createStudent(data: CreateStudentData): Promise<ActionResult<Student>> {\r\n  try {\r\n    // Validate required fields\r\n    if (!data.firstName || !data.lastName || !data.dateOfBirth || !data.grade) {\r\n      return {\r\n        success: false,\r\n        error: 'Missing required fields: firstName, lastName, dateOfBirth, grade'\r\n      };\r\n    }\r\n\r\n    const response = await serverPost<ApiResponse<Student>>(\r\n      API_ENDPOINTS.STUDENTS.BASE,\r\n      data,\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: [CACHE_TAGS.STUDENTS, CACHE_TAGS.PHI] }\r\n      }\r\n    );\r\n\r\n    if (!response.success || !response.data) {\r\n      throw new Error(response.message || 'Failed to create student');\r\n    }\r\n\r\n    // HIPAA AUDIT LOG - Mandatory for PHI creation\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.CREATE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: response.data.id,\r\n      details: `Created student record for ${formatName(data.firstName, data.lastName)}`,\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag(CACHE_TAGS.STUDENTS, 'default');\r\n    revalidateTag('student-list', 'default');\r\n    revalidatePath('/dashboard/students');\r\n\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'Student created successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to create student';\r\n\r\n    // HIPAA AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.CREATE_STUDENT,\r\n      resource: 'Student',\r\n      details: `Failed to create student record: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// UPDATE OPERATIONS\r\n// ==========================================\r\n\r\n/**\r\n * Update student information\r\n * Includes HIPAA audit logging and cache invalidation\r\n */\r\nexport async function updateStudent(\r\n  studentId: string,\r\n  data: UpdateStudentData\r\n): Promise<ActionResult<Student>> {\r\n  try {\r\n    if (!studentId) {\r\n      return {\r\n        success: false,\r\n        error: 'Student ID is required'\r\n      };\r\n    }\r\n\r\n    const response = await serverPut<ApiResponse<Student>>(\r\n      API_ENDPOINTS.STUDENTS.BY_ID(studentId),\r\n      data,\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: [CACHE_TAGS.STUDENTS, `student-${studentId}`, CACHE_TAGS.PHI] }\r\n      }\r\n    );\r\n\r\n    if (!response.success || !response.data) {\r\n      throw new Error(response.message || 'Failed to update student');\r\n    }\r\n\r\n    // HIPAA AUDIT LOG - Mandatory for PHI modification\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: studentId,\r\n      details: `Updated student record`,\r\n      changes: data as Record<string, unknown>,\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag(CACHE_TAGS.STUDENTS, 'default');\r\n    revalidateTag(`student-${studentId}`, 'default');\r\n    revalidateTag('student-list', 'default');\r\n    revalidatePath('/dashboard/students');\r\n    revalidatePath(`/dashboard/students/${studentId}` as any);\r\n\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'Student updated successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to update student';\r\n\r\n    // HIPAA AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.UPDATE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: studentId,\r\n      details: `Failed to update student record: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n\r\n// ==========================================\r\n// DELETE OPERATIONS\r\n// ==========================================\r\n\r\n/**\r\n * Delete student (soft delete)\r\n * Includes HIPAA audit logging and cache invalidation\r\n */\r\nexport async function deleteStudent(studentId: string): Promise<ActionResult<void>> {\r\n  try {\r\n    if (!studentId) {\r\n      return {\r\n        success: false,\r\n        error: 'Student ID is required'\r\n      };\r\n    }\r\n\r\n    await serverDelete<ApiResponse<void>>(\r\n      API_ENDPOINTS.STUDENTS.BY_ID(studentId),\r\n      {\r\n        cache: 'no-store',\r\n        next: { tags: [CACHE_TAGS.STUDENTS, `student-${studentId}`, CACHE_TAGS.PHI] }\r\n      }\r\n    );\r\n\r\n    // HIPAA AUDIT LOG - Mandatory for PHI deletion\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.DELETE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: studentId,\r\n      details: `Deleted student record (soft delete)`,\r\n      success: true\r\n    });\r\n\r\n    // Cache invalidation\r\n    revalidateTag(CACHE_TAGS.STUDENTS, 'default');\r\n    revalidateTag(`student-${studentId}`, 'default');\r\n    revalidateTag('student-list', 'default');\r\n    revalidatePath('/dashboard/students');\r\n\r\n    return {\r\n      success: true,\r\n      message: 'Student deleted successfully'\r\n    };\r\n  } catch (error) {\r\n    const errorMessage = error instanceof NextApiClientError\r\n      ? error.message\r\n      : error instanceof Error\r\n      ? error.message\r\n      : 'Failed to delete student';\r\n\r\n    // HIPAA AUDIT LOG - Log failed attempt\r\n    await auditLog({\r\n      action: AUDIT_ACTIONS.DELETE_STUDENT,\r\n      resource: 'Student',\r\n      resourceId: studentId,\r\n      details: `Failed to delete student record: ${errorMessage}`,\r\n      success: false,\r\n      errorMessage\r\n    });\r\n\r\n    return {\r\n      success: false,\r\n      error: errorMessage\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAkHsB,gBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/components/ui/button.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2\",\r\n        sm: \"h-8 rounded-md px-3 text-xs\",\r\n        lg: \"h-10 rounded-md px-8\",\r\n        icon: \"h-9 w-9\",\r\n        \"icon-sm\": \"size-8\",\r\n        \"icon-lg\": \"size-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n  loading?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, loading = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        disabled={loading || props.disabled}\r\n        {...props}\r\n      >\r\n        {loading ? \"Loading...\" : props.children}\r\n      </Comp>\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAUF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACzE,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACL,UAAU,WAAW,MAAM,QAAQ;QAClC,GAAG,KAAK;kBAER,UAAU,eAAe,MAAM,QAAQ;;;;;;AAG9C;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/components/ui/card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-xl border bg-card text-card-foreground shadow\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AAEA;AAJA;;;;AAMA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["file:///F:/temp/white-cross/frontend/src/components/ui/alert.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst alertVariants = cva(\r\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-background text-foreground\",\r\n        destructive:\r\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Alert = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    role=\"alert\"\r\n    className={cn(alertVariants({ variant }), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlert.displayName = \"Alert\"\r\n\r\nconst AlertTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h5\r\n    ref={ref}\r\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertTitle.displayName = \"AlertTitle\"\r\n\r\nconst AlertDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDescription.displayName = \"AlertDescription\"\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,2KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,6LAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["F:/temp/white-cross/frontend/src/components/features/students/StudentForm.tsx"],"sourcesContent":["/**\r\n * StudentForm Component\r\n * Comprehensive form for creating and editing students\r\n *\r\n * @module components/features/students/StudentForm\r\n */\r\n\r\n'use client';\r\n\r\nimport React, { useState, useTransition } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport {\r\n  StudentFormSchema,\r\n  type StudentFormInput\r\n} from '@/lib/validations/student.schema';\r\nimport { createStudent, updateStudent } from '@/lib/actions/students.actions';\r\nimport type { Student } from '@/types/student.types';\r\n\r\n// UI Components\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Alert } from '@/components/ui/alert';\r\nimport { Loader2, Save, X } from 'lucide-react';\r\n\r\n/**\r\n * StudentForm props\r\n */\r\nexport interface StudentFormProps {\r\n  /** Student data for edit mode */\r\n  student?: Student;\r\n  /** Form mode */\r\n  mode?: 'create' | 'edit';\r\n  /** Cancel handler */\r\n  onCancel?: () => void;\r\n  /** Success handler */\r\n  onSuccess?: (student: Student) => void;\r\n  /** Custom className */\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * StudentForm - Create/Edit student form with validation\r\n *\r\n * @example\r\n * ```tsx\r\n * // Create mode\r\n * <StudentForm mode=\"create\" onSuccess={(student) => console.log('Created:', student.id)} />\r\n *\r\n * // Edit mode\r\n * <StudentForm mode=\"edit\" student={existingStudent} onSuccess={() => router.push('/students')} />\r\n * ```\r\n */\r\nexport const StudentForm: React.FC<StudentFormProps> = ({\r\n  student,\r\n  mode = 'create',\r\n  onCancel,\r\n  onSuccess,\r\n  className\r\n}) => {\r\n  const router = useRouter();\r\n  const [isPending, startTransition] = useTransition();\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const isEditMode = mode === 'edit' && student !== undefined;\r\n\r\n  // Form state with react-hook-form + Zod validation\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors, isSubmitting },\r\n    reset\r\n  } = useForm<StudentFormInput>({\r\n    resolver: zodResolver(StudentFormSchema),\r\n    defaultValues: isEditMode\r\n      ? {\r\n          studentNumber: student.studentNumber,\r\n          firstName: student.firstName,\r\n          lastName: student.lastName,\r\n          dateOfBirth: student.dateOfBirth.split('T')[0], // Format for input[type=\"date\"]\r\n          grade: student.grade,\r\n          gender: student.gender,\r\n          photo: student.photo || '',\r\n          medicalRecordNum: student.medicalRecordNum || '',\r\n          nurseId: student.nurseId || '',\r\n          enrollmentDate: student.enrollmentDate?.split('T')[0] || ''\r\n        }\r\n      : {\r\n          studentNumber: '',\r\n          firstName: '',\r\n          lastName: '',\r\n          dateOfBirth: '',\r\n          grade: '',\r\n          gender: 'PREFER_NOT_TO_SAY',\r\n          photo: '',\r\n          medicalRecordNum: '',\r\n          nurseId: '',\r\n          enrollmentDate: new Date().toISOString().split('T')[0]\r\n        }\r\n  });\r\n\r\n  /**\r\n   * Form submission handler\r\n   */\r\n  const onSubmit = async (data: StudentFormInput) => {\r\n    setError(null);\r\n    setSuccess(false);\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        let result;\r\n\r\n        if (isEditMode) {\r\n          // Update existing student\r\n          result = await updateStudent(student.id, data);\r\n        } else {\r\n          // Create new student\r\n          result = await createStudent(data);\r\n        }\r\n\r\n        if (result.success && result.data) {\r\n          setSuccess(true);\r\n\r\n          if (onSuccess) {\r\n            onSuccess(result.data);\r\n          } else {\r\n            // Default: redirect to student details\r\n            router.push(`/students/${result.data.id}`);\r\n          }\r\n        } else {\r\n          setError(result.error || 'An error occurred');\r\n        }\r\n      } catch (err) {\r\n        console.error('Form submission error:', err);\r\n        setError(err instanceof Error ? err.message : 'Failed to save student');\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Cancel handler\r\n   */\r\n  const handleCancel = () => {\r\n    if (onCancel) {\r\n      onCancel();\r\n    } else {\r\n      router.back();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={className}>\r\n      <div className=\"p-6\">\r\n        {/* Form Header */}\r\n        <div className=\"mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\r\n            {isEditMode ? 'Edit Student' : 'New Student'}\r\n          </h2>\r\n          <p className=\"mt-1 text-sm text-gray-600 dark:text-gray-400\">\r\n            {isEditMode\r\n              ? 'Update student demographic and enrollment information'\r\n              : 'Enter student demographic and enrollment information'}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Success Alert */}\r\n        {success && (\r\n          <Alert variant=\"success\" className=\"mb-6\">\r\n            Student {isEditMode ? 'updated' : 'created'} successfully!\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Error Alert */}\r\n        {error && (\r\n          <Alert variant=\"error\" className=\"mb-6\">\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n          {/* Basic Information Section */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4\">\r\n              Basic Information\r\n            </h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              {/* Student Number */}\r\n              <div>\r\n                <label htmlFor=\"studentNumber\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Student Number <span className=\"text-red-600\">*</span>\r\n                </label>\r\n                <input\r\n                  {...register('studentNumber')}\r\n                  type=\"text\"\r\n                  id=\"studentNumber\"\r\n                  placeholder=\"STU-2024-001\"\r\n                  disabled={isEditMode} // Student number typically shouldn't change\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed\"\r\n                />\r\n                {errors.studentNumber && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.studentNumber.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* First Name */}\r\n              <div>\r\n                <label htmlFor=\"firstName\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  First Name <span className=\"text-red-600\">*</span>\r\n                </label>\r\n                <input\r\n                  {...register('firstName')}\r\n                  type=\"text\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"John\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n                {errors.firstName && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.firstName.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Last Name */}\r\n              <div>\r\n                <label htmlFor=\"lastName\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Last Name <span className=\"text-red-600\">*</span>\r\n                </label>\r\n                <input\r\n                  {...register('lastName')}\r\n                  type=\"text\"\r\n                  id=\"lastName\"\r\n                  placeholder=\"Doe\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n                {errors.lastName && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.lastName.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Date of Birth */}\r\n              <div>\r\n                <label htmlFor=\"dateOfBirth\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Date of Birth <span className=\"text-red-600\">*</span>\r\n                </label>\r\n                <input\r\n                  {...register('dateOfBirth')}\r\n                  type=\"date\"\r\n                  id=\"dateOfBirth\"\r\n                  max={new Date().toISOString().split('T')[0]}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n                {errors.dateOfBirth && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.dateOfBirth.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Grade */}\r\n              <div>\r\n                <label htmlFor=\"grade\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Grade <span className=\"text-red-600\">*</span>\r\n                </label>\r\n                <select\r\n                  {...register('grade')}\r\n                  id=\"grade\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"\">Select grade</option>\r\n                  <option value=\"K\">Kindergarten</option>\r\n                  {Array.from({ length: 12 }, (_, i) => i + 1).map((grade) => (\r\n                    <option key={grade} value={String(grade)}>\r\n                      Grade {grade}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                {errors.grade && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.grade.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Gender */}\r\n              <div>\r\n                <label htmlFor=\"gender\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Gender <span className=\"text-red-600\">*</span>\r\n                </label>\r\n                <select\r\n                  {...register('gender')}\r\n                  id=\"gender\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"MALE\">Male</option>\r\n                  <option value=\"FEMALE\">Female</option>\r\n                  <option value=\"OTHER\">Other</option>\r\n                  <option value=\"PREFER_NOT_TO_SAY\">Prefer not to say</option>\r\n                </select>\r\n                {errors.gender && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.gender.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Additional Information Section */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4\">\r\n              Additional Information\r\n            </h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              {/* Enrollment Date */}\r\n              <div>\r\n                <label htmlFor=\"enrollmentDate\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Enrollment Date\r\n                </label>\r\n                <input\r\n                  {...register('enrollmentDate')}\r\n                  type=\"date\"\r\n                  id=\"enrollmentDate\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n                {errors.enrollmentDate && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.enrollmentDate.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Medical Record Number */}\r\n              <div>\r\n                <label htmlFor=\"medicalRecordNum\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Medical Record Number\r\n                </label>\r\n                <input\r\n                  {...register('medicalRecordNum')}\r\n                  type=\"text\"\r\n                  id=\"medicalRecordNum\"\r\n                  placeholder=\"MRN-12345\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n                {errors.medicalRecordNum && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.medicalRecordNum.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Photo URL */}\r\n              <div>\r\n                <label htmlFor=\"photo\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Photo URL\r\n                </label>\r\n                <input\r\n                  {...register('photo')}\r\n                  type=\"url\"\r\n                  id=\"photo\"\r\n                  placeholder=\"https://example.com/photo.jpg\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n                {errors.photo && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.photo.message}</p>\r\n                )}\r\n                <p className=\"mt-1 text-xs text-gray-500\">\r\n                  Enter a valid URL to a student photo\r\n                </p>\r\n              </div>\r\n\r\n              {/* Assigned Nurse */}\r\n              <div>\r\n                <label htmlFor=\"nurseId\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Assigned Nurse ID\r\n                </label>\r\n                <input\r\n                  {...register('nurseId')}\r\n                  type=\"text\"\r\n                  id=\"nurseId\"\r\n                  placeholder=\"Nurse UUID (optional)\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n                {errors.nurseId && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.nurseId.message}</p>\r\n                )}\r\n                <p className=\"mt-1 text-xs text-gray-500\">\r\n                  Leave blank to assign later\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Form Actions */}\r\n          <div className=\"flex items-center justify-end gap-3 pt-6 border-t border-gray-200 dark:border-gray-700\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"secondary\"\r\n              onClick={handleCancel}\r\n              disabled={isPending || isSubmitting}\r\n            >\r\n              <X className=\"h-4 w-4 mr-2\" />\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={isPending || isSubmitting}\r\n            >\r\n              {isPending || isSubmitting ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  {isEditMode ? 'Updating...' : 'Creating...'}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Save className=\"h-4 w-4 mr-2\" />\r\n                  {isEditMode ? 'Update Student' : 'Create Student'}\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nStudentForm.displayName = 'StudentForm';\r\n\r\nexport default StudentForm;\r\n\r\n\r\n\r\n\r\n"],"names":["React","useState","useTransition","useRouter","useForm","zodResolver","StudentFormSchema","StudentFormInput","createStudent","updateStudent","Student","Button","Card","Alert","Loader2","Save","X","StudentFormProps","student","mode","onCancel","onSuccess","className","StudentForm","FC","router","isPending","startTransition","error","setError","success","setSuccess","isEditMode","undefined","register","handleSubmit","formState","errors","isSubmitting","reset","resolver","defaultValues","studentNumber","firstName","lastName","dateOfBirth","split","grade","gender","photo","medicalRecordNum","nurseId","enrollmentDate","Date","toISOString","onSubmit","data","result","id","push","err","console","Error","message","handleCancel","back","Array","from","length","_","i","map","String","displayName"],"mappings":"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","ignoreList":[],"debugId":null}}]
}