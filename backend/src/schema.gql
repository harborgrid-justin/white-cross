# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AlertDto {
  actionUrl: String
  createdAt: DateTime!
  expiresAt: DateTime
  id: ID!
  isRead: Boolean!
  message: String!
  recipientId: ID
  recipientRole: String
  studentId: String
  title: String!
  type: AlertType!
}

"""Type of alert notification"""
enum AlertType {
  APPOINTMENT
  CRITICAL
  EMERGENCY
  ERROR
  INFO
  MEDICATION
  WARNING
}

type ChronicCondition {
  """Special care instructions"""
  careInstructions: String

  """Date when the record was created"""
  createdAt: DateTime!

  """Detailed description of the condition"""
  description: String

  """Healthcare provider who diagnosed the condition"""
  diagnosedBy: String

  """Date when the condition was diagnosed"""
  diagnosisDate: DateTime

  """Name of the diagnosis"""
  diagnosisName: String!

  """Unique identifier for the chronic condition"""
  id: ID!

  """Whether this condition is currently active"""
  isActive: Boolean!

  """Current status of the condition"""
  status: String!

  """Date when the record was last updated"""
  updatedAt: DateTime!
}

type ContactDto {
  address: String
  city: String
  createdAt: DateTime!
  createdBy: ID
  customFields: JSON
  displayName: String!
  email: String
  firstName: String!
  fullName: String!
  id: ID!
  isActive: Boolean!
  lastName: String!
  notes: String
  organization: String
  phone: String
  relationTo: ID
  relationshipType: String
  state: String
  student: StudentDto
  title: String
  type: ContactType!
  updatedAt: DateTime!
  updatedBy: ID
  zip: String
}

input ContactFilterInputDto {
  isActive: Boolean
  relationTo: ID
  search: String
  type: ContactType
  types: [ContactType!]
}

input ContactInputDto {
  address: String
  city: String
  customFields: JSON
  dateOfBirth: DateTime!
  email: String
  firstName: String!
  isActive: Boolean = true
  lastName: String!
  notes: String
  organization: String
  phone: String
  photo: String
  relationTo: ID
  relationshipType: String
  state: String
  title: String
  type: ContactType!
  zip: String
}

type ContactListResponseDto {
  contacts: [ContactDto!]!
  pagination: PaginationDto!
}

type ContactStatsDto {
  byType: JSON!
  total: Float!
}

"""Type of contact (guardian, staff, vendor, provider, other)"""
enum ContactType {
  Guardian
  Other
  Provider
  Staff
  Vendor
}

input ContactUpdateInputDto {
  address: String
  city: String
  customFields: JSON
  dateOfBirth: DateTime
  email: String
  firstName: String
  isActive: Boolean
  lastName: String
  notes: String
  organization: String
  phone: String
  photo: String
  relationTo: ID
  relationshipType: String
  state: String
  title: String
  type: ContactType
  zip: String
}

"""ISO 8601 DateTime string (e.g., 2024-01-15T10:30:00Z)"""
scalar DateTime

type DeleteResponseDto {
  message: String!
  success: Boolean!
}

"""Valid email address (RFC 5322 compliant)"""
scalar EmailAddress

type EmergencyContact {
  """Date when the contact was created"""
  createdAt: DateTime!

  """Email address of the emergency contact"""
  email: String

  """First name of the emergency contact"""
  firstName: String!

  """Unique identifier for the emergency contact"""
  id: ID!

  """Whether this contact is currently active"""
  isActive: Boolean!

  """Last name of the emergency contact"""
  lastName: String!

  """Phone number of the emergency contact"""
  phone: String!

  """Priority level (1=primary, 2=secondary, etc.)"""
  priority: Float!

  """Relationship to the student"""
  relationshipType: String!

  """Date when the contact was last updated"""
  updatedAt: DateTime!
}

"""Student gender"""
enum Gender {
  FEMALE
  MALE
  OTHER
  PREFER_NOT_TO_SAY
}

type HealthRecordDto {
  attachments: [String!]!
  chronicConditions: [ChronicCondition]!
  createdAt: DateTime!
  createdBy: ID
  description: String!
  diagnosis: String
  diagnosisCode: String
  facility: String
  facilityNpi: String
  followUpCompleted: Boolean!
  followUpDate: DateTime
  followUpRequired: Boolean!
  id: ID!
  isConfidential: Boolean!
  metadata: JSON
  notes: String
  provider: String
  providerNpi: String
  recordDate: DateTime!
  recordType: String!
  student: StudentDto
  studentId: ID!
  title: String!
  treatment: String
  updatedAt: DateTime!
  updatedBy: ID
}

input HealthRecordFilterInputDto {
  followUpCompleted: Boolean
  followUpRequired: Boolean
  fromDate: DateTime
  isConfidential: Boolean
  recordType: String
  search: String
  studentId: ID
  toDate: DateTime
}

input HealthRecordInputDto {
  attachments: [String!] = []
  description: String!
  isConfidential: Boolean! = false
  metadata: JSON
  notes: String
  recordDate: DateTime!
  recordType: String!
  studentId: ID!
  title: String!
}

type HealthRecordListResponseDto {
  healthRecords: [HealthRecordDto!]!
  pagination: PaginationDto!
}

input HealthRecordUpdateInputDto {
  attachments: [String!]
  description: String
  followUpCompleted: Boolean
  isConfidential: Boolean
  metadata: JSON
  notes: String
  recordDate: DateTime
  recordType: String
  title: String
}

type IncidentReport {
  """Actions taken in response to the incident"""
  actionsTaken: String

  """Date when the report was created"""
  createdAt: DateTime!

  """Detailed description of the incident"""
  description: String!

  """Date when follow-up was completed"""
  followUpDate: DateTime

  """Follow-up actions required"""
  followUpRequired: Boolean

  """Unique identifier for the incident report"""
  id: ID!

  """Date and time when the incident occurred"""
  incidentDateTime: DateTime!

  """Type of incident"""
  incidentType: String!

  """Location where the incident occurred"""
  location: String!

  """Staff member who reported the incident"""
  reportedBy: String

  """Severity level of the incident"""
  severity: String

  """Current status of the incident"""
  status: String!

  """Date when the report was last updated"""
  updatedAt: DateTime!
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")

type MedicationDto {
  createdAt: DateTime!
  dosage: String
  endDate: DateTime
  frequency: String
  id: ID!
  instructions: String
  isActive: Boolean!
  name: String!
  prescribedBy: String
  route: String
  startDate: DateTime
  studentId: ID!
  updatedAt: DateTime!
}

type Mutation {
  createContact(input: ContactInputDto!): ContactDto!
  createHealthRecord(input: HealthRecordInputDto!): HealthRecordDto!
  deactivateContact(id: ID!): ContactDto!
  deleteContact(id: ID!): DeleteResponseDto!
  deleteHealthRecord(id: ID!): DeleteResponseDto!
  reactivateContact(id: ID!): ContactDto!
  updateContact(id: ID!, input: ContactUpdateInputDto!): ContactDto!
  updateHealthRecord(id: ID!, input: HealthRecordUpdateInputDto!): HealthRecordDto!
}

type PaginationDto {
  limit: Float!
  page: Float!
  total: Float!
  totalPages: Float!
}

"""Valid phone number in E.164 format (+1234567890)"""
scalar PhoneNumber

type Query {
  contact(id: ID!): ContactDto
  contactStats: ContactStatsDto!
  contacts(filters: ContactFilterInputDto, limit: Float! = 20, orderBy: String! = "lastName", orderDirection: String! = "ASC", page: Float! = 1): ContactListResponseDto!
  contactsByRelation(relationTo: ID!, type: String): [ContactDto!]!
  healthRecord(id: ID!): HealthRecordDto
  healthRecords(filters: HealthRecordFilterInputDto, limit: Float! = 20, orderBy: String! = "recordDate", orderDirection: String! = "DESC", page: Float! = 1): HealthRecordListResponseDto!
  healthRecordsByStudent(studentId: ID!): [HealthRecordDto!]!
  searchContacts(limit: Float! = 10, query: String!): [ContactDto!]!
  student(id: ID!): StudentDto
  students(filters: StudentFilterInputDto, limit: Float! = 20, orderBy: String! = "lastName", orderDirection: String! = "ASC", page: Float! = 1): StudentListResponseDto!
}

type StudentDto {
  """Chronic conditions for the student"""
  chronicConditions: [ChronicCondition]!

  """Count of contacts"""
  contactCount: Float!

  """Guardian contacts for the student"""
  contacts: [ContactDto]!
  createdAt: DateTime!
  dateOfBirth: DateTime!

  """Emergency contacts for the student"""
  emergencyContacts: [EmergencyContact]!
  enrollmentDate: DateTime!
  firstName: String!
  fullName: String!
  gender: Gender!
  grade: String!

  """Health record for the student"""
  healthRecord: HealthRecordDto
  id: ID!
  isActive: Boolean!
  lastName: String!
  medicalRecordNum: String

  """Medications assigned to the student"""
  medications: [MedicationDto]!
  nurseId: ID
  photo: String

  """Recent incident reports for the student"""
  recentIncidents: [IncidentReport]!
  studentNumber: String!
  updatedAt: DateTime!
}

input StudentFilterInputDto {
  grade: String
  isActive: Boolean
  nurseId: ID
  search: String
}

type StudentListResponseDto {
  pagination: PaginationDto!
  students: [StudentDto!]!
}

type Subscription {
  alertCreated: AlertDto!
  criticalAlert: AlertDto!
  healthRecordCreated(studentId: ID): HealthRecordDto!
  healthRecordUpdated(studentId: ID): HealthRecordDto!
  studentUpdated(studentId: ID): StudentDto!
  vitalsUpdated(studentId: ID!): VitalsDto!
}

"""Universally Unique Identifier (UUID v4)"""
scalar UUID

type VitalsDto {
  bloodPressureDiastolic: Float
  bloodPressureSystolic: Float
  createdAt: DateTime!
  heartRate: Float
  height: Float
  heightUnit: String
  id: ID!
  notes: String
  oxygenSaturation: Float
  recordedAt: DateTime!
  recordedById: ID
  respiratoryRate: Float
  studentId: ID!
  temperature: Float
  temperatureUnit: String
  weight: Float
  weightUnit: String
}