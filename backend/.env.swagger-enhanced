# ===================================
# SWAGGER/API DOCUMENTATION CONFIGURATION
# ===================================

# Enable Swagger UI in production environment
# Security Note: Keep disabled in production unless you need external access to API docs
# Default: false
SWAGGER_ENABLE_IN_PRODUCTION=false

# Require authentication to access Swagger UI
# When true, users must be logged in with valid JWT to view documentation
# Default: false
SWAGGER_REQUIRE_AUTH=false

# Swagger documentation host address
# Used in OpenAPI specification to define the base URL for API calls
# Examples:
#   Development: localhost:3001
#   Staging: api-staging.whitecross.health
#   Production: api.whitecross.health
SWAGGER_HOST=localhost:3001

# IP address whitelist for Swagger UI access
# Comma-separated list of IP addresses allowed to access API documentation
# Leave empty to allow all IPs (not recommended for production)
# Use "*" to explicitly allow all IPs
# Examples:
#   Single IP: 192.168.1.100
#   Multiple IPs: 10.0.0.1,10.0.0.2,192.168.1.100
#   CIDR ranges not supported (use proxy/firewall for CIDR filtering)
SWAGGER_ALLOWED_IPS=

# Enable rate limiting for Swagger endpoints
# Prevents abuse by limiting requests to documentation endpoints
# Default: true
SWAGGER_ENABLE_RATE_LIMITING=true

# Maximum requests per rate limit window
# Number of requests allowed from a single IP within the rate limit window
# Default: 100 requests
SWAGGER_RATE_LIMIT_MAX=100

# Rate limit window duration in milliseconds
# Time window for rate limiting (resets after this duration)
# Default: 900000ms (15 minutes)
# Common values:
#   1 minute: 60000
#   5 minutes: 300000
#   15 minutes: 900000
#   1 hour: 3600000
SWAGGER_RATE_LIMIT_WINDOW_MS=900000

# Enable Content Security Policy headers
# Adds CSP headers to Swagger UI for additional security
# Default: true
SWAGGER_ENABLE_CSP=true

# Enable CORS for Swagger UI
# Allows cross-origin requests to Swagger endpoints
# Required if frontend is on different domain
# Default: true
SWAGGER_ENABLE_CORS=true

# ===================================
# ENVIRONMENT-SPECIFIC CONFIGURATIONS
# ===================================

# Development Environment
# - Swagger enabled by default
# - No authentication required
# - No IP restrictions
# - Rate limiting enabled but permissive

# Staging Environment (Recommended)
# SWAGGER_ENABLE_IN_PRODUCTION=true
# SWAGGER_REQUIRE_AUTH=true
# SWAGGER_ALLOWED_IPS=<staging-team-ips>
# SWAGGER_RATE_LIMIT_MAX=50

# Production Environment (Recommended)
# SWAGGER_ENABLE_IN_PRODUCTION=false
# SWAGGER_REQUIRE_AUTH=true
# SWAGGER_ALLOWED_IPS=<admin-ips-only>
# SWAGGER_RATE_LIMIT_MAX=20

# ===================================
# SWAGGER ENDPOINTS
# ===================================

# When enabled, Swagger UI is available at:
#   Documentation: http://localhost:3001/docs
#   Swagger UI: http://localhost:3001/swagger/
#   OpenAPI JSON: http://localhost:3001/swagger.json
#   Health Check: http://localhost:3001/health/swagger

# ===================================
# SECURITY RECOMMENDATIONS
# ===================================

# 1. Production: Keep SWAGGER_ENABLE_IN_PRODUCTION=false unless absolutely necessary
# 2. Staging: Use IP whitelisting (SWAGGER_ALLOWED_IPS) for team access
# 3. Always: Enable rate limiting to prevent documentation scraping
# 4. Consider: Requiring authentication for Swagger UI in all environments
# 5. Monitor: Check /health/swagger endpoint for documentation availability status
# 6. Network: Use reverse proxy/firewall for additional IP filtering
# 7. Compliance: Ensure API documentation doesn't expose PHI/sensitive data examples
