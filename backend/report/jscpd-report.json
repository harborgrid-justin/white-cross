{
  "statistics": {
    "detectionDate": "2025-11-12T23:06:16.875Z",
    "formats": {
      "typescript": {
        "sources": {
          "src/shared/utilities/resilience/timeout.ts": {
            "lines": 235,
            "tokens": 783,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/resilience/retry.ts": {
            "lines": 321,
            "tokens": 1424,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/resilience/index.ts": {
            "lines": 29,
            "tokens": 88,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/enterprise/services/enterprise-metrics.service.ts": {
            "lines": 437,
            "tokens": 3437,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/enterprise/services/enterprise-cache.service.ts": {
            "lines": 400,
            "tokens": 2887,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/enterprise/interfaces/enterprise-metrics.interface.ts": {
            "lines": 79,
            "tokens": 516,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/enterprise/decorators/enterprise-decorators.ts": {
            "lines": 261,
            "tokens": 1903,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/utils/types/middleware.types.ts": {
            "lines": 398,
            "tokens": 2642,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/__tests__/rate-limit.guard.spec.ts": {
            "lines": 655,
            "tokens": 5331,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 226,
            "percentage": 3.97,
            "percentageTokens": 4.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/__tests__/csrf.guard.spec.ts": {
            "lines": 861,
            "tokens": 6928,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 122,
            "duplicatedTokens": 1157,
            "percentage": 14.17,
            "percentageTokens": 16.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts": {
            "lines": 751,
            "tokens": 5544,
            "sources": 1,
            "clones": 16,
            "duplicatedLines": 206,
            "duplicatedTokens": 1530,
            "percentage": 27.43,
            "percentageTokens": 27.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/types/validation.types.ts": {
            "lines": 117,
            "tokens": 460,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/types/session.types.ts": {
            "lines": 121,
            "tokens": 746,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/types/rbac.types.ts": {
            "lines": 247,
            "tokens": 1119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/types/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/services/rbac-permission.service.ts": {
            "lines": 200,
            "tokens": 1073,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/pipes/validation.pipe.ts": {
            "lines": 292,
            "tokens": 1664,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 111,
            "percentage": 4.45,
            "percentageTokens": 6.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/middleware/session.middleware.ts": {
            "lines": 489,
            "tokens": 3107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/guards/rbac.guard.ts": {
            "lines": 160,
            "tokens": 960,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 50,
            "duplicatedTokens": 294,
            "percentage": 31.25,
            "percentageTokens": 30.63,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/guards/permissions.guard.ts": {
            "lines": 130,
            "tokens": 700,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 50,
            "duplicatedTokens": 294,
            "percentage": 38.46,
            "percentageTokens": 42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/guards/permissions.guard.spec.ts": {
            "lines": 563,
            "tokens": 4168,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 122,
            "duplicatedTokens": 838,
            "percentage": 21.67,
            "percentageTokens": 20.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/decorators/permissions.decorator.ts": {
            "lines": 57,
            "tokens": 226,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/adapters/shared/index.ts": {
            "lines": 12,
            "tokens": 38,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/adapters/shared/base.adapter.ts": {
            "lines": 453,
            "tokens": 2756,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/adapters/hapi/index.ts": {
            "lines": 13,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/adapters/hapi/hapi.adapter.ts": {
            "lines": 580,
            "tokens": 3700,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 75,
            "duplicatedTokens": 698,
            "percentage": 12.93,
            "percentageTokens": 18.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/adapters/express/index.ts": {
            "lines": 13,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/adapters/express/express.adapter.ts": {
            "lines": 456,
            "tokens": 2902,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 53,
            "duplicatedTokens": 484,
            "percentage": 11.62,
            "percentageTokens": 16.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/types/websocket.types.ts": {
            "lines": 107,
            "tokens": 656,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/types/redis-config.types.ts": {
            "lines": 57,
            "tokens": 119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/rate-limiter.service.ts": {
            "lines": 331,
            "tokens": 1666,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/presence.service.ts": {
            "lines": 92,
            "tokens": 562,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/presence-manager.service.ts": {
            "lines": 211,
            "tokens": 1225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/message.service.ts": {
            "lines": 132,
            "tokens": 892,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/message-handler.service.ts": {
            "lines": 359,
            "tokens": 2447,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 48,
            "duplicatedTokens": 392,
            "percentage": 13.37,
            "percentageTokens": 16.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/conversation-handler.service.ts": {
            "lines": 143,
            "tokens": 975,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 182,
            "percentage": 18.18,
            "percentageTokens": 18.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/connection-manager.service.ts": {
            "lines": 196,
            "tokens": 1218,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 85,
            "percentage": 8.16,
            "percentageTokens": 6.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/broadcast.service.ts": {
            "lines": 112,
            "tokens": 862,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 242,
            "percentage": 25,
            "percentageTokens": 28.07,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/alert.service.ts": {
            "lines": 157,
            "tokens": 1158,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/services/admin-metrics.service.ts": {
            "lines": 666,
            "tokens": 5292,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/pipes/ws-validation.pipe.ts": {
            "lines": 102,
            "tokens": 515,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/middleware/ws-auth.middleware.ts": {
            "lines": 138,
            "tokens": 782,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 91,
            "percentage": 13.04,
            "percentageTokens": 11.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/listeners/appointment.listener.ts": {
            "lines": 577,
            "tokens": 3243,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 50,
            "duplicatedTokens": 494,
            "percentage": 8.67,
            "percentageTokens": 15.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/listeners/appointment-events.listener.ts": {
            "lines": 443,
            "tokens": 2769,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 162,
            "duplicatedTokens": 1338,
            "percentage": 36.57,
            "percentageTokens": 48.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/interfaces/authenticated-socket.interface.ts": {
            "lines": 19,
            "tokens": 57,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/interfaces/auth-payload.interface.ts": {
            "lines": 28,
            "tokens": 53,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/interceptors/ws-transform.interceptor.ts": {
            "lines": 108,
            "tokens": 590,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/interceptors/ws-logging.interceptor.ts": {
            "lines": 105,
            "tokens": 646,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/guards/ws-throttle.guard.ts": {
            "lines": 85,
            "tokens": 401,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/guards/ws-jwt-auth.guard.ts": {
            "lines": 257,
            "tokens": 1692,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 91,
            "percentage": 7,
            "percentageTokens": 5.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/gateways/admin.gateway.ts": {
            "lines": 584,
            "tokens": 4219,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/filters/ws-exception.filter.ts": {
            "lines": 296,
            "tokens": 1710,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/typing-indicator.dto.ts": {
            "lines": 133,
            "tokens": 481,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 35,
            "duplicatedTokens": 127,
            "percentage": 26.32,
            "percentageTokens": 26.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/typing-indicator-input.dto.ts": {
            "lines": 17,
            "tokens": 72,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/send-message.dto.ts": {
            "lines": 68,
            "tokens": 346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/read-receipt.dto.ts": {
            "lines": 135,
            "tokens": 468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/read-receipt-input.dto.ts": {
            "lines": 22,
            "tokens": 115,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/message-event.dto.ts": {
            "lines": 206,
            "tokens": 774,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/message-delivery.dto.ts": {
            "lines": 157,
            "tokens": 567,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/join-conversation.dto.ts": {
            "lines": 13,
            "tokens": 47,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/index.ts": {
            "lines": 20,
            "tokens": 120,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/edit-message.dto.ts": {
            "lines": 24,
            "tokens": 114,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/delete-message.dto.ts": {
            "lines": 17,
            "tokens": 68,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/conversation-event.dto.ts": {
            "lines": 190,
            "tokens": 651,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 35,
            "duplicatedTokens": 127,
            "percentage": 18.42,
            "percentageTokens": 19.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/connection-confirmed.dto.ts": {
            "lines": 32,
            "tokens": 83,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/dto/broadcast-message.dto.ts": {
            "lines": 43,
            "tokens": 157,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/adapters/redis-io.adapter.ts": {
            "lines": 241,
            "tokens": 1607,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/services/sms-template.service.ts": {
            "lines": 364,
            "tokens": 2066,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/services/sms-sender.service.ts": {
            "lines": 370,
            "tokens": 2814,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 56,
            "duplicatedTokens": 380,
            "percentage": 15.14,
            "percentageTokens": 13.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/services/rate-limiter.service.ts": {
            "lines": 274,
            "tokens": 1610,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/services/phone-validator.service.ts": {
            "lines": 258,
            "tokens": 1324,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/services/index.ts": {
            "lines": 8,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/services/cost-tracker.service.ts": {
            "lines": 293,
            "tokens": 1866,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/providers/twilio.provider.ts": {
            "lines": 330,
            "tokens": 2116,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/processors/sms-queue.processor.ts": {
            "lines": 261,
            "tokens": 1738,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/sms-template.dto.ts": {
            "lines": 94,
            "tokens": 518,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/sms-queue-job.dto.ts": {
            "lines": 133,
            "tokens": 706,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/send-sms.dto.ts": {
            "lines": 96,
            "tokens": 561,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/rate-limit.dto.ts": {
            "lines": 81,
            "tokens": 412,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/phone-number.dto.ts": {
            "lines": 87,
            "tokens": 450,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/index.ts": {
            "lines": 13,
            "tokens": 90,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/generic-sms.dto.ts": {
            "lines": 22,
            "tokens": 121,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/cost-tracking.dto.ts": {
            "lines": 150,
            "tokens": 833,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/bulk-sms.dto.ts": {
            "lines": 84,
            "tokens": 556,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/dto/alert-sms.dto.ts": {
            "lines": 42,
            "tokens": 285,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/base/base-sms.service.ts": {
            "lines": 151,
            "tokens": 1010,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/processors/message-notification.processor.ts": {
            "lines": 136,
            "tokens": 1023,
            "sources": 1,
            "clones": 14,
            "duplicatedLines": 215,
            "duplicatedTokens": 1764,
            "percentage": 158.09,
            "percentageTokens": 172.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/processors/message-indexing.processor.ts": {
            "lines": 116,
            "tokens": 868,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 70,
            "duplicatedTokens": 586,
            "percentage": 60.34,
            "percentageTokens": 67.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/processors/message-encryption.processor.ts": {
            "lines": 114,
            "tokens": 908,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 75,
            "duplicatedTokens": 577,
            "percentage": 65.79,
            "percentageTokens": 63.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/processors/message-delivery.processor.ts": {
            "lines": 158,
            "tokens": 1101,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 86,
            "duplicatedTokens": 649,
            "percentage": 54.43,
            "percentageTokens": 58.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/processors/message-cleanup.processor.ts": {
            "lines": 122,
            "tokens": 897,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 41,
            "duplicatedTokens": 323,
            "percentage": 33.61,
            "percentageTokens": 36.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/processors/index.ts": {
            "lines": 10,
            "tokens": 79,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/processors/batch-message.processor.ts": {
            "lines": 106,
            "tokens": 846,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 61,
            "duplicatedTokens": 524,
            "percentage": 57.55,
            "percentageTokens": 61.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/interfaces/queue-metrics.interface.ts": {
            "lines": 171,
            "tokens": 439,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/interfaces/queue-job.interface.ts": {
            "lines": 165,
            "tokens": 438,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/interfaces/index.ts": {
            "lines": 20,
            "tokens": 79,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/enums/queue-name.enum.ts": {
            "lines": 46,
            "tokens": 84,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/enums/job-priority.enum.ts": {
            "lines": 34,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/dtos/notification-job.dto.ts": {
            "lines": 246,
            "tokens": 920,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 150,
            "duplicatedTokens": 494,
            "percentage": 60.98,
            "percentageTokens": 53.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/dtos/message-job.dto.ts": {
            "lines": 595,
            "tokens": 2172,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 355,
            "duplicatedTokens": 1135,
            "percentage": 59.66,
            "percentageTokens": 52.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/dtos/index.ts": {
            "lines": 30,
            "tokens": 120,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/dtos/batch-message-job.dto.ts": {
            "lines": 253,
            "tokens": 987,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 63,
            "duplicatedTokens": 211,
            "percentage": 24.9,
            "percentageTokens": 21.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/types/query-monitor.types.ts": {
            "lines": 77,
            "tokens": 486,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/types/metrics.types.ts": {
            "lines": 97,
            "tokens": 605,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/types/health-check.types.ts": {
            "lines": 115,
            "tokens": 715,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/system-metrics.service.ts": {
            "lines": 149,
            "tokens": 1077,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 264,
            "percentage": 20.81,
            "percentageTokens": 24.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/slow-query-detector.service.ts": {
            "lines": 191,
            "tokens": 1353,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/resource-monitor.service.ts": {
            "lines": 165,
            "tokens": 1181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/request-metrics.service.ts": {
            "lines": 187,
            "tokens": 1546,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 99,
            "duplicatedTokens": 815,
            "percentage": 52.94,
            "percentageTokens": 52.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/query-analyzer.service.ts": {
            "lines": 227,
            "tokens": 1552,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/performance-reporter.service.ts": {
            "lines": 286,
            "tokens": 2186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/performance-analyzer.service.ts": {
            "lines": 202,
            "tokens": 1583,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 137,
            "duplicatedTokens": 1040,
            "percentage": 67.82,
            "percentageTokens": 65.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/n1-query-detector.service.ts": {
            "lines": 221,
            "tokens": 1544,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/health-analyzer.service.ts": {
            "lines": 206,
            "tokens": 1819,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/external-service-monitor.service.ts": {
            "lines": 127,
            "tokens": 984,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/services/cache-metrics.service.ts": {
            "lines": 128,
            "tokens": 825,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 28,
            "duplicatedTokens": 197,
            "percentage": 21.88,
            "percentageTokens": 23.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/interfaces/metrics.interface.ts": {
            "lines": 296,
            "tokens": 1251,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/interfaces/index.ts": {
            "lines": 8,
            "tokens": 19,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/interfaces/health-check.interface.ts": {
            "lines": 118,
            "tokens": 313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/services/reminder-notification.service.ts": {
            "lines": 306,
            "tokens": 2153,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/services/reminder-generator.service.ts": {
            "lines": 181,
            "tokens": 876,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/services/reminder-cache.service.ts": {
            "lines": 133,
            "tokens": 941,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/services/queue-manager.service.ts": {
            "lines": 289,
            "tokens": 1994,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/processors/medication-reminder.processor.ts": {
            "lines": 159,
            "tokens": 1096,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/processors/inventory-maintenance.processor.ts": {
            "lines": 101,
            "tokens": 760,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/interfaces/medication-reminder.interface.ts": {
            "lines": 98,
            "tokens": 450,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/interfaces/job-processor.interface.ts": {
            "lines": 9,
            "tokens": 50,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/interfaces/job-data.interface.ts": {
            "lines": 49,
            "tokens": 260,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/enums/job-type.enum.ts": {
            "lines": 14,
            "tokens": 74,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/base/base.processor.ts": {
            "lines": 25,
            "tokens": 119,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 94,
            "percentage": 68,
            "percentageTokens": 78.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/types/context.interface.ts": {
            "lines": 83,
            "tokens": 222,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/scalars/uuid.scalar.ts": {
            "lines": 84,
            "tokens": 357,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/scalars/phone-number.scalar.ts": {
            "lines": 90,
            "tokens": 413,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/scalars/index.ts": {
            "lines": 9,
            "tokens": 52,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/scalars/email-address.scalar.ts": {
            "lines": 113,
            "tokens": 690,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/scalars/datetime.scalar.ts": {
            "lines": 83,
            "tokens": 373,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/resolvers/subscription.resolver.ts": {
            "lines": 331,
            "tokens": 1871,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/resolvers/student.resolver.ts": {
            "lines": 482,
            "tokens": 2892,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 64,
            "duplicatedTokens": 307,
            "percentage": 13.28,
            "percentageTokens": 10.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/resolvers/index.ts": {
            "lines": 9,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/resolvers/health-record.resolver.ts": {
            "lines": 455,
            "tokens": 2954,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 122,
            "percentage": 5.05,
            "percentageTokens": 4.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/resolvers/contact.resolver.ts": {
            "lines": 445,
            "tokens": 3369,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 41,
            "duplicatedTokens": 185,
            "percentage": 9.21,
            "percentageTokens": 5.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/pubsub/pubsub.module.ts": {
            "lines": 102,
            "tokens": 632,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/plugins/complexity.plugin.ts": {
            "lines": 139,
            "tokens": 640,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/guards/resource-ownership.guard.ts": {
            "lines": 222,
            "tokens": 1164,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/guards/index.ts": {
            "lines": 8,
            "tokens": 36,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/guards/gql-roles.guard.ts": {
            "lines": 71,
            "tokens": 399,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/guards/gql-auth.guard.ts": {
            "lines": 241,
            "tokens": 1543,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 117,
            "percentage": 5.81,
            "percentageTokens": 7.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/guards/field-authorization.guard.ts": {
            "lines": 133,
            "tokens": 539,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/errors/phi-sanitizer.ts": {
            "lines": 259,
            "tokens": 1290,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/vitals.dto.ts": {
            "lines": 64,
            "tokens": 478,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/student.dto.ts": {
            "lines": 283,
            "tokens": 2139,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 60,
            "duplicatedTokens": 518,
            "percentage": 21.2,
            "percentageTokens": 24.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/pagination.dto.ts": {
            "lines": 23,
            "tokens": 89,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/medication.dto.ts": {
            "lines": 52,
            "tokens": 293,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/index.ts": {
            "lines": 15,
            "tokens": 99,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/incident-report.dto.ts": {
            "lines": 47,
            "tokens": 372,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/health-record.dto.ts": {
            "lines": 363,
            "tokens": 2792,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 108,
            "duplicatedTokens": 873,
            "percentage": 29.75,
            "percentageTokens": 31.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/emergency-contact.dto.ts": {
            "lines": 38,
            "tokens": 279,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/contact.dto.ts": {
            "lines": 371,
            "tokens": 2775,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 228,
            "duplicatedTokens": 1841,
            "percentage": 61.46,
            "percentageTokens": 66.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/chronic-condition.dto.ts": {
            "lines": 38,
            "tokens": 297,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/allergy.dto.ts": {
            "lines": 41,
            "tokens": 326,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dto/alert.dto.ts": {
            "lines": 63,
            "tokens": 355,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/dataloaders/dataloader.factory.ts": {
            "lines": 532,
            "tokens": 3727,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/types/encryption.types.ts": {
            "lines": 88,
            "tokens": 621,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/services/session-key-manager.service.ts": {
            "lines": 217,
            "tokens": 1632,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/services/message-encryption.service.ts": {
            "lines": 172,
            "tokens": 1120,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/services/crypto.service.ts": {
            "lines": 177,
            "tokens": 1321,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/interfaces/key-management.interfaces.ts": {
            "lines": 372,
            "tokens": 1153,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/interfaces/encryption.interfaces.ts": {
            "lines": 301,
            "tokens": 879,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/dto/key-exchange.dto.ts": {
            "lines": 364,
            "tokens": 1859,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/dto/encryption-keys.dto.ts": {
            "lines": 361,
            "tokens": 1847,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 48,
            "duplicatedTokens": 260,
            "percentage": 13.3,
            "percentageTokens": 14.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/dto/encrypted-message.dto.ts": {
            "lines": 296,
            "tokens": 1617,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 84,
            "duplicatedTokens": 498,
            "percentage": 28.38,
            "percentageTokens": 30.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/types/email.types.ts": {
            "lines": 96,
            "tokens": 604,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/services/email-validator.service.ts": {
            "lines": 88,
            "tokens": 701,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/services/email-statistics.service.ts": {
            "lines": 121,
            "tokens": 792,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/services/email-sender.service.ts": {
            "lines": 280,
            "tokens": 2253,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/listeners/appointment.listener.ts": {
            "lines": 496,
            "tokens": 2302,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/dto/email.dto.ts": {
            "lines": 441,
            "tokens": 1851,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/__tests__/email.service.spec.ts": {
            "lines": 422,
            "tokens": 3739,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/__tests__/email-template.service.spec.ts": {
            "lines": 258,
            "tokens": 2135,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 176,
            "percentage": 8.53,
            "percentageTokens": 8.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/__tests__/email-rate-limiter.service.spec.ts": {
            "lines": 313,
            "tokens": 2687,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/dto/vaccination-endpoints.dto.ts": {
            "lines": 191,
            "tokens": 1077,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/dto/update-vaccination.dto.ts": {
            "lines": 9,
            "tokens": 44,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/dto/create-vaccination.dto.ts": {
            "lines": 148,
            "tokens": 1087,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/l3-cache.service.ts": {
            "lines": 265,
            "tokens": 2191,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 115,
            "percentage": 4.91,
            "percentageTokens": 5.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/l2-cache.service.ts": {
            "lines": 325,
            "tokens": 2534,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 95,
            "duplicatedTokens": 753,
            "percentage": 29.23,
            "percentageTokens": 29.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/l1-cache.service.ts": {
            "lines": 286,
            "tokens": 2082,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 95,
            "percentage": 4.2,
            "percentageTokens": 4.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-types.ts": {
            "lines": 90,
            "tokens": 506,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 62,
            "duplicatedTokens": 399,
            "percentage": 68.89,
            "percentageTokens": 78.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-tiers.service.ts": {
            "lines": 8,
            "tokens": 32,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-tier-manager.service.ts": {
            "lines": 223,
            "tokens": 2286,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 204,
            "percentage": 10.76,
            "percentageTokens": 8.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-strategy-orchestrator.service.ts": {
            "lines": 450,
            "tokens": 3358,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 251,
            "percentage": 5.78,
            "percentageTokens": 7.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-optimization.service.ts": {
            "lines": 443,
            "tokens": 3136,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 152,
            "percentage": 4.51,
            "percentageTokens": 4.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-metrics-collector.service.ts": {
            "lines": 257,
            "tokens": 2284,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-interfaces.ts": {
            "lines": 93,
            "tokens": 553,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 62,
            "duplicatedTokens": 399,
            "percentage": 66.67,
            "percentageTokens": 72.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-health-monitor.service.ts": {
            "lines": 309,
            "tokens": 2808,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-constants.ts": {
            "lines": 73,
            "tokens": 425,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache/cache-access-pattern-tracker.service.ts": {
            "lines": 320,
            "tokens": 3023,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/screening/dto/screening.dto.ts": {
            "lines": 246,
            "tokens": 1318,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/medication/dto/update-medication.dto.ts": {
            "lines": 9,
            "tokens": 47,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/medication/dto/create-medication.dto.ts": {
            "lines": 91,
            "tokens": 558,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/import-export/types/import-export.types.ts": {
            "lines": 240,
            "tokens": 1148,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/chronic-condition/dto/update-chronic-condition.dto.ts": {
            "lines": 12,
            "tokens": 59,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/chronic-condition/dto/create-chronic-condition.dto.ts": {
            "lines": 164,
            "tokens": 1065,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/allergy/dto/update-allergy.dto.ts": {
            "lines": 24,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/allergy/dto/index.ts": {
            "lines": 10,
            "tokens": 38,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/allergy/dto/create-allergy.dto.ts": {
            "lines": 162,
            "tokens": 1081,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/allergy/dto/check-conflicts.dto.ts": {
            "lines": 70,
            "tokens": 408,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/allergy/dto/allergy-filter.dto.ts": {
            "lines": 73,
            "tokens": 457,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/interfaces/vital-signs.repository.interface.ts": {
            "lines": 105,
            "tokens": 764,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 60,
            "duplicatedTokens": 468,
            "percentage": 57.14,
            "percentageTokens": 61.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/interfaces/medical-history.repository.interface.ts": {
            "lines": 94,
            "tokens": 671,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 49,
            "duplicatedTokens": 370,
            "percentage": 52.13,
            "percentageTokens": 55.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/interfaces/lab-results.repository.interface.ts": {
            "lines": 128,
            "tokens": 914,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 54,
            "duplicatedTokens": 414,
            "percentage": 42.19,
            "percentageTokens": 45.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/interfaces/index.ts": {
            "lines": 10,
            "tokens": 55,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/interfaces/immunization.repository.interface.ts": {
            "lines": 97,
            "tokens": 688,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 58,
            "duplicatedTokens": 434,
            "percentage": 59.79,
            "percentageTokens": 63.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/interfaces/health-screening.repository.interface.ts": {
            "lines": 83,
            "tokens": 568,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/interfaces/growth-tracking.repository.interface.ts": {
            "lines": 125,
            "tokens": 867,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/impl/vital-signs.repository.ts": {
            "lines": 457,
            "tokens": 3235,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 73,
            "duplicatedTokens": 569,
            "percentage": 15.97,
            "percentageTokens": 17.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/impl/medical-history.repository.ts": {
            "lines": 519,
            "tokens": 3553,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 84,
            "duplicatedTokens": 620,
            "percentage": 16.18,
            "percentageTokens": 17.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/impl/lab-results.repository.ts": {
            "lines": 504,
            "tokens": 3791,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/impl/index.ts": {
            "lines": 10,
            "tokens": 55,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/impl/immunization.repository.ts": {
            "lines": 385,
            "tokens": 2661,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/impl/health-screening.repository.ts": {
            "lines": 414,
            "tokens": 2841,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 32,
            "duplicatedTokens": 202,
            "percentage": 7.73,
            "percentageTokens": 7.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/impl/growth-tracking.repository.ts": {
            "lines": 495,
            "tokens": 3453,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 113,
            "percentage": 3.84,
            "percentageTokens": 3.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/services/recurring/recurring-template.service.ts": {
            "lines": 219,
            "tokens": 1712,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/services/recurring/recurring-statistics.service.ts": {
            "lines": 59,
            "tokens": 480,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/services/recurring/recurring-generation.service.ts": {
            "lines": 145,
            "tokens": 1113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/services/analytics/statistics.service.ts": {
            "lines": 150,
            "tokens": 1052,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 35,
            "duplicatedTokens": 236,
            "percentage": 23.33,
            "percentageTokens": 22.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/services/analytics/metrics.service.ts": {
            "lines": 176,
            "tokens": 1230,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 132,
            "percentage": 9.66,
            "percentageTokens": 10.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/services/analytics/export.service.ts": {
            "lines": 69,
            "tokens": 505,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 104,
            "percentage": 26.09,
            "percentageTokens": 20.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/services/analytics/compliance.service.ts": {
            "lines": 52,
            "tokens": 389,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/types/resource.types.ts": {
            "lines": 251,
            "tokens": 1488,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/smart-garbage-collection.service.ts": {
            "lines": 504,
            "tokens": 3735,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/resource-monitor.service.ts": {
            "lines": 418,
            "tokens": 3292,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 192,
            "percentage": 4.78,
            "percentageTokens": 5.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/pool-optimization.service.ts": {
            "lines": 475,
            "tokens": 3654,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/memory-optimized-cache.service.ts": {
            "lines": 335,
            "tokens": 2426,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/memory-monitor.service.ts": {
            "lines": 337,
            "tokens": 2641,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/memory-leak-detection.service.ts": {
            "lines": 538,
            "tokens": 4110,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 192,
            "percentage": 3.72,
            "percentageTokens": 4.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/index.ts": {
            "lines": 13,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/gc-optimization.service.ts": {
            "lines": 513,
            "tokens": 4009,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/dynamic-resource-pool.service.ts": {
            "lines": 499,
            "tokens": 3995,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/services/cache-eviction.service.ts": {
            "lines": 117,
            "tokens": 857,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/interceptors/smart-cache.interceptor.ts": {
            "lines": 107,
            "tokens": 896,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/interceptors/resource-throttle.interceptor.ts": {
            "lines": 413,
            "tokens": 3081,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/interceptors/memory-pressure.interceptor.ts": {
            "lines": 446,
            "tokens": 3201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/interceptors/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/guards/resource-quota.guard.ts": {
            "lines": 490,
            "tokens": 3557,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/guards/memory-threshold.guard.ts": {
            "lines": 58,
            "tokens": 454,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/guards/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/guards/gc-scheduler.guard.ts": {
            "lines": 550,
            "tokens": 4022,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/decorators/memory-optimization.decorators.ts": {
            "lines": 561,
            "tokens": 3633,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/query-builder/unions-subqueries.service.ts": {
            "lines": 417,
            "tokens": 2588,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 172,
            "percentage": 4.8,
            "percentageTokens": 6.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/query-builder/optimization.service.ts": {
            "lines": 618,
            "tokens": 4079,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 51,
            "duplicatedTokens": 414,
            "percentage": 8.25,
            "percentageTokens": 10.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/query-builder/interfaces.ts": {
            "lines": 131,
            "tokens": 753,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/query-builder/index.ts": {
            "lines": 55,
            "tokens": 163,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/query-builder/basic-builders.service.ts": {
            "lines": 245,
            "tokens": 2301,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 51,
            "duplicatedTokens": 414,
            "percentage": 20.82,
            "percentageTokens": 17.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/query-builder/advanced-aggregates.service.ts": {
            "lines": 460,
            "tokens": 3360,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 40,
            "duplicatedTokens": 380,
            "percentage": 8.7,
            "percentageTokens": 11.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/optimization/vacuum-maintenance.service.ts": {
            "lines": 320,
            "tokens": 1498,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/optimization/types.ts": {
            "lines": 139,
            "tokens": 747,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 132,
            "duplicatedTokens": 744,
            "percentage": 94.96,
            "percentageTokens": 99.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/optimization/statistics-analysis.service.ts": {
            "lines": 470,
            "tokens": 2434,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 194,
            "percentage": 5.53,
            "percentageTokens": 7.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/optimization/query-optimization.service.ts": {
            "lines": 600,
            "tokens": 3373,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 81,
            "duplicatedTokens": 368,
            "percentage": 13.5,
            "percentageTokens": 10.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/optimization/index.ts": {
            "lines": 29,
            "tokens": 100,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/optimization/index-management.service.ts": {
            "lines": 709,
            "tokens": 3495,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 86,
            "duplicatedTokens": 692,
            "percentage": 12.13,
            "percentageTokens": 19.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/optimization/database-optimization.service.ts": {
            "lines": 80,
            "tokens": 609,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/optimization/cache-optimization.service.ts": {
            "lines": 295,
            "tokens": 1383,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 81,
            "duplicatedTokens": 368,
            "percentage": 27.46,
            "percentageTokens": 26.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/optimization/bloat-detection.service.ts": {
            "lines": 291,
            "tokens": 1622,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/operations/streaming-operations.service.ts": {
            "lines": 548,
            "tokens": 4507,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 262,
            "duplicatedTokens": 2090,
            "percentage": 47.81,
            "percentageTokens": 46.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/operations/join-operations.service.ts": {
            "lines": 547,
            "tokens": 4423,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 42,
            "duplicatedTokens": 480,
            "percentage": 7.68,
            "percentageTokens": 10.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/operations/interfaces.ts": {
            "lines": 210,
            "tokens": 1185,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 92,
            "percentage": 8.57,
            "percentageTokens": 7.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/operations/index.ts": {
            "lines": 33,
            "tokens": 98,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/operations/crud-operations.service.ts": {
            "lines": 457,
            "tokens": 3902,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 212,
            "percentage": 5.69,
            "percentageTokens": 5.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/operations/batch-operations.service.ts": {
            "lines": 386,
            "tokens": 3508,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 114,
            "duplicatedTokens": 818,
            "percentage": 29.53,
            "percentageTokens": 23.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/operations/analytics-operations.service.ts": {
            "lines": 537,
            "tokens": 3611,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 180,
            "percentage": 4.84,
            "percentageTokens": 4.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/interfaces/student.repository.interface.ts": {
            "lines": 77,
            "tokens": 541,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/interfaces/repository.interface.ts": {
            "lines": 64,
            "tokens": 325,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/interfaces/message.repository.interface.ts": {
            "lines": 96,
            "tokens": 685,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/interfaces/medication.repository.interface.ts": {
            "lines": 140,
            "tokens": 1021,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 228,
            "percentage": 21.43,
            "percentageTokens": 22.33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/interfaces/index.ts": {
            "lines": 9,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/interfaces/health-record.repository.interface.ts": {
            "lines": 131,
            "tokens": 953,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 212,
            "percentage": 19.85,
            "percentageTokens": 22.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/webhook.repository.ts": {
            "lines": 63,
            "tokens": 510,
            "sources": 1,
            "clones": 48,
            "duplicatedLines": 672,
            "duplicatedTokens": 6576,
            "percentage": 1066.67,
            "percentageTokens": 1289.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/vital-signs.repository.ts": {
            "lines": 151,
            "tokens": 1216,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 38,
            "duplicatedTokens": 298,
            "percentage": 25.17,
            "percentageTokens": 24.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/user.repository.ts": {
            "lines": 288,
            "tokens": 2446,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/treatment-plan.repository.ts": {
            "lines": 129,
            "tokens": 1071,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/threat-detection.repository.ts": {
            "lines": 65,
            "tokens": 515,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.54,
            "percentageTokens": 26.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/system-config.repository.ts": {
            "lines": 63,
            "tokens": 510,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.22,
            "percentageTokens": 26.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/sync-state.repository.ts": {
            "lines": 63,
            "tokens": 510,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.22,
            "percentageTokens": 26.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/supplier.repository.ts": {
            "lines": 63,
            "tokens": 509,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.22,
            "percentageTokens": 26.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/student.repository.ts": {
            "lines": 330,
            "tokens": 2538,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 180,
            "percentage": 6.67,
            "percentageTokens": 7.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/stock-level.repository.ts": {
            "lines": 62,
            "tokens": 498,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/session.repository.ts": {
            "lines": 268,
            "tokens": 2126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/security-incident.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/school.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/role.repository.ts": {
            "lines": 221,
            "tokens": 1862,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/report-template.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/regulatory-submission.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/push-token.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/prescription.repository.ts": {
            "lines": 128,
            "tokens": 1084,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/policy-document.repository.ts": {
            "lines": 98,
            "tokens": 766,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 14.29,
            "percentageTokens": 17.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/permission.repository.ts": {
            "lines": 240,
            "tokens": 1906,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/pdf-template.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/parent-guardian.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/nurse.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/notification.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/message.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/message-template.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/medication.repository.ts": {
            "lines": 158,
            "tokens": 1314,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/medication-log.repository.ts": {
            "lines": 234,
            "tokens": 1829,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/medical-history.repository.ts": {
            "lines": 151,
            "tokens": 1230,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/lab-result.repository.ts": {
            "lines": 155,
            "tokens": 1267,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/ip-restriction.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/inventory-transaction.repository.ts": {
            "lines": 64,
            "tokens": 503,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/inventory-item.repository.ts": {
            "lines": 62,
            "tokens": 498,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/integration-config.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/index.ts": {
            "lines": 83,
            "tokens": 712,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/incident-report.repository.ts": {
            "lines": 174,
            "tokens": 1422,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 34,
            "duplicatedTokens": 313,
            "percentage": 19.54,
            "percentageTokens": 22.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/incident-follow-up.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/immunization.repository.ts": {
            "lines": 160,
            "tokens": 1322,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/health-screening.repository.ts": {
            "lines": 148,
            "tokens": 1203,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/health-risk-assessment.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/health-record.repository.ts": {
            "lines": 163,
            "tokens": 1334,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/health-metric.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/health-assessment.repository.ts": {
            "lines": 161,
            "tokens": 1254,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/growth-tracking.repository.ts": {
            "lines": 137,
            "tokens": 1093,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 176,
            "percentage": 17.52,
            "percentageTokens": 16.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/grade.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/grade-transition.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/feature-flag.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/expense.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/emergency-contact.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/emergency-broadcast.repository.ts": {
            "lines": 65,
            "tokens": 515,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.54,
            "percentageTokens": 26.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/drug-interaction.repository.ts": {
            "lines": 122,
            "tokens": 1047,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/document.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/document-version.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/document-permission.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/district.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/device.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/data-retention-policy.repository.ts": {
            "lines": 89,
            "tokens": 706,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 15.73,
            "percentageTokens": 19.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/dashboard-config.repository.ts": {
            "lines": 64,
            "tokens": 504,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/contact.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/consent-signature.repository.ts": {
            "lines": 38,
            "tokens": 312,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/consent-form.repository.ts": {
            "lines": 38,
            "tokens": 312,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/compliance-violation.repository.ts": {
            "lines": 43,
            "tokens": 323,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/compliance-report.repository.ts": {
            "lines": 38,
            "tokens": 312,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/compliance-checklist-item.repository.ts": {
            "lines": 43,
            "tokens": 323,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/clinic.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/clinic-visit.repository.ts": {
            "lines": 154,
            "tokens": 1256,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/chronic-condition.repository.ts": {
            "lines": 53,
            "tokens": 456,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/budget.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/broadcast.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/audit-log.repository.ts": {
            "lines": 63,
            "tokens": 510,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.22,
            "percentageTokens": 26.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/attendance.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/appointment.repository.ts": {
            "lines": 63,
            "tokens": 509,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.22,
            "percentageTokens": 26.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/appointment-waitlist.repository.ts": {
            "lines": 102,
            "tokens": 652,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/appointment-slot.repository.ts": {
            "lines": 64,
            "tokens": 503,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 21.88,
            "percentageTokens": 27.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/appointment-reminder.repository.ts": {
            "lines": 39,
            "tokens": 320,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/api-key.repository.ts": {
            "lines": 62,
            "tokens": 499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.58,
            "percentageTokens": 27.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/allergy.repository.ts": {
            "lines": 168,
            "tokens": 1386,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/alert.repository.ts": {
            "lines": 61,
            "tokens": 476,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 137,
            "percentage": 22.95,
            "percentageTokens": 28.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/alert-rule.repository.ts": {
            "lines": 386,
            "tokens": 2581,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 34,
            "duplicatedTokens": 300,
            "percentage": 8.81,
            "percentageTokens": 11.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/impl/academic-transcript.repository.ts": {
            "lines": 265,
            "tokens": 1778,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 37,
            "duplicatedTokens": 297,
            "percentage": 13.96,
            "percentageTokens": 16.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/repositories/base/base.repository.ts": {
            "lines": 617,
            "tokens": 4365,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/optimization/types/index.ts": {
            "lines": 182,
            "tokens": 945,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 132,
            "duplicatedTokens": 744,
            "percentage": 72.53,
            "percentageTokens": 78.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/optimization/index-management/index.ts": {
            "lines": 499,
            "tokens": 3521,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 86,
            "duplicatedTokens": 692,
            "percentage": 17.23,
            "percentageTokens": 19.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/utilities/types.ts": {
            "lines": 350,
            "tokens": 1872,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 113,
            "percentage": 3.14,
            "percentageTokens": 6.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/utilities/table-operations.service.ts": {
            "lines": 502,
            "tokens": 2749,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 232,
            "duplicatedTokens": 1250,
            "percentage": 46.22,
            "percentageTokens": 45.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/utilities/index.ts": {
            "lines": 191,
            "tokens": 693,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/utilities/constraint-operations.service.ts": {
            "lines": 642,
            "tokens": 3191,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 86,
            "duplicatedTokens": 448,
            "percentage": 13.4,
            "percentageTokens": 14.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/utilities/column-operations.service.ts": {
            "lines": 598,
            "tokens": 3392,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 321,
            "duplicatedTokens": 2356,
            "percentage": 53.68,
            "percentageTokens": 69.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/types/migration-utilities.types.ts": {
            "lines": 163,
            "tokens": 1187,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 87,
            "duplicatedTokens": 666,
            "percentage": 53.37,
            "percentageTokens": 56.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/services/table-operations.service.ts": {
            "lines": 330,
            "tokens": 2379,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 229,
            "duplicatedTokens": 1602,
            "percentage": 69.39,
            "percentageTokens": 67.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/services/data-migration.service.ts": {
            "lines": 361,
            "tokens": 2957,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 117,
            "duplicatedTokens": 784,
            "percentage": 32.41,
            "percentageTokens": 26.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/services/column-operations.service.ts": {
            "lines": 236,
            "tokens": 1702,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 255,
            "duplicatedTokens": 1935,
            "percentage": 108.05,
            "percentageTokens": 113.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/interfaces/cache/cache-manager.interface.ts": {
            "lines": 128,
            "tokens": 820,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/interfaces/audit/audit-logger.interface.ts": {
            "lines": 158,
            "tokens": 1034,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 118,
            "percentage": 8.23,
            "percentageTokens": 11.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/servers/server-builders.ts": {
            "lines": 309,
            "tokens": 1275,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/security/types.ts": {
            "lines": 129,
            "tokens": 587,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/security/security-configurators.ts": {
            "lines": 355,
            "tokens": 1268,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/security/oauth2-flows.ts": {
            "lines": 329,
            "tokens": 1114,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/security/jwt-auth.ts": {
            "lines": 263,
            "tokens": 1074,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/security/index.ts": {
            "lines": 65,
            "tokens": 228,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/security/api-keys.ts": {
            "lines": 132,
            "tokens": 648,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/security/advanced-auth.ts": {
            "lines": 586,
            "tokens": 2355,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/schemas/types.ts": {
            "lines": 80,
            "tokens": 387,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/schemas/polymorphic-generators.ts": {
            "lines": 277,
            "tokens": 818,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/schemas/inheritance-generators.ts": {
            "lines": 281,
            "tokens": 679,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/schemas/index.ts": {
            "lines": 39,
            "tokens": 118,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/schemas/basic-generators.ts": {
            "lines": 329,
            "tokens": 1674,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/responses/types.ts": {
            "lines": 82,
            "tokens": 377,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/responses/success-builders.ts": {
            "lines": 257,
            "tokens": 1332,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/responses/pagination-builders.ts": {
            "lines": 387,
            "tokens": 2082,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 124,
            "duplicatedTokens": 794,
            "percentage": 32.04,
            "percentageTokens": 38.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/responses/header-utilities.ts": {
            "lines": 333,
            "tokens": 1608,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/responses/file-builders.ts": {
            "lines": 225,
            "tokens": 915,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 180,
            "percentage": 13.33,
            "percentageTokens": 19.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/responses/error-builders.ts": {
            "lines": 291,
            "tokens": 2445,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/parameters/parameter-builders.ts": {
            "lines": 460,
            "tokens": 2858,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/builders/document-builders.ts": {
            "lines": 287,
            "tokens": 1397,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/validators/healthcare.validator.ts": {
            "lines": 247,
            "tokens": 1895,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/decorators/sanitize-html.decorator.ts": {
            "lines": 127,
            "tokens": 704,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/decorators/is-ssn.decorator.ts": {
            "lines": 147,
            "tokens": 816,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/decorators/is-phone.decorator.ts": {
            "lines": 122,
            "tokens": 593,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/decorators/is-npi.decorator.ts": {
            "lines": 122,
            "tokens": 629,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/decorators/is-mrn.decorator.ts": {
            "lines": 118,
            "tokens": 654,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/decorators/is-icd10.decorator.ts": {
            "lines": 130,
            "tokens": 614,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/decorators/is-dosage.decorator.ts": {
            "lines": 132,
            "tokens": 738,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/decorators/index.ts": {
            "lines": 11,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/pipes/__tests__/sanitize.pipe.spec.ts": {
            "lines": 582,
            "tokens": 4127,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/types/error-response.types.ts": {
            "lines": 214,
            "tokens": 768,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/filters/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/filters/http-exception.filter.ts": {
            "lines": 371,
            "tokens": 2774,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 49,
            "duplicatedTokens": 294,
            "percentage": 13.21,
            "percentageTokens": 10.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/filters/hipaa-exception.filter.ts": {
            "lines": 459,
            "tokens": 3247,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 93,
            "duplicatedTokens": 549,
            "percentage": 20.26,
            "percentageTokens": 16.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/filters/hipaa-exception.filter.spec.ts": {
            "lines": 678,
            "tokens": 5914,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/filters/all-exceptions.filter.ts": {
            "lines": 314,
            "tokens": 2120,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 108,
            "duplicatedTokens": 659,
            "percentage": 34.39,
            "percentageTokens": 31.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/exceptions/validation.exception.ts": {
            "lines": 185,
            "tokens": 1073,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 111,
            "percentage": 7.03,
            "percentageTokens": 10.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/exceptions/retryable.exception.ts": {
            "lines": 237,
            "tokens": 1369,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 119,
            "duplicatedTokens": 689,
            "percentage": 50.21,
            "percentageTokens": 50.33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/exceptions/index.ts": {
            "lines": 8,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/exceptions/healthcare.exception.ts": {
            "lines": 268,
            "tokens": 1470,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/exceptions/business.exception.ts": {
            "lines": 164,
            "tokens": 937,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/constants/error-codes.ts": {
            "lines": 247,
            "tokens": 1317,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/enterprise-decorators/validation.decorators.ts": {
            "lines": 306,
            "tokens": 2522,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/enterprise-decorators/types.ts": {
            "lines": 121,
            "tokens": 616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/enterprise-decorators/transaction.decorators.ts": {
            "lines": 231,
            "tokens": 1802,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/enterprise-decorators/performance.decorators.ts": {
            "lines": 332,
            "tokens": 2772,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/enterprise-decorators/logging.decorators.ts": {
            "lines": 256,
            "tokens": 2160,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/enterprise-decorators/index.ts": {
            "lines": 15,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/enterprise-decorators/caching.decorators.ts": {
            "lines": 248,
            "tokens": 2222,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/enterprise-decorators/audit.decorators.ts": {
            "lines": 274,
            "tokens": 2068,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/database/transformers/encrypted.transformer.ts": {
            "lines": 99,
            "tokens": 354,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cqrs/healthcare/queries.ts": {
            "lines": 259,
            "tokens": 1823,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cqrs/healthcare/commands.ts": {
            "lines": 213,
            "tokens": 1468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/vitals/vitals-filters.dto.ts": {
            "lines": 58,
            "tokens": 427,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 121,
            "duplicatedTokens": 836,
            "percentage": 208.62,
            "percentageTokens": 195.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/vitals/record-vitals.dto.ts": {
            "lines": 189,
            "tokens": 1210,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 170,
            "percentage": 14.81,
            "percentageTokens": 14.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/visit/visit-filters.dto.ts": {
            "lines": 86,
            "tokens": 562,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/visit/check-out.dto.ts": {
            "lines": 52,
            "tokens": 339,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/visit/check-in.dto.ts": {
            "lines": 50,
            "tokens": 344,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/treatment/update-treatment-plan.dto.ts": {
            "lines": 9,
            "tokens": 47,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/treatment/treatment-plan-filters.dto.ts": {
            "lines": 55,
            "tokens": 392,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 37,
            "duplicatedTokens": 248,
            "percentage": 67.27,
            "percentageTokens": 63.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/treatment/create-treatment-plan.dto.ts": {
            "lines": 90,
            "tokens": 646,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 85,
            "percentage": 15.56,
            "percentageTokens": 13.16,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/protocol/protocol-filters.dto.ts": {
            "lines": 63,
            "tokens": 443,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 80,
            "duplicatedTokens": 539,
            "percentage": 126.98,
            "percentageTokens": 121.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/protocol/index.ts": {
            "lines": 8,
            "tokens": 53,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/protocol/create-protocol.dto.ts": {
            "lines": 171,
            "tokens": 1214,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/protocol/activate-protocol.dto.ts": {
            "lines": 27,
            "tokens": 186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/prescription/prescription-filters.dto.ts": {
            "lines": 73,
            "tokens": 516,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 41,
            "duplicatedTokens": 284,
            "percentage": 56.16,
            "percentageTokens": 55.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/prescription/index.ts": {
            "lines": 8,
            "tokens": 53,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/prescription/fill-prescription.dto.ts": {
            "lines": 43,
            "tokens": 298,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/prescription/create-prescription.dto.ts": {
            "lines": 110,
            "tokens": 784,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/note/sign-note.dto.ts": {
            "lines": 15,
            "tokens": 99,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/note/note-filters.dto.ts": {
            "lines": 70,
            "tokens": 505,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 36,
            "duplicatedTokens": 251,
            "percentage": 51.43,
            "percentageTokens": 49.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/note/index.ts": {
            "lines": 8,
            "tokens": 53,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/note/create-note.dto.ts": {
            "lines": 112,
            "tokens": 764,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 85,
            "percentage": 12.5,
            "percentageTokens": 11.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/follow-up/schedule-follow-up.dto.ts": {
            "lines": 80,
            "tokens": 545,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/follow-up/index.ts": {
            "lines": 8,
            "tokens": 53,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/follow-up/follow-up-filters.dto.ts": {
            "lines": 85,
            "tokens": 606,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 37,
            "duplicatedTokens": 260,
            "percentage": 43.53,
            "percentageTokens": 42.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/follow-up/complete-follow-up.dto.ts": {
            "lines": 24,
            "tokens": 174,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/drug/update-interaction.dto.ts": {
            "lines": 10,
            "tokens": 65,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/drug/update-drug.dto.ts": {
            "lines": 16,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/drug/update-allergy.dto.ts": {
            "lines": 10,
            "tokens": 65,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/drug/interaction-check.dto.ts": {
            "lines": 31,
            "tokens": 214,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/drug/index.ts": {
            "lines": 12,
            "tokens": 105,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/drug/drug-search.dto.ts": {
            "lines": 29,
            "tokens": 200,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/drug/add-interaction.dto.ts": {
            "lines": 72,
            "tokens": 448,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/drug/add-drug.dto.ts": {
            "lines": 167,
            "tokens": 1108,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/drug/add-allergy.dto.ts": {
            "lines": 71,
            "tokens": 418,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/administration/witness-signature.dto.ts": {
            "lines": 27,
            "tokens": 124,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/administration/update-administration.dto.ts": {
            "lines": 34,
            "tokens": 220,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/administration/record-refusal.dto.ts": {
            "lines": 108,
            "tokens": 548,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/administration/record-administration.dto.ts": {
            "lines": 207,
            "tokens": 1187,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/administration/index.ts": {
            "lines": 44,
            "tokens": 200,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/administration/five-rights-verification.dto.ts": {
            "lines": 202,
            "tokens": 1149,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/administration/administration-filters.dto.ts": {
            "lines": 145,
            "tokens": 836,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/guards/__tests__/roles.guard.spec.ts": {
            "lines": 575,
            "tokens": 4564,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 84,
            "duplicatedTokens": 636,
            "percentage": 14.61,
            "percentageTokens": 13.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/guards/__tests__/jwt-auth.guard.spec.ts": {
            "lines": 428,
            "tokens": 3796,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 44,
            "duplicatedTokens": 373,
            "percentage": 10.28,
            "percentageTokens": 9.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/guards/__tests__/api-key.guard.spec.ts": {
            "lines": 560,
            "tokens": 4656,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 177,
            "percentage": 3.93,
            "percentageTokens": 3.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/guards/__tests__/permissions.guard.spec.ts": {
            "lines": 544,
            "tokens": 4754,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 82,
            "duplicatedTokens": 776,
            "percentage": 15.07,
            "percentageTokens": 16.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/enums/user-role.enum.ts": {
            "lines": 13,
            "tokens": 58,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/entities/user.entity.ts": {
            "lines": 395,
            "tokens": 2416,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 105,
            "percentage": 3.04,
            "percentageTokens": 4.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/dto/user-statistics.dto.ts": {
            "lines": 26,
            "tokens": 207,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/dto/user-response.dto.ts": {
            "lines": 110,
            "tokens": 842,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/dto/user-filters.dto.ts": {
            "lines": 60,
            "tokens": 415,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/dto/update-user.dto.ts": {
            "lines": 78,
            "tokens": 493,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 110,
            "percentage": 25.64,
            "percentageTokens": 22.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/dto/reset-password.dto.ts": {
            "lines": 21,
            "tokens": 136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/dto/create-user.dto.ts": {
            "lines": 88,
            "tokens": 605,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 193,
            "percentage": 35.23,
            "percentageTokens": 31.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/dto/change-password.dto.ts": {
            "lines": 28,
            "tokens": 175,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/__tests__/user.service.spec.ts": {
            "lines": 866,
            "tokens": 6404,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 78,
            "duplicatedTokens": 411,
            "percentage": 9.01,
            "percentageTokens": 6.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/__tests__/user.controller.spec.ts": {
            "lines": 861,
            "tokens": 6251,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 42,
            "duplicatedTokens": 249,
            "percentage": 4.88,
            "percentageTokens": 3.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/types/student.types.ts": {
            "lines": 373,
            "tokens": 1176,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/student-waitlist.service.ts": {
            "lines": 222,
            "tokens": 1843,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 156,
            "duplicatedTokens": 1056,
            "percentage": 70.27,
            "percentageTokens": 57.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/student-validation.service.ts": {
            "lines": 182,
            "tokens": 1244,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 197,
            "percentage": 14.84,
            "percentageTokens": 15.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/student-status.service.ts": {
            "lines": 111,
            "tokens": 758,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/student-query.service.ts": {
            "lines": 311,
            "tokens": 2228,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 99,
            "duplicatedTokens": 806,
            "percentage": 31.83,
            "percentageTokens": 36.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/student-photo.service.ts": {
            "lines": 189,
            "tokens": 1202,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 233,
            "percentage": 17.99,
            "percentageTokens": 19.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/student-health-records.service.ts": {
            "lines": 204,
            "tokens": 1304,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 48,
            "duplicatedTokens": 325,
            "percentage": 23.53,
            "percentageTokens": 24.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/student-crud.service.ts": {
            "lines": 597,
            "tokens": 4504,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 127,
            "duplicatedTokens": 1018,
            "percentage": 21.27,
            "percentageTokens": 22.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/student-barcode.service.ts": {
            "lines": 200,
            "tokens": 1368,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 140,
            "percentage": 10.5,
            "percentageTokens": 10.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/student-academic.service.ts": {
            "lines": 519,
            "tokens": 3929,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 62,
            "duplicatedTokens": 452,
            "percentage": 11.95,
            "percentageTokens": 11.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/services/index.ts": {
            "lines": 12,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/models/student.model.ts": {
            "lines": 363,
            "tokens": 1549,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 45,
            "duplicatedTokens": 295,
            "percentage": 12.4,
            "percentageTokens": 19.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/events/student.events.ts": {
            "lines": 350,
            "tokens": 1890,
            "sources": 1,
            "clones": 19,
            "duplicatedLines": 212,
            "duplicatedTokens": 1781,
            "percentage": 60.57,
            "percentageTokens": 94.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/entities/student.entity.ts": {
            "lines": 28,
            "tokens": 61,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/waitlist-status.dto.ts": {
            "lines": 28,
            "tokens": 87,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/verify-medication.dto.ts": {
            "lines": 48,
            "tokens": 177,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/upload-photo.dto.ts": {
            "lines": 49,
            "tokens": 217,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/update-student.dto.ts": {
            "lines": 37,
            "tokens": 205,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/transfer-student.dto.ts": {
            "lines": 46,
            "tokens": 256,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/student-health-records.dto.ts": {
            "lines": 48,
            "tokens": 239,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 38,
            "duplicatedTokens": 263,
            "percentage": 79.17,
            "percentageTokens": 110.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/student-filter.dto.ts": {
            "lines": 129,
            "tokens": 942,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 44,
            "duplicatedTokens": 400,
            "percentage": 34.11,
            "percentageTokens": 42.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/search-photo.dto.ts": {
            "lines": 69,
            "tokens": 356,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/scan-barcode.dto.ts": {
            "lines": 54,
            "tokens": 211,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/performance-trends.dto.ts": {
            "lines": 45,
            "tokens": 222,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/mental-health-records.dto.ts": {
            "lines": 49,
            "tokens": 239,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 26,
            "duplicatedTokens": 179,
            "percentage": 53.06,
            "percentageTokens": 74.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/index.ts": {
            "lines": 41,
            "tokens": 198,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/import-transcript.dto.ts": {
            "lines": 143,
            "tokens": 788,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/graduating-students.dto.ts": {
            "lines": 48,
            "tokens": 234,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/create-student.dto.ts": {
            "lines": 169,
            "tokens": 1109,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/bulk-update.dto.ts": {
            "lines": 55,
            "tokens": 366,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/bulk-grade-transition.dto.ts": {
            "lines": 54,
            "tokens": 251,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/add-waitlist.dto.ts": {
            "lines": 67,
            "tokens": 305,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/dto/academic-history.dto.ts": {
            "lines": 59,
            "tokens": 307,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-waitlist.controller.ts": {
            "lines": 275,
            "tokens": 1641,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 95,
            "percentage": 5.82,
            "percentageTokens": 5.79,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-status.controller.ts": {
            "lines": 70,
            "tokens": 670,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-query.controller.ts": {
            "lines": 147,
            "tokens": 914,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-photo.controller.ts": {
            "lines": 113,
            "tokens": 693,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-management.controller.ts": {
            "lines": 167,
            "tokens": 986,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-health.controller.ts": {
            "lines": 118,
            "tokens": 757,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-grade.controller.ts": {
            "lines": 186,
            "tokens": 1186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-crud.controller.ts": {
            "lines": 227,
            "tokens": 1418,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-core.controller.ts": {
            "lines": 139,
            "tokens": 1273,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-barcode.controller.ts": {
            "lines": 172,
            "tokens": 1076,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 95,
            "percentage": 9.3,
            "percentageTokens": 8.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-analytics.controller.ts": {
            "lines": 114,
            "tokens": 861,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/controllers/student-academic.controller.ts": {
            "lines": 147,
            "tokens": 900,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/__tests__/student.controller.spec.ts": {
            "lines": 949,
            "tokens": 6885,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 83,
            "percentage": 1.48,
            "percentageTokens": 1.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/validation/commonValidators.ts": {
            "lines": 423,
            "tokens": 3125,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 168,
            "percentage": 4.73,
            "percentageTokens": 5.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utils/sequelize-compliance-checker.ts": {
            "lines": 570,
            "tokens": 4157,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 32,
            "duplicatedTokens": 334,
            "percentage": 5.61,
            "percentageTokens": 8.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utils/circular-dependency.util.ts": {
            "lines": 354,
            "tokens": 2481,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/validation.utils.ts": {
            "lines": 250,
            "tokens": 515,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/string.utils.ts": {
            "lines": 193,
            "tokens": 319,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/string.ts": {
            "lines": 84,
            "tokens": 319,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/responseHelpers.ts": {
            "lines": 417,
            "tokens": 1990,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/payloadHelpers.ts": {
            "lines": 137,
            "tokens": 781,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/password.utils.ts": {
            "lines": 234,
            "tokens": 1527,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/pagination.ts": {
            "lines": 389,
            "tokens": 2125,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/object.utils.ts": {
            "lines": 241,
            "tokens": 436,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/object.ts": {
            "lines": 87,
            "tokens": 436,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/index.ts": {
            "lines": 53,
            "tokens": 198,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/dateHelpers.ts": {
            "lines": 414,
            "tokens": 3203,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/date.utils.ts": {
            "lines": 192,
            "tokens": 678,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 61,
            "duplicatedTokens": 558,
            "percentage": 31.77,
            "percentageTokens": 82.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/date.ts": {
            "lines": 109,
            "tokens": 678,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 61,
            "duplicatedTokens": 558,
            "percentage": 55.96,
            "percentageTokens": 82.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/array.utils.ts": {
            "lines": 382,
            "tokens": 894,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 25,
            "duplicatedTokens": 139,
            "percentage": 6.54,
            "percentageTokens": 15.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/utilities/array.ts": {
            "lines": 161,
            "tokens": 894,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 25,
            "duplicatedTokens": 139,
            "percentage": 15.53,
            "percentageTokens": 15.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/types/route.types.ts": {
            "lines": 202,
            "tokens": 344,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/types/pagination.ts": {
            "lines": 77,
            "tokens": 430,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/types/index.ts": {
            "lines": 14,
            "tokens": 113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/types/health-metadata.types.ts": {
            "lines": 278,
            "tokens": 1727,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/types/guards.ts": {
            "lines": 544,
            "tokens": 4040,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/types/common.ts": {
            "lines": 210,
            "tokens": 1225,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 105,
            "percentage": 8.1,
            "percentageTokens": 8.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/types/auth.ts": {
            "lines": 201,
            "tokens": 862,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/tokens/service.tokens.ts": {
            "lines": 113,
            "tokens": 136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/time/index.ts": {
            "lines": 29,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/time/businessHours.ts": {
            "lines": 410,
            "tokens": 2683,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/validation.service.ts": {
            "lines": 29,
            "tokens": 176,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/sqlSanitizer.ts": {
            "lines": 386,
            "tokens": 1142,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 316,
            "duplicatedTokens": 942,
            "percentage": 81.87,
            "percentageTokens": 82.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/sql-sanitizer.service.ts": {
            "lines": 727,
            "tokens": 1147,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 316,
            "duplicatedTokens": 942,
            "percentage": 43.47,
            "percentageTokens": 82.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/rateLimiting.ts": {
            "lines": 204,
            "tokens": 1269,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 204,
            "duplicatedTokens": 1269,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/rate-limiting.service.ts": {
            "lines": 204,
            "tokens": 1269,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 204,
            "duplicatedTokens": 1269,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/permissionUtils.ts": {
            "lines": 262,
            "tokens": 2014,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 442,
            "duplicatedTokens": 1914,
            "percentage": 168.7,
            "percentageTokens": 95.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/permission.utils.ts": {
            "lines": 579,
            "tokens": 2016,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 442,
            "duplicatedTokens": 1914,
            "percentage": 76.34,
            "percentageTokens": 94.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/index.ts": {
            "lines": 33,
            "tokens": 88,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/headers.ts": {
            "lines": 109,
            "tokens": 441,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/authentication.types.ts": {
            "lines": 176,
            "tokens": 251,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 146,
            "duplicatedTokens": 248,
            "percentage": 82.95,
            "percentageTokens": 98.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/security/authentication.service.ts": {
            "lines": 809,
            "tokens": 1586,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 146,
            "duplicatedTokens": 248,
            "percentage": 18.05,
            "percentageTokens": 15.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/permissions/middleware.ts": {
            "lines": 257,
            "tokens": 1390,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/permissions/index.ts": {
            "lines": 43,
            "tokens": 189,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/permissions/Permission.ts": {
            "lines": 670,
            "tokens": 4378,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/monitoring/performance.ts": {
            "lines": 337,
            "tokens": 2149,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/monitoring/index.ts": {
            "lines": 29,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/logging/logging.module.ts": {
            "lines": 21,
            "tokens": 81,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/logging/logger.ts": {
            "lines": 36,
            "tokens": 310,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/logging/logger.service.ts": {
            "lines": 206,
            "tokens": 1330,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/interfaces/logger.interface.ts": {
            "lines": 37,
            "tokens": 140,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/interfaces/config.interface.ts": {
            "lines": 32,
            "tokens": 106,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/interfaces/cache.interface.ts": {
            "lines": 66,
            "tokens": 231,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/interfaces/audit.interface.ts": {
            "lines": 80,
            "tokens": 378,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/healthcare/validators.ts": {
            "lines": 355,
            "tokens": 3143,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/healthcare/medicationUtils.ts": {
            "lines": 270,
            "tokens": 1478,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/healthcare/index.ts": {
            "lines": 30,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/files/validation.ts": {
            "lines": 347,
            "tokens": 1999,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/files/index.ts": {
            "lines": 29,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/errors/index.ts": {
            "lines": 33,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/errors/ServiceErrors.ts": {
            "lines": 469,
            "tokens": 2567,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 105,
            "duplicatedTokens": 596,
            "percentage": 22.39,
            "percentageTokens": 23.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/errors/ErrorCode.ts": {
            "lines": 499,
            "tokens": 3279,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 93,
            "percentage": 2.81,
            "percentageTokens": 2.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/enterprise/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/enterprise/enterprise.module.ts": {
            "lines": 39,
            "tokens": 310,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/database/pagination.ts": {
            "lines": 220,
            "tokens": 1600,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/context/request-context.service.ts": {
            "lines": 293,
            "tokens": 1514,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/constants/medicationConstants.ts": {
            "lines": 133,
            "tokens": 574,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/config/index.ts": {
            "lines": 29,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/config/helpers.ts": {
            "lines": 470,
            "tokens": 3143,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/communication/validators.ts": {
            "lines": 210,
            "tokens": 1481,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/communication/templates.ts": {
            "lines": 328,
            "tokens": 2089,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/communication/index.ts": {
            "lines": 30,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/cache/cache.service.ts": {
            "lines": 482,
            "tokens": 2861,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/cache/cache.module.ts": {
            "lines": 21,
            "tokens": 81,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/base/base.service.ts": {
            "lines": 296,
            "tokens": 1516,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/base/BaseService.ts": {
            "lines": 712,
            "tokens": 4821,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 61,
            "duplicatedTokens": 487,
            "percentage": 8.57,
            "percentageTokens": 10.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/testing-framework/production-testing-framework.service.ts": {
            "lines": 808,
            "tokens": 7029,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/performance-monitoring/production-performance-monitoring.service.ts": {
            "lines": 806,
            "tokens": 6993,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/healthcare/patient-consent-management.service.ts": {
            "lines": 635,
            "tokens": 4911,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/healthcare/hipaa-audit-trail.service.ts": {
            "lines": 744,
            "tokens": 6186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/healthcare/emergency-notification-system.service.ts": {
            "lines": 761,
            "tokens": 5681,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 234,
            "percentage": 3.42,
            "percentageTokens": 4.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/backup-restore/backup-restore-strategies.service.ts": {
            "lines": 84,
            "tokens": 2184,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/services/threat-detection.service.ts": {
            "lines": 410,
            "tokens": 3122,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 56,
            "duplicatedTokens": 380,
            "percentage": 13.66,
            "percentageTokens": 12.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/services/session-management.service.ts": {
            "lines": 207,
            "tokens": 1523,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/services/security-incident.service.ts": {
            "lines": 408,
            "tokens": 3115,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/services/pii-detection.service.ts": {
            "lines": 151,
            "tokens": 1286,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/services/ip-restriction.service.ts": {
            "lines": 474,
            "tokens": 3525,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/services/index.ts": {
            "lines": 8,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/services/enhanced-threat-detection.service.ts": {
            "lines": 191,
            "tokens": 1496,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/services/encryption.service.ts": {
            "lines": 178,
            "tokens": 1364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/services/audit.service.ts": {
            "lines": 125,
            "tokens": 1019,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/interfaces/security.interfaces.ts": {
            "lines": 131,
            "tokens": 761,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/interfaces/security-incident.interface.ts": {
            "lines": 28,
            "tokens": 203,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/interfaces/security-context.interface.ts": {
            "lines": 12,
            "tokens": 62,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/interfaces/ip-restriction-rule.interface.ts": {
            "lines": 17,
            "tokens": 117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/interfaces/ip-check-result.interface.ts": {
            "lines": 15,
            "tokens": 83,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/interfaces/incident-response.interface.ts": {
            "lines": 11,
            "tokens": 58,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/interceptors/security-logging.interceptor.ts": {
            "lines": 100,
            "tokens": 801,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/guards/security-policy.guard.ts": {
            "lines": 10,
            "tokens": 92,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/guards/ip-restriction.guard.ts": {
            "lines": 139,
            "tokens": 890,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/enums/ip-restriction-type.enum.ts": {
            "lines": 8,
            "tokens": 34,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/enums/incident-type.enum.ts": {
            "lines": 17,
            "tokens": 106,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/enums/incident-status.enum.ts": {
            "lines": 10,
            "tokens": 50,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/enums/incident-severity.enum.ts": {
            "lines": 9,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/entities/session.entity.ts": {
            "lines": 82,
            "tokens": 531,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/entities/security-incident.entity.ts": {
            "lines": 160,
            "tokens": 1088,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/entities/login-attempt.entity.ts": {
            "lines": 69,
            "tokens": 455,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/entities/ip-restriction.entity.ts": {
            "lines": 87,
            "tokens": 599,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/dto/security-incident.dto.ts": {
            "lines": 157,
            "tokens": 1014,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/dto/security-event.dto.ts": {
            "lines": 51,
            "tokens": 351,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/dto/ip-restriction.dto.ts": {
            "lines": 78,
            "tokens": 495,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/services/report-generation.service.ts": {
            "lines": 120,
            "tokens": 979,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/services/report-export.service.ts": {
            "lines": 240,
            "tokens": 2241,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/services/medication-reports.service.ts": {
            "lines": 163,
            "tokens": 1209,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 40,
            "duplicatedTokens": 266,
            "percentage": 24.54,
            "percentageTokens": 22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/services/index.ts": {
            "lines": 12,
            "tokens": 105,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/services/incident-reports.service.ts": {
            "lines": 174,
            "tokens": 1477,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/services/health-reports.service.ts": {
            "lines": 136,
            "tokens": 1217,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 161,
            "percentage": 10.29,
            "percentageTokens": 13.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/services/dashboard.service.ts": {
            "lines": 92,
            "tokens": 794,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/services/compliance-reports.service.ts": {
            "lines": 136,
            "tokens": 1107,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 161,
            "percentage": 10.29,
            "percentageTokens": 14.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/services/attendance-reports.service.ts": {
            "lines": 152,
            "tokens": 1230,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 88,
            "duplicatedTokens": 796,
            "percentage": 57.89,
            "percentageTokens": 64.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/models/report-template.model.ts": {
            "lines": 80,
            "tokens": 540,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 202,
            "percentage": 42.5,
            "percentageTokens": 37.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/models/report-schedule.model.ts": {
            "lines": 140,
            "tokens": 886,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 46,
            "duplicatedTokens": 296,
            "percentage": 32.86,
            "percentageTokens": 33.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/models/report-execution.model.ts": {
            "lines": 123,
            "tokens": 781,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 94,
            "percentage": 9.76,
            "percentageTokens": 12.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/models/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/interfaces/report-types.interface.ts": {
            "lines": 151,
            "tokens": 1037,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/entities/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/dto/report-schedule.dto.ts": {
            "lines": 64,
            "tokens": 443,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/dto/medication-usage.dto.ts": {
            "lines": 38,
            "tokens": 244,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/dto/index.ts": {
            "lines": 12,
            "tokens": 105,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/dto/incident-statistics.dto.ts": {
            "lines": 53,
            "tokens": 358,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/dto/health-trends.dto.ts": {
            "lines": 40,
            "tokens": 265,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/dto/export-options.dto.ts": {
            "lines": 61,
            "tokens": 405,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/dto/dashboard-metrics.dto.ts": {
            "lines": 22,
            "tokens": 137,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/dto/base-report.dto.ts": {
            "lines": 30,
            "tokens": 223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/dto/attendance-correlation.dto.ts": {
            "lines": 29,
            "tokens": 218,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/controllers/reports.controller.ts": {
            "lines": 620,
            "tokens": 4541,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/constants/report.constants.ts": {
            "lines": 74,
            "tokens": 417,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 120,
            "percentage": 24.32,
            "percentageTokens": 28.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/interfaces/pdf-data.interface.ts": {
            "lines": 105,
            "tokens": 658,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/dto/watermark-pdf.dto.ts": {
            "lines": 44,
            "tokens": 369,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/dto/sign-pdf.dto.ts": {
            "lines": 28,
            "tokens": 218,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/dto/merge-pdfs.dto.ts": {
            "lines": 12,
            "tokens": 103,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/dto/index.ts": {
            "lines": 12,
            "tokens": 73,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/dto/generate-student-health-summary.dto.ts": {
            "lines": 107,
            "tokens": 806,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/dto/generate-medication-log.dto.ts": {
            "lines": 66,
            "tokens": 500,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/dto/generate-incident-report.dto.ts": {
            "lines": 43,
            "tokens": 326,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/dto/generate-immunization-report.dto.ts": {
            "lines": 62,
            "tokens": 484,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/dto/generate-custom-report.dto.ts": {
            "lines": 47,
            "tokens": 386,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/offline-sync.service.ts": {
            "lines": 358,
            "tokens": 2671,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/offline-sync-watermark.service.ts": {
            "lines": 162,
            "tokens": 963,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/offline-sync-types.interface.ts": {
            "lines": 94,
            "tokens": 527,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/offline-sync-queue.service.ts": {
            "lines": 301,
            "tokens": 1806,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/offline-sync-entity-registry.service.ts": {
            "lines": 91,
            "tokens": 362,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/offline-sync-conflict.service.ts": {
            "lines": 367,
            "tokens": 2350,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/notification.service.ts": {
            "lines": 340,
            "tokens": 1462,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/notification-template.service.ts": {
            "lines": 246,
            "tokens": 1338,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/notification-scheduler.service.ts": {
            "lines": 281,
            "tokens": 1584,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/notification-platform.service.ts": {
            "lines": 540,
            "tokens": 3391,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/notification-delivery.service.ts": {
            "lines": 275,
            "tokens": 1701,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/notification-analytics.service.ts": {
            "lines": 457,
            "tokens": 3009,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/index.ts": {
            "lines": 17,
            "tokens": 118,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/services/device-token.service.ts": {
            "lines": 266,
            "tokens": 1301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/enums/sync.enum.ts": {
            "lines": 41,
            "tokens": 247,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 33,
            "duplicatedTokens": 214,
            "percentage": 80.49,
            "percentageTokens": 86.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/enums/notification.enum.ts": {
            "lines": 47,
            "tokens": 313,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 35,
            "duplicatedTokens": 249,
            "percentage": 74.47,
            "percentageTokens": 79.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/entities/sync-conflict.entity.ts": {
            "lines": 8,
            "tokens": 32,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/entities/push-notification.entity.ts": {
            "lines": 11,
            "tokens": 38,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/dto/update-preferences.dto.ts": {
            "lines": 21,
            "tokens": 162,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/dto/sync-options.dto.ts": {
            "lines": 43,
            "tokens": 267,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/dto/send-notification.dto.ts": {
            "lines": 91,
            "tokens": 686,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/dto/resolve-conflict.dto.ts": {
            "lines": 22,
            "tokens": 146,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/dto/register-device.dto.ts": {
            "lines": 44,
            "tokens": 332,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/dto/queue-sync-action.dto.ts": {
            "lines": 45,
            "tokens": 307,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/controllers/sync.controller.ts": {
            "lines": 76,
            "tokens": 692,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/controllers/notification.controller.ts": {
            "lines": 50,
            "tokens": 475,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/controllers/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/controllers/device.controller.ts": {
            "lines": 55,
            "tokens": 544,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/security.module.ts": {
            "lines": 23,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/security-headers.middleware.ts": {
            "lines": 339,
            "tokens": 2591,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/rate-limit.guard.ts": {
            "lines": 473,
            "tokens": 3066,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/rate-limit.guard.spec.ts": {
            "lines": 592,
            "tokens": 4972,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 34,
            "duplicatedTokens": 313,
            "percentage": 5.74,
            "percentageTokens": 6.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/index.ts": {
            "lines": 49,
            "tokens": 235,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/csrf.guard.ts": {
            "lines": 433,
            "tokens": 3025,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/csrf.guard.spec.ts": {
            "lines": 675,
            "tokens": 5773,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 72,
            "duplicatedTokens": 550,
            "percentage": 10.67,
            "percentageTokens": 9.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/csp.middleware.ts": {
            "lines": 551,
            "tokens": 3810,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/security/cors.middleware.ts": {
            "lines": 414,
            "tokens": 3047,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/tracing.middleware.ts": {
            "lines": 759,
            "tokens": 5335,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 77,
            "percentage": 1.45,
            "percentageTokens": 1.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/performance.middleware.ts": {
            "lines": 491,
            "tokens": 3311,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/performance.interceptor.ts": {
            "lines": 79,
            "tokens": 642,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/monitoring.module.ts": {
            "lines": 41,
            "tokens": 329,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/metrics.types.ts": {
            "lines": 113,
            "tokens": 607,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 44,
            "duplicatedTokens": 223,
            "percentage": 38.94,
            "percentageTokens": 36.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/metrics.system-collector.ts": {
            "lines": 214,
            "tokens": 1484,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 84,
            "duplicatedTokens": 740,
            "percentage": 39.25,
            "percentageTokens": 49.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/metrics.store.ts": {
            "lines": 96,
            "tokens": 470,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 222,
            "percentage": 28.13,
            "percentageTokens": 47.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/metrics.middleware.ts": {
            "lines": 792,
            "tokens": 5805,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 215,
            "duplicatedTokens": 1586,
            "percentage": 27.15,
            "percentageTokens": 27.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/metrics.config.ts": {
            "lines": 57,
            "tokens": 327,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 49,
            "duplicatedTokens": 324,
            "percentage": 85.96,
            "percentageTokens": 99.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/index.ts": {
            "lines": 74,
            "tokens": 325,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/audit.middleware.ts": {
            "lines": 758,
            "tokens": 5106,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/monitoring/audit.interceptor.ts": {
            "lines": 166,
            "tokens": 1112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/index.ts": {
            "lines": 67,
            "tokens": 283,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/core/core-middleware.module.ts": {
            "lines": 136,
            "tokens": 509,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/adapters/index.ts": {
            "lines": 36,
            "tokens": 126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/adapters/adapters.module.ts": {
            "lines": 85,
            "tokens": 175,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication-interaction/dto/interaction-check-result.dto.ts": {
            "lines": 44,
            "tokens": 304,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication-interaction/dto/drug-interaction.dto.ts": {
            "lines": 54,
            "tokens": 291,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication-interaction/dto/check-new-medication.dto.ts": {
            "lines": 16,
            "tokens": 98,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/services/medication.service.ts": {
            "lines": 431,
            "tokens": 2283,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/events/medication.events.ts": {
            "lines": 452,
            "tokens": 2633,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 112,
            "duplicatedTokens": 942,
            "percentage": 24.78,
            "percentageTokens": 35.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/entities/medication.entity.ts": {
            "lines": 46,
            "tokens": 241,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/dto/update-medication.dto.ts": {
            "lines": 146,
            "tokens": 862,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 37,
            "duplicatedTokens": 206,
            "percentage": 25.34,
            "percentageTokens": 23.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/dto/medication-params.dto.ts": {
            "lines": 27,
            "tokens": 141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/dto/list-medications-query.dto.ts": {
            "lines": 77,
            "tokens": 494,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/dto/deactivate-medication.dto.ts": {
            "lines": 39,
            "tokens": 211,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/dto/create-medication.dto.ts": {
            "lines": 184,
            "tokens": 1024,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 37,
            "duplicatedTokens": 206,
            "percentage": 20.11,
            "percentageTokens": 20.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/__tests__/medication.controller.spec.ts": {
            "lines": 985,
            "tokens": 6909,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 83,
            "percentage": 1.42,
            "percentageTokens": 1.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/transaction.service.ts": {
            "lines": 60,
            "tokens": 435,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/stock-management.service.ts": {
            "lines": 269,
            "tokens": 1811,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/reorder-automation.service.ts": {
            "lines": 121,
            "tokens": 918,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/purchase-order.service.ts": {
            "lines": 332,
            "tokens": 2397,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/inventory-report.service.ts": {
            "lines": 230,
            "tokens": 2048,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 104,
            "percentage": 6.96,
            "percentageTokens": 5.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/inventory-reorder.service.ts": {
            "lines": 212,
            "tokens": 1418,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/inventory-notification.service.ts": {
            "lines": 433,
            "tokens": 3569,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 126,
            "duplicatedTokens": 1098,
            "percentage": 29.1,
            "percentageTokens": 30.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/inventory-disposal.service.ts": {
            "lines": 149,
            "tokens": 723,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/inventory-alert.service.ts": {
            "lines": 225,
            "tokens": 1375,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/index.ts": {
            "lines": 14,
            "tokens": 91,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/services/alerts.service.ts": {
            "lines": 345,
            "tokens": 2674,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/entities/purchase-order.entity.ts": {
            "lines": 9,
            "tokens": 22,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/entities/maintenance-log.entity.ts": {
            "lines": 9,
            "tokens": 22,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/entities/inventory-transaction.entity.ts": {
            "lines": 9,
            "tokens": 22,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/entities/index.ts": {
            "lines": 10,
            "tokens": 55,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/dto/update-inventory-item.dto.ts": {
            "lines": 66,
            "tokens": 493,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/dto/stock-adjustment.dto.ts": {
            "lines": 22,
            "tokens": 158,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/dto/inventory-alert.dto.ts": {
            "lines": 41,
            "tokens": 283,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/dto/index.ts": {
            "lines": 10,
            "tokens": 55,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/dto/create-purchase-order.dto.ts": {
            "lines": 69,
            "tokens": 470,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/dto/create-inventory-transaction.dto.ts": {
            "lines": 65,
            "tokens": 437,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/dto/create-inventory-item.dto.ts": {
            "lines": 66,
            "tokens": 494,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/interfaces/rate-limiter.interface.ts": {
            "lines": 45,
            "tokens": 79,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/interfaces/index.ts": {
            "lines": 9,
            "tokens": 19,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/interfaces/circuit-breaker.interface.ts": {
            "lines": 64,
            "tokens": 128,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/dto/sis-student.dto.ts": {
            "lines": 129,
            "tokens": 497,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/dto/sis-attendance.dto.ts": {
            "lines": 72,
            "tokens": 280,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/dto/index.ts": {
            "lines": 9,
            "tokens": 19,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/clients/sis-api.client.ts": {
            "lines": 328,
            "tokens": 1408,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/clients/index.ts": {
            "lines": 9,
            "tokens": 19,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/clients/base-api.client.ts": {
            "lines": 488,
            "tokens": 2766,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 172,
            "percentage": 4.1,
            "percentageTokens": 6.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/webhooks/webhook-handler.service.ts": {
            "lines": 97,
            "tokens": 616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/types/webhook.types.ts": {
            "lines": 99,
            "tokens": 471,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/types/test-details.types.ts": {
            "lines": 99,
            "tokens": 366,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/types/pagination.types.ts": {
            "lines": 31,
            "tokens": 113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/types/integration-settings.types.ts": {
            "lines": 132,
            "tokens": 601,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/types/index.ts": {
            "lines": 9,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/types/authentication.types.ts": {
            "lines": 84,
            "tokens": 364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/rate-limiter.service.ts": {
            "lines": 126,
            "tokens": 877,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/integration.service.ts": {
            "lines": 67,
            "tokens": 506,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/integration-validation.service.ts": {
            "lines": 224,
            "tokens": 1663,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/integration-test.service.ts": {
            "lines": 186,
            "tokens": 1241,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/integration-sync.service.ts": {
            "lines": 151,
            "tokens": 1173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/integration-statistics.service.ts": {
            "lines": 132,
            "tokens": 1060,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/integration-log.service.ts": {
            "lines": 107,
            "tokens": 774,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/integration-encryption.service.ts": {
            "lines": 121,
            "tokens": 1038,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/integration-config.service.ts": {
            "lines": 280,
            "tokens": 2024,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/index.ts": {
            "lines": 15,
            "tokens": 100,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/services/circuit-breaker.service.ts": {
            "lines": 173,
            "tokens": 1189,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/interfaces/api-client.interface.ts": {
            "lines": 45,
            "tokens": 343,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/entities/sync-session.entity.ts": {
            "lines": 10,
            "tokens": 26,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/entities/sync-conflict.entity.ts": {
            "lines": 14,
            "tokens": 54,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/entities/integration-config.entity.ts": {
            "lines": 10,
            "tokens": 26,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/dto/update-integration.dto.ts": {
            "lines": 9,
            "tokens": 95,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/dto/sis-configuration.dto.ts": {
            "lines": 125,
            "tokens": 930,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/dto/pagination.dto.ts": {
            "lines": 38,
            "tokens": 320,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/dto/integration-test-result.dto.ts": {
            "lines": 15,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/dto/integration-sync-result.dto.ts": {
            "lines": 20,
            "tokens": 164,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/dto/integration-statistics.dto.ts": {
            "lines": 51,
            "tokens": 392,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/dto/create-integration.dto.ts": {
            "lines": 76,
            "tokens": 518,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/api-clients/enhanced-base-api-client.ts": {
            "lines": 206,
            "tokens": 1528,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 172,
            "percentage": 9.71,
            "percentageTokens": 11.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/api-clients/base-api-client.ts": {
            "lines": 96,
            "tokens": 912,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/websocket.service.ts": {
            "lines": 198,
            "tokens": 1288,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/websocket.module.ts": {
            "lines": 117,
            "tokens": 421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/websocket.gateway.ts": {
            "lines": 335,
            "tokens": 1762,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 138,
            "duplicatedTokens": 971,
            "percentage": 41.19,
            "percentageTokens": 55.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/websocket-refactored.gateway.ts": {
            "lines": 273,
            "tokens": 1759,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 122,
            "duplicatedTokens": 886,
            "percentage": 44.69,
            "percentageTokens": 50.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/websocket-enhanced.gateway.ts": {
            "lines": 373,
            "tokens": 2567,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/websocket/index.ts": {
            "lines": 39,
            "tokens": 121,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/streaming/streaming.module.ts": {
            "lines": 13,
            "tokens": 63,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/streaming/streaming-query.service.ts": {
            "lines": 307,
            "tokens": 2373,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 92,
            "percentage": 5.86,
            "percentageTokens": 3.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/sms.service.ts": {
            "lines": 170,
            "tokens": 1047,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/sms.service.spec.ts": {
            "lines": 578,
            "tokens": 5098,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/sms/sms.module.ts": {
            "lines": 53,
            "tokens": 278,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/queue.config.ts": {
            "lines": 243,
            "tokens": 1461,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/message-queue.service.ts": {
            "lines": 507,
            "tokens": 3539,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/message-queue.processor.ts": {
            "lines": 10,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/message-queue.module.ts": {
            "lines": 236,
            "tokens": 1412,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/message-notification.processor.ts": {
            "lines": 178,
            "tokens": 1423,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 156,
            "duplicatedTokens": 1145,
            "percentage": 87.64,
            "percentageTokens": 80.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/message-indexing.processor.ts": {
            "lines": 131,
            "tokens": 1010,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 68,
            "duplicatedTokens": 556,
            "percentage": 51.91,
            "percentageTokens": 55.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/message-encryption.processor.ts": {
            "lines": 157,
            "tokens": 1280,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 68,
            "duplicatedTokens": 528,
            "percentage": 43.31,
            "percentageTokens": 41.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/message-delivery.processor.ts": {
            "lines": 309,
            "tokens": 2407,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 169,
            "percentage": 6.47,
            "percentageTokens": 7.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/message-cleanup.processor.ts": {
            "lines": 187,
            "tokens": 1406,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 39,
            "duplicatedTokens": 293,
            "percentage": 20.86,
            "percentageTokens": 20.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/index.ts": {
            "lines": 54,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/batch-message-sending.processor.ts": {
            "lines": 187,
            "tokens": 1594,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 59,
            "duplicatedTokens": 494,
            "percentage": 31.55,
            "percentageTokens": 30.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/queue/base.processor.ts": {
            "lines": 52,
            "tokens": 338,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 94,
            "percentage": 32.69,
            "percentageTokens": 27.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/sentry.service.ts": {
            "lines": 463,
            "tokens": 3148,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/sentry.module.ts": {
            "lines": 19,
            "tokens": 73,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/query-monitor.service.ts": {
            "lines": 180,
            "tokens": 1163,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/performance-tracking.service.ts": {
            "lines": 232,
            "tokens": 1380,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/performance-metrics.service.ts": {
            "lines": 675,
            "tokens": 5254,
            "sources": 1,
            "clones": 13,
            "duplicatedLines": 361,
            "duplicatedTokens": 2676,
            "percentage": 53.48,
            "percentageTokens": 50.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/monitoring.service.ts": {
            "lines": 316,
            "tokens": 1958,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/monitoring.module.ts": {
            "lines": 168,
            "tokens": 281,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/monitoring.controller.ts": {
            "lines": 413,
            "tokens": 2131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/metrics-collection.service.ts": {
            "lines": 451,
            "tokens": 3313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/log-aggregation.service.ts": {
            "lines": 284,
            "tokens": 1728,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/index.ts": {
            "lines": 16,
            "tokens": 83,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/health.controller.ts": {
            "lines": 181,
            "tokens": 722,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/health-check.service.ts": {
            "lines": 528,
            "tokens": 3584,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/enhanced-health-check.service.ts": {
            "lines": 252,
            "tokens": 1747,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/monitoring/alert-management.service.ts": {
            "lines": 290,
            "tokens": 1957,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/migrations/migrations.module.ts": {
            "lines": 13,
            "tokens": 63,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/migrations/migration-version-control.service.ts": {
            "lines": 588,
            "tokens": 4329,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/jobs.module.ts": {
            "lines": 73,
            "tokens": 539,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/jobs/index.ts": {
            "lines": 23,
            "tokens": 136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/index.ts": {
            "lines": 8,
            "tokens": 36,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/graphql/graphql.module.ts": {
            "lines": 241,
            "tokens": 1584,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/key-management.service.ts": {
            "lines": 640,
            "tokens": 4105,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/index.ts": {
            "lines": 49,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/encryption.service.ts": {
            "lines": 164,
            "tokens": 1161,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/encryption/encryption.module.ts": {
            "lines": 41,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/index.ts": {
            "lines": 11,
            "tokens": 56,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/email.service.ts": {
            "lines": 178,
            "tokens": 1407,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/email.module.ts": {
            "lines": 60,
            "tokens": 421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/email-template.service.ts": {
            "lines": 225,
            "tokens": 1586,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/email-rate-limiter.service.ts": {
            "lines": 349,
            "tokens": 2379,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/email-queue.service.ts": {
            "lines": 392,
            "tokens": 2785,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/database-monitoring/database-performance-monitoring.service.ts": {
            "lines": 82,
            "tokens": 1957,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/rate-limiter.service.ts": {
            "lines": 272,
            "tokens": 1826,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/index.ts": {
            "lines": 16,
            "tokens": 96,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache.service.ts": {
            "lines": 501,
            "tokens": 3772,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 29,
            "duplicatedTokens": 171,
            "percentage": 5.79,
            "percentageTokens": 4.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache.module.ts": {
            "lines": 66,
            "tokens": 336,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache.interfaces.ts": {
            "lines": 269,
            "tokens": 1286,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache.config.ts": {
            "lines": 186,
            "tokens": 1370,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache-warming.service.ts": {
            "lines": 298,
            "tokens": 2022,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache-storage.service.ts": {
            "lines": 359,
            "tokens": 2260,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 84,
            "percentage": 3.9,
            "percentageTokens": 3.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache-statistics.service.ts": {
            "lines": 498,
            "tokens": 3985,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache-serialization.service.ts": {
            "lines": 110,
            "tokens": 704,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache-operations.service.ts": {
            "lines": 217,
            "tokens": 1422,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 162,
            "percentage": 10.14,
            "percentageTokens": 11.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache-invalidation.service.ts": {
            "lines": 260,
            "tokens": 1673,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 87,
            "percentage": 5.77,
            "percentageTokens": 5.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/cache/cache-connection.service.ts": {
            "lines": 171,
            "tokens": 1109,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/backup/backup.module.ts": {
            "lines": 13,
            "tokens": 63,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/backup/backup-restore.service.ts": {
            "lines": 611,
            "tokens": 4926,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/index.ts": {
            "lines": 8,
            "tokens": 79,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/incident-write.service.ts": {
            "lines": 97,
            "tokens": 685,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/incident-witness.service.ts": {
            "lines": 170,
            "tokens": 1211,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/incident-validation.service.ts": {
            "lines": 179,
            "tokens": 1270,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/incident-status.service.ts": {
            "lines": 166,
            "tokens": 1158,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/incident-statistics.service.ts": {
            "lines": 241,
            "tokens": 2049,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 72,
            "duplicatedTokens": 670,
            "percentage": 29.88,
            "percentageTokens": 32.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/incident-read.service.ts": {
            "lines": 166,
            "tokens": 1167,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 50,
            "duplicatedTokens": 441,
            "percentage": 30.12,
            "percentageTokens": 37.79,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/incident-notification.service.ts": {
            "lines": 206,
            "tokens": 1496,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/incident-follow-up.service.ts": {
            "lines": 263,
            "tokens": 1899,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/services/incident-core.service.ts": {
            "lines": 509,
            "tokens": 3531,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 72,
            "duplicatedTokens": 503,
            "percentage": 14.15,
            "percentageTokens": 14.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/enums/incident-type.enum.ts": {
            "lines": 9,
            "tokens": 72,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/dto/update-witness-statement.dto.ts": {
            "lines": 29,
            "tokens": 211,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/dto/update-incident-report.dto.ts": {
            "lines": 29,
            "tokens": 216,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/dto/update-follow-up-action.dto.ts": {
            "lines": 30,
            "tokens": 225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/dto/incident-filters.dto.ts": {
            "lines": 77,
            "tokens": 595,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 83,
            "percentage": 12.99,
            "percentageTokens": 13.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/dto/create-witness-statement.dto.ts": {
            "lines": 40,
            "tokens": 267,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/dto/create-incident-report.dto.ts": {
            "lines": 191,
            "tokens": 1234,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/dto/create-follow-up-action.dto.ts": {
            "lines": 35,
            "tokens": 251,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/controllers/incident-status.controller.ts": {
            "lines": 170,
            "tokens": 1579,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/controllers/incident-query.controller.ts": {
            "lines": 161,
            "tokens": 1266,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 188,
            "percentage": 16.15,
            "percentageTokens": 14.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/controllers/incident-core.controller.ts": {
            "lines": 148,
            "tokens": 1223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-risk-assessment/dto/risk-factor.dto.ts": {
            "lines": 39,
            "tokens": 225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-risk-assessment/dto/high-risk-student.dto.ts": {
            "lines": 18,
            "tokens": 95,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-risk-assessment/dto/high-risk-query.dto.ts": {
            "lines": 22,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-risk-assessment/dto/health-risk-score.dto.ts": {
            "lines": 73,
            "tokens": 458,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vitals/vitals.service.ts": {
            "lines": 445,
            "tokens": 3873,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vitals/vitals.module.ts": {
            "lines": 11,
            "tokens": 118,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vitals/index.ts": {
            "lines": 10,
            "tokens": 33,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/validation/validation.service.ts": {
            "lines": 707,
            "tokens": 5205,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 43,
            "duplicatedTokens": 395,
            "percentage": 6.08,
            "percentageTokens": 7.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/vaccination.service.ts": {
            "lines": 342,
            "tokens": 2460,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/vaccination.module.ts": {
            "lines": 21,
            "tokens": 196,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/vaccination.dto.ts": {
            "lines": 93,
            "tokens": 585,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 36,
            "duplicatedTokens": 296,
            "percentage": 38.71,
            "percentageTokens": 50.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/vaccination.controller.ts": {
            "lines": 229,
            "tokens": 1510,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/vaccination.constants.ts": {
            "lines": 49,
            "tokens": 291,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/vaccination-schedule.helper.ts": {
            "lines": 276,
            "tokens": 1981,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 46,
            "duplicatedTokens": 486,
            "percentage": 16.67,
            "percentageTokens": 24.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/vaccination-crud.helper.ts": {
            "lines": 90,
            "tokens": 623,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/vaccination-compliance.interfaces.ts": {
            "lines": 117,
            "tokens": 545,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/vaccination-compliance.helper.ts": {
            "lines": 359,
            "tokens": 2783,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/vaccination/index.ts": {
            "lines": 12,
            "tokens": 51,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/statistics/statistics.service.ts": {
            "lines": 468,
            "tokens": 4203,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 43,
            "duplicatedTokens": 397,
            "percentage": 9.19,
            "percentageTokens": 9.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/resource-reporter.service.ts": {
            "lines": 283,
            "tokens": 2372,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/resource-optimization.service.ts": {
            "lines": 217,
            "tokens": 1508,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/resource-optimization-engine.service.ts": {
            "lines": 348,
            "tokens": 2434,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/resource-monitor.service.ts": {
            "lines": 359,
            "tokens": 2532,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/resource-metrics-collector.service.ts": {
            "lines": 243,
            "tokens": 1320,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/query-performance-analyzer.service.ts": {
            "lines": 676,
            "tokens": 4872,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/phi-access-logger.service.ts": {
            "lines": 716,
            "tokens": 5296,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 40,
            "duplicatedTokens": 482,
            "percentage": 5.59,
            "percentageTokens": 9.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/intelligent-cache-invalidation.service.ts": {
            "lines": 706,
            "tokens": 4935,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/index.ts": {
            "lines": 13,
            "tokens": 74,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/health-record-vitals.service.ts": {
            "lines": 144,
            "tokens": 960,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/health-record-vaccination.service.ts": {
            "lines": 181,
            "tokens": 1149,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/health-record-summary.service.ts": {
            "lines": 411,
            "tokens": 2775,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 111,
            "percentage": 3.65,
            "percentageTokens": 4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/health-record-metrics.service.ts": {
            "lines": 731,
            "tokens": 4771,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/health-record-crud.service.ts": {
            "lines": 370,
            "tokens": 2525,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 90,
            "duplicatedTokens": 707,
            "percentage": 24.32,
            "percentageTokens": 28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/health-record-chronic-condition.service.ts": {
            "lines": 173,
            "tokens": 1013,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/health-record-batch.service.ts": {
            "lines": 123,
            "tokens": 685,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/health-record-allergy.service.ts": {
            "lines": 191,
            "tokens": 1256,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/health-data-cache.service.ts": {
            "lines": 441,
            "tokens": 3231,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache-warming.service.ts": {
            "lines": 372,
            "tokens": 2784,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/services/cache-strategy.service.ts": {
            "lines": 109,
            "tokens": 590,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/search/search.service.ts": {
            "lines": 730,
            "tokens": 6766,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 86,
            "duplicatedTokens": 746,
            "percentage": 11.78,
            "percentageTokens": 11.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/screening/screening.service.ts": {
            "lines": 282,
            "tokens": 2147,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/screening/screening.module.ts": {
            "lines": 9,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/screening/screening.controller.ts": {
            "lines": 203,
            "tokens": 1343,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/screening/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/medication/medication.service.ts": {
            "lines": 164,
            "tokens": 1225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/medication/medication.module.ts": {
            "lines": 12,
            "tokens": 124,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/medication/medication.controller.ts": {
            "lines": 145,
            "tokens": 1357,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/medication/index.ts": {
            "lines": 12,
            "tokens": 51,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interfaces/vital-signs.interface.ts": {
            "lines": 75,
            "tokens": 272,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interfaces/vaccination.interface.ts": {
            "lines": 189,
            "tokens": 849,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 67,
            "duplicatedTokens": 395,
            "percentage": 35.45,
            "percentageTokens": 46.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interfaces/pagination.interface.ts": {
            "lines": 122,
            "tokens": 403,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interfaces/medication.interface.ts": {
            "lines": 80,
            "tokens": 337,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interfaces/index.ts": {
            "lines": 11,
            "tokens": 63,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interfaces/health-record-types.ts": {
            "lines": 122,
            "tokens": 593,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interfaces/chronic-condition.interface.ts": {
            "lines": 116,
            "tokens": 447,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interfaces/allergy.interface.ts": {
            "lines": 97,
            "tokens": 372,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interceptors/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interceptors/health-record-cache.interceptor.ts": {
            "lines": 474,
            "tokens": 3320,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interceptors/health-record-audit.interceptor.ts": {
            "lines": 454,
            "tokens": 3313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/interceptors/cache-invalidation.interceptor.ts": {
            "lines": 226,
            "tokens": 1632,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/import-export/import-export.service.ts": {
            "lines": 850,
            "tokens": 7268,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 266,
            "percentage": 3.29,
            "percentageTokens": 3.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/guards/health-record-rate-limit.guard.ts": {
            "lines": 531,
            "tokens": 3604,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/entities/health-record.entity.ts": {
            "lines": 19,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/dto/update-health-record.dto.ts": {
            "lines": 15,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/dto/index.ts": {
            "lines": 8,
            "tokens": 53,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/dto/import-health-records.dto.ts": {
            "lines": 24,
            "tokens": 134,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/dto/health-record-filter.dto.ts": {
            "lines": 69,
            "tokens": 497,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/dto/create-health-record.dto.ts": {
            "lines": 93,
            "tokens": 664,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/controllers/health-record-crud.controller.ts": {
            "lines": 352,
            "tokens": 2223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/controllers/health-record-compliance.controller.ts": {
            "lines": 317,
            "tokens": 2189,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/chronic-condition/index.ts": {
            "lines": 12,
            "tokens": 51,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/chronic-condition/chronic-condition.service.ts": {
            "lines": 357,
            "tokens": 2694,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 83,
            "duplicatedTokens": 494,
            "percentage": 23.25,
            "percentageTokens": 18.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/chronic-condition/chronic-condition.module.ts": {
            "lines": 13,
            "tokens": 140,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/chronic-condition/chronic-condition.controller.ts": {
            "lines": 116,
            "tokens": 1152,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/allergy/index.ts": {
            "lines": 12,
            "tokens": 51,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/allergy/allergy.service.ts": {
            "lines": 414,
            "tokens": 3068,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 41,
            "duplicatedTokens": 258,
            "percentage": 9.9,
            "percentageTokens": 8.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/allergy/allergy.module.ts": {
            "lines": 14,
            "tokens": 156,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/allergy/allergy.controller.ts": {
            "lines": 252,
            "tokens": 1923,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/__tests__/health-record.controller.spec.ts": {
            "lines": 948,
            "tokens": 6510,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 44,
            "duplicatedTokens": 305,
            "percentage": 4.64,
            "percentageTokens": 4.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/dto/update-alert.dto.ts": {
            "lines": 14,
            "tokens": 109,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/dto/index.ts": {
            "lines": 11,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/dto/get-vitals-query.dto.ts": {
            "lines": 28,
            "tokens": 268,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/dto/get-trends-query.dto.ts": {
            "lines": 20,
            "tokens": 178,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/dto/get-metrics-query.dto.ts": {
            "lines": 16,
            "tokens": 140,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/dto/get-department-query.dto.ts": {
            "lines": 12,
            "tokens": 119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/dto/get-alerts-query.dto.ts": {
            "lines": 27,
            "tokens": 225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/dto/create-vitals.dto.ts": {
            "lines": 61,
            "tokens": 349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/services/health-domain-facade.service.ts": {
            "lines": 566,
            "tokens": 4285,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 71,
            "duplicatedTokens": 488,
            "percentage": 12.54,
            "percentageTokens": 11.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/repositories/index.ts": {
            "lines": 9,
            "tokens": 24,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/events/health-domain.events.ts": {
            "lines": 152,
            "tokens": 959,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/dto/schedule.dto.ts": {
            "lines": 360,
            "tokens": 1972,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 40,
            "duplicatedTokens": 236,
            "percentage": 11.11,
            "percentageTokens": 11.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/dto/pagination.dto.ts": {
            "lines": 32,
            "tokens": 271,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/dto/index.ts": {
            "lines": 26,
            "tokens": 129,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/dto/filters.dto.ts": {
            "lines": 93,
            "tokens": 642,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 200,
            "percentage": 36.56,
            "percentageTokens": 31.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/dto/exemption.dto.ts": {
            "lines": 312,
            "tokens": 1741,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/dto/create-immunization.dto.ts": {
            "lines": 89,
            "tokens": 551,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/dto/create-health-record.dto.ts": {
            "lines": 82,
            "tokens": 532,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/dto/create-chronic-condition.dto.ts": {
            "lines": 91,
            "tokens": 652,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/dto/create-allergy.dto.ts": {
            "lines": 45,
            "tokens": 295,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/grade-transition/dto/transition-student.dto.ts": {
            "lines": 19,
            "tokens": 125,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/grade-transition/dto/transition-result.dto.ts": {
            "lines": 59,
            "tokens": 324,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/grade-transition/dto/bulk-transition.dto.ts": {
            "lines": 62,
            "tokens": 423,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/features/dto/toggle-feature.dto.ts": {
            "lines": 17,
            "tokens": 100,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/witness.ts": {
            "lines": 14,
            "tokens": 105,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/waitlist.ts": {
            "lines": 16,
            "tokens": 111,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/report.ts": {
            "lines": 37,
            "tokens": 293,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/reminders.ts": {
            "lines": 21,
            "tokens": 142,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/recurring.ts": {
            "lines": 17,
            "tokens": 124,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/message.ts": {
            "lines": 13,
            "tokens": 95,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/insurance.ts": {
            "lines": 15,
            "tokens": 112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/evidence.ts": {
            "lines": 18,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/enums.ts": {
            "lines": 103,
            "tokens": 610,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/consent.ts": {
            "lines": 27,
            "tokens": 205,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/compliance.ts": {
            "lines": 36,
            "tokens": 245,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/bulk.ts": {
            "lines": 20,
            "tokens": 149,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/interfaces/analytics.ts": {
            "lines": 27,
            "tokens": 182,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/helpers/template-validation.helper.ts": {
            "lines": 142,
            "tokens": 1106,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/helpers/signature.helper.ts": {
            "lines": 65,
            "tokens": 365,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/helpers/consent-validation.helper.ts": {
            "lines": 125,
            "tokens": 959,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/helpers/consent-template.helper.ts": {
            "lines": 51,
            "tokens": 183,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/witness-statement.dto.ts": {
            "lines": 62,
            "tokens": 497,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/waitlist.dto.ts": {
            "lines": 40,
            "tokens": 329,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/translation.dto.ts": {
            "lines": 31,
            "tokens": 225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/reminders.dto.ts": {
            "lines": 52,
            "tokens": 410,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/regulations.dto.ts": {
            "lines": 25,
            "tokens": 190,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/recurring-appointments.dto.ts": {
            "lines": 52,
            "tokens": 420,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/message-template.dto.ts": {
            "lines": 56,
            "tokens": 409,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/insurance-claim.dto.ts": {
            "lines": 39,
            "tokens": 317,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/index.ts": {
            "lines": 40,
            "tokens": 165,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/evidence.dto.ts": {
            "lines": 50,
            "tokens": 392,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/custom-report.dto.ts": {
            "lines": 75,
            "tokens": 660,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/consent-form.dto.ts": {
            "lines": 98,
            "tokens": 710,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/compliance.dto.ts": {
            "lines": 20,
            "tokens": 155,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/bulk-messaging.dto.ts": {
            "lines": 41,
            "tokens": 359,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/dto/analytics.dto.ts": {
            "lines": 18,
            "tokens": 151,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/witness-statements.controller.ts": {
            "lines": 52,
            "tokens": 454,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/waitlist.controller.ts": {
            "lines": 66,
            "tokens": 572,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/translation.controller.ts": {
            "lines": 31,
            "tokens": 352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/reminders.controller.ts": {
            "lines": 40,
            "tokens": 374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/recurring-appointments.controller.ts": {
            "lines": 47,
            "tokens": 409,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/message-templates.controller.ts": {
            "lines": 47,
            "tokens": 427,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/insurance-claims.controller.ts": {
            "lines": 43,
            "tokens": 402,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/evidence.controller.ts": {
            "lines": 56,
            "tokens": 467,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/custom-reports.controller.ts": {
            "lines": 47,
            "tokens": 459,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/consent-forms.controller.ts": {
            "lines": 140,
            "tokens": 1185,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/compliance.controller.ts": {
            "lines": 53,
            "tokens": 484,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/bulk-messaging.controller.ts": {
            "lines": 33,
            "tokens": 302,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/controllers/analytics.controller.ts": {
            "lines": 28,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/services/notification-queue.service.ts": {
            "lines": 188,
            "tokens": 1059,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/services/notification-orchestration.service.ts": {
            "lines": 306,
            "tokens": 1761,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/services/notification-delivery.service.ts": {
            "lines": 244,
            "tokens": 1224,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/services/index.ts": {
            "lines": 12,
            "tokens": 91,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/services/contact-verification.service.ts": {
            "lines": 242,
            "tokens": 1311,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/services/contact-validation.service.ts": {
            "lines": 175,
            "tokens": 830,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/services/contact-statistics.service.ts": {
            "lines": 313,
            "tokens": 1775,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 207,
            "percentage": 7.03,
            "percentageTokens": 11.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/services/contact-management.service.ts": {
            "lines": 466,
            "tokens": 2723,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 166,
            "percentage": 4.29,
            "percentageTokens": 6.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/dto/verify-contact.dto.ts": {
            "lines": 22,
            "tokens": 119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/dto/update-emergency-contact.dto.ts": {
            "lines": 148,
            "tokens": 872,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 22,
            "duplicatedTokens": 140,
            "percentage": 14.86,
            "percentageTokens": 16.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/dto/notification.dto.ts": {
            "lines": 75,
            "tokens": 489,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/dto/notification-result.dto.ts": {
            "lines": 90,
            "tokens": 504,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/dto/index.ts": {
            "lines": 23,
            "tokens": 119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/dto/create-emergency-contact.dto.ts": {
            "lines": 140,
            "tokens": 851,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 22,
            "duplicatedTokens": 140,
            "percentage": 15.71,
            "percentageTokens": 16.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/__tests__/emergency-contact.service.spec.ts": {
            "lines": 586,
            "tokens": 5414,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/services/broadcast-template.service.ts": {
            "lines": 250,
            "tokens": 1670,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/services/broadcast-recipient.service.ts": {
            "lines": 245,
            "tokens": 1673,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/services/broadcast-priority.service.ts": {
            "lines": 116,
            "tokens": 792,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/services/broadcast-management.service.ts": {
            "lines": 430,
            "tokens": 3158,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 26,
            "duplicatedTokens": 218,
            "percentage": 6.05,
            "percentageTokens": 6.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/services/broadcast-delivery.service.ts": {
            "lines": 351,
            "tokens": 2339,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/update-emergency-broadcast.dto.ts": {
            "lines": 8,
            "tokens": 44,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/send-broadcast-response.dto.ts": {
            "lines": 10,
            "tokens": 39,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/record-acknowledgment.dto.ts": {
            "lines": 17,
            "tokens": 99,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/recipient-delivery-status.dto.ts": {
            "lines": 18,
            "tokens": 106,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/index.ts": {
            "lines": 13,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/emergency-template-response.dto.ts": {
            "lines": 14,
            "tokens": 63,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/emergency-broadcast-response.dto.ts": {
            "lines": 46,
            "tokens": 235,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 32,
            "duplicatedTokens": 190,
            "percentage": 69.57,
            "percentageTokens": 80.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/create-emergency-broadcast.dto.ts": {
            "lines": 130,
            "tokens": 747,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/cancel-broadcast.dto.ts": {
            "lines": 12,
            "tokens": 57,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/dto/broadcast-status-response.dto.ts": {
            "lines": 19,
            "tokens": 97,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/enums/document.enums.ts": {
            "lines": 58,
            "tokens": 322,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/entities/document.entity.ts": {
            "lines": 416,
            "tokens": 2592,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/entities/document-signature.entity.ts": {
            "lines": 112,
            "tokens": 626,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/entities/document-audit-trail.entity.ts": {
            "lines": 113,
            "tokens": 643,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/dto/update-document.dto.ts": {
            "lines": 80,
            "tokens": 466,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/dto/sign-document.dto.ts": {
            "lines": 53,
            "tokens": 305,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/dto/share-document.dto.ts": {
            "lines": 25,
            "tokens": 165,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/dto/search-documents.dto.ts": {
            "lines": 50,
            "tokens": 315,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/dto/index.ts": {
            "lines": 12,
            "tokens": 74,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/dto/filter-documents.dto.ts": {
            "lines": 89,
            "tokens": 587,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 84,
            "percentage": 13.48,
            "percentageTokens": 14.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/dto/create-from-template.dto.ts": {
            "lines": 47,
            "tokens": 280,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 89,
            "percentage": 34.04,
            "percentageTokens": 31.79,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/dto/create-document.dto.ts": {
            "lines": 149,
            "tokens": 867,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 89,
            "percentage": 10.74,
            "percentageTokens": 10.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/dto/bulk-delete-documents.dto.ts": {
            "lines": 25,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/services/discovery-metrics.service.ts": {
            "lines": 264,
            "tokens": 2317,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/services/discovery-cache.service.ts": {
            "lines": 278,
            "tokens": 2007,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/smart-garbage-collection.module.ts": {
            "lines": 198,
            "tokens": 1318,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/memory-optimized-cache.module.ts": {
            "lines": 151,
            "tokens": 1027,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/index.ts": {
            "lines": 14,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/modules/dynamic-resource-pool.module.ts": {
            "lines": 172,
            "tokens": 1160,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/interfaces/metrics.interface.ts": {
            "lines": 41,
            "tokens": 337,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/interfaces/cache-config.interface.ts": {
            "lines": 23,
            "tokens": 160,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/interceptors/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/interceptors/discovery-metrics.interceptor.ts": {
            "lines": 201,
            "tokens": 1391,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/interceptors/discovery-logging.interceptor.ts": {
            "lines": 111,
            "tokens": 905,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/interceptors/discovery-cache.interceptor.ts": {
            "lines": 112,
            "tokens": 1022,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/guards/discovery-rate-limit.guard.ts": {
            "lines": 180,
            "tokens": 1428,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/guards/admin-discovery.guard.ts": {
            "lines": 73,
            "tokens": 556,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/filters/discovery-exception.filter.ts": {
            "lines": 176,
            "tokens": 1383,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/exceptions/discovery.exceptions.ts": {
            "lines": 106,
            "tokens": 724,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/examples/example-services.ts": {
            "lines": 86,
            "tokens": 535,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/enums/provider-type.enum.ts": {
            "lines": 19,
            "tokens": 126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/dto/provider-query.dto.ts": {
            "lines": 68,
            "tokens": 544,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/dto/pagination.dto.ts": {
            "lines": 30,
            "tokens": 280,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/decorators/rate-limit.decorator.ts": {
            "lines": 18,
            "tokens": 198,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/decorators/metadata.decorator.ts": {
            "lines": 27,
            "tokens": 257,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/decorators/index.ts": {
            "lines": 8,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/decorators/cache-config.decorator.ts": {
            "lines": 72,
            "tokens": 448,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/uow/unit-of-work.interface.ts": {
            "lines": 60,
            "tokens": 195,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/uow/sequelize-unit-of-work.service.ts": {
            "lines": 126,
            "tokens": 1011,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/types/user-role.enum.ts": {
            "lines": 39,
            "tokens": 241,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/types/query.types.ts": {
            "lines": 250,
            "tokens": 1079,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/types/index.ts": {
            "lines": 15,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/types/execution-context.interface.ts": {
            "lines": 137,
            "tokens": 632,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/types/database.enums.ts": {
            "lines": 169,
            "tokens": 758,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/transaction-utility.service.ts": {
            "lines": 376,
            "tokens": 2082,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/query-logger.service.ts": {
            "lines": 391,
            "tokens": 3073,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/query-cache.service.ts": {
            "lines": 475,
            "tokens": 3209,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/model-audit-helper.service.ts": {
            "lines": 156,
            "tokens": 916,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/materialized-view.service.ts": {
            "lines": 450,
            "tokens": 2659,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/index.ts": {
            "lines": 40,
            "tokens": 266,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/connection-monitor.service.ts": {
            "lines": 329,
            "tokens": 2063,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/cache.service.ts": {
            "lines": 149,
            "tokens": 1404,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/cache-monitoring.service.ts": {
            "lines": 248,
            "tokens": 1752,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/audit.service.ts": {
            "lines": 384,
            "tokens": 2357,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 253,
            "percentage": 8.85,
            "percentageTokens": 10.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/audit-statistics.service.ts": {
            "lines": 167,
            "tokens": 1285,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/audit-retention.service.ts": {
            "lines": 138,
            "tokens": 917,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/audit-query.service.ts": {
            "lines": 191,
            "tokens": 1370,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/audit-logging.service.ts": {
            "lines": 529,
            "tokens": 3593,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 135,
            "percentage": 3.97,
            "percentageTokens": 3.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/audit-helper.service.ts": {
            "lines": 126,
            "tokens": 553,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/audit-export.service.ts": {
            "lines": 159,
            "tokens": 932,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/services/audit-compliance.service.ts": {
            "lines": 190,
            "tokens": 1282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/seeds/students.seed.ts": {
            "lines": 220,
            "tokens": 1485,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/seeds/schools.seed.ts": {
            "lines": 108,
            "tokens": 731,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/seeds/index.ts": {
            "lines": 8,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/seeds/incidents.seed.ts": {
            "lines": 298,
            "tokens": 2041,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 24,
            "duplicatedTokens": 184,
            "percentage": 8.05,
            "percentageTokens": 9.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/seeds/districts.seed.ts": {
            "lines": 62,
            "tokens": 497,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/witness-statement.model.ts": {
            "lines": 156,
            "tokens": 988,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/webhook.model.ts": {
            "lines": 104,
            "tokens": 671,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 141,
            "duplicatedTokens": 884,
            "percentage": 135.58,
            "percentageTokens": 131.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/vital-signs.model.ts": {
            "lines": 301,
            "tokens": 2143,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 63,
            "duplicatedTokens": 451,
            "percentage": 20.93,
            "percentageTokens": 21.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/vendor.model.ts": {
            "lines": 136,
            "tokens": 884,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 65,
            "duplicatedTokens": 429,
            "percentage": 47.79,
            "percentageTokens": 48.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/vaccination.model.ts": {
            "lines": 595,
            "tokens": 3130,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 92,
            "duplicatedTokens": 566,
            "percentage": 15.46,
            "percentageTokens": 18.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/user.model.ts": {
            "lines": 672,
            "tokens": 4844,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 71,
            "duplicatedTokens": 605,
            "percentage": 10.57,
            "percentageTokens": 12.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/treatment-plan.model.ts": {
            "lines": 127,
            "tokens": 806,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 93,
            "duplicatedTokens": 607,
            "percentage": 73.23,
            "percentageTokens": 75.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/training-module.model.ts": {
            "lines": 215,
            "tokens": 1278,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/threat-detection.model.ts": {
            "lines": 120,
            "tokens": 759,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 98,
            "duplicatedTokens": 629,
            "percentage": 81.67,
            "percentageTokens": 82.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/system-config.model.ts": {
            "lines": 353,
            "tokens": 2213,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 53,
            "duplicatedTokens": 400,
            "percentage": 15.01,
            "percentageTokens": 18.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/sync-state.model.ts": {
            "lines": 106,
            "tokens": 677,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 90,
            "percentage": 13.21,
            "percentageTokens": 13.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/sync-session.model.ts": {
            "lines": 216,
            "tokens": 1347,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/sync-queue-item.model.ts": {
            "lines": 251,
            "tokens": 1557,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 33,
            "duplicatedTokens": 214,
            "percentage": 13.15,
            "percentageTokens": 13.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/sync-conflict.model.ts": {
            "lines": 174,
            "tokens": 1064,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/supplier.model.ts": {
            "lines": 98,
            "tokens": 643,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 175,
            "percentage": 28.57,
            "percentageTokens": 27.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/student.model.ts": {
            "lines": 571,
            "tokens": 3640,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 59,
            "duplicatedTokens": 383,
            "percentage": 10.33,
            "percentageTokens": 10.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/student-medication.model.ts": {
            "lines": 223,
            "tokens": 1458,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 62,
            "duplicatedTokens": 365,
            "percentage": 27.8,
            "percentageTokens": 25.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/student-drug-allergy.model.ts": {
            "lines": 145,
            "tokens": 905,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/sis-sync-conflict.model.ts": {
            "lines": 166,
            "tokens": 1024,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/school.model.ts": {
            "lines": 287,
            "tokens": 2005,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 40,
            "duplicatedTokens": 287,
            "percentage": 13.94,
            "percentageTokens": 14.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/report-template.model.ts": {
            "lines": 154,
            "tokens": 998,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 49,
            "duplicatedTokens": 303,
            "percentage": 31.82,
            "percentageTokens": 30.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/report-schedule.model.ts": {
            "lines": 208,
            "tokens": 1350,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 29,
            "duplicatedTokens": 172,
            "percentage": 13.94,
            "percentageTokens": 12.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/report-execution.model.ts": {
            "lines": 205,
            "tokens": 1293,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 78,
            "percentage": 5.85,
            "percentageTokens": 6.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/remediation-action.model.ts": {
            "lines": 179,
            "tokens": 1112,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 56,
            "duplicatedTokens": 356,
            "percentage": 31.28,
            "percentageTokens": 32.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/push-notification.model.ts": {
            "lines": 424,
            "tokens": 2632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 50,
            "duplicatedTokens": 341,
            "percentage": 11.79,
            "percentageTokens": 12.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/purchase-order.model.ts": {
            "lines": 174,
            "tokens": 1131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/purchase-order-item.model.ts": {
            "lines": 117,
            "tokens": 766,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/prescription.model.ts": {
            "lines": 426,
            "tokens": 2901,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 185,
            "duplicatedTokens": 1249,
            "percentage": 43.43,
            "percentageTokens": 43.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/policy-document.model.ts": {
            "lines": 168,
            "tokens": 1060,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 185,
            "percentage": 17.86,
            "percentageTokens": 17.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/policy-acknowledgment.model.ts": {
            "lines": 99,
            "tokens": 640,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/phi-disclosure.model.ts": {
            "lines": 279,
            "tokens": 1757,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 78,
            "duplicatedTokens": 518,
            "percentage": 27.96,
            "percentageTokens": 29.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/phi-disclosure-audit.model.ts": {
            "lines": 111,
            "tokens": 708,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 82,
            "percentage": 11.71,
            "percentageTokens": 11.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/performance-metric.model.ts": {
            "lines": 164,
            "tokens": 955,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 76,
            "percentage": 6.1,
            "percentageTokens": 7.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/message.model.ts": {
            "lines": 341,
            "tokens": 2245,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 55,
            "duplicatedTokens": 331,
            "percentage": 16.13,
            "percentageTokens": 14.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/message-template.model.ts": {
            "lines": 168,
            "tokens": 1088,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 100,
            "duplicatedTokens": 583,
            "percentage": 59.52,
            "percentageTokens": 53.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/message-read.model.ts": {
            "lines": 159,
            "tokens": 909,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 69,
            "duplicatedTokens": 453,
            "percentage": 43.4,
            "percentageTokens": 49.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/message-reaction.model.ts": {
            "lines": 162,
            "tokens": 908,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 28,
            "duplicatedTokens": 199,
            "percentage": 17.28,
            "percentageTokens": 21.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/message-delivery.model.ts": {
            "lines": 212,
            "tokens": 1333,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 117,
            "percentage": 8.96,
            "percentageTokens": 8.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/mental-health-record.model.ts": {
            "lines": 528,
            "tokens": 2584,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 29,
            "duplicatedTokens": 209,
            "percentage": 5.49,
            "percentageTokens": 8.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/medication.model.ts": {
            "lines": 267,
            "tokens": 1829,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 88,
            "percentage": 4.87,
            "percentageTokens": 4.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/medication-log.model.ts": {
            "lines": 218,
            "tokens": 1394,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/medical-history.model.ts": {
            "lines": 233,
            "tokens": 1448,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 44,
            "duplicatedTokens": 312,
            "percentage": 18.88,
            "percentageTokens": 21.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/maintenance-log.model.ts": {
            "lines": 142,
            "tokens": 909,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 44,
            "duplicatedTokens": 296,
            "percentage": 30.99,
            "percentageTokens": 32.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/license.model.ts": {
            "lines": 273,
            "tokens": 1679,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 170,
            "percentage": 8.06,
            "percentageTokens": 10.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/lab-results.model.ts": {
            "lines": 246,
            "tokens": 1778,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 80,
            "duplicatedTokens": 541,
            "percentage": 32.52,
            "percentageTokens": 30.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/inventory-transaction.model.ts": {
            "lines": 146,
            "tokens": 938,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 44,
            "duplicatedTokens": 296,
            "percentage": 30.14,
            "percentageTokens": 31.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/inventory-item.model.ts": {
            "lines": 166,
            "tokens": 1073,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 168,
            "percentage": 15.66,
            "percentageTokens": 15.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/integration-log.model.ts": {
            "lines": 187,
            "tokens": 1183,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/integration-config.model.ts": {
            "lines": 216,
            "tokens": 1380,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/index.ts": {
            "lines": 212,
            "tokens": 1605,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/incident-report.model.ts": {
            "lines": 441,
            "tokens": 3019,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 74,
            "duplicatedTokens": 513,
            "percentage": 16.78,
            "percentageTokens": 16.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/immunization.model.ts": {
            "lines": 140,
            "tokens": 903,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 42,
            "duplicatedTokens": 267,
            "percentage": 30,
            "percentageTokens": 29.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/health-screening.model.ts": {
            "lines": 126,
            "tokens": 785,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 176,
            "percentage": 21.43,
            "percentageTokens": 22.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/health-record.model.ts": {
            "lines": 427,
            "tokens": 2706,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 46,
            "duplicatedTokens": 338,
            "percentage": 10.77,
            "percentageTokens": 12.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/health-metric-snapshot.model.ts": {
            "lines": 137,
            "tokens": 878,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/growth-tracking.model.ts": {
            "lines": 136,
            "tokens": 877,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 174,
            "percentage": 19.85,
            "percentageTokens": 19.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/follow-up-appointment.model.ts": {
            "lines": 328,
            "tokens": 2042,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/follow-up-action.model.ts": {
            "lines": 226,
            "tokens": 1420,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/emergency-contact.model.ts": {
            "lines": 356,
            "tokens": 2164,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 50,
            "duplicatedTokens": 302,
            "percentage": 14.04,
            "percentageTokens": 13.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/emergency-broadcast.model.ts": {
            "lines": 236,
            "tokens": 1487,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 90,
            "percentage": 5.93,
            "percentageTokens": 6.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/drug-interaction.model.ts": {
            "lines": 162,
            "tokens": 1033,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/drug-catalog.model.ts": {
            "lines": 209,
            "tokens": 1329,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 92,
            "percentage": 8.13,
            "percentageTokens": 6.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/district.model.ts": {
            "lines": 226,
            "tokens": 1507,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 103,
            "percentage": 7.08,
            "percentageTokens": 6.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/device-token.model.ts": {
            "lines": 235,
            "tokens": 1468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/delivery-log.model.ts": {
            "lines": 253,
            "tokens": 1355,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 96,
            "percentage": 7.11,
            "percentageTokens": 7.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/data-retention-policy.model.ts": {
            "lines": 159,
            "tokens": 999,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 90,
            "percentage": 8.81,
            "percentageTokens": 9.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/conversation.model.ts": {
            "lines": 231,
            "tokens": 1320,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 122,
            "percentage": 8.66,
            "percentageTokens": 9.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/conversation-participant.model.ts": {
            "lines": 245,
            "tokens": 1451,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 25,
            "duplicatedTokens": 160,
            "percentage": 10.2,
            "percentageTokens": 11.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/contact.model.ts": {
            "lines": 281,
            "tokens": 1783,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 29,
            "duplicatedTokens": 180,
            "percentage": 10.32,
            "percentageTokens": 10.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/consent-signature.model.ts": {
            "lines": 138,
            "tokens": 878,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 82,
            "percentage": 9.42,
            "percentageTokens": 9.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/consent-form.model.ts": {
            "lines": 141,
            "tokens": 890,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 45,
            "duplicatedTokens": 279,
            "percentage": 31.91,
            "percentageTokens": 31.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/configuration-history.model.ts": {
            "lines": 159,
            "tokens": 916,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/compliance-violation.model.ts": {
            "lines": 203,
            "tokens": 1278,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 29,
            "duplicatedTokens": 176,
            "percentage": 14.29,
            "percentageTokens": 13.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/compliance-report.model.ts": {
            "lines": 194,
            "tokens": 1213,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 93,
            "percentage": 7.73,
            "percentageTokens": 7.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/compliance-checklist-item.model.ts": {
            "lines": 173,
            "tokens": 1102,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 90,
            "percentage": 8.09,
            "percentageTokens": 8.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/clinical-protocol.model.ts": {
            "lines": 278,
            "tokens": 1729,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 180,
            "percentage": 10.07,
            "percentageTokens": 10.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/clinical-note.model.ts": {
            "lines": 369,
            "tokens": 2422,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 63,
            "duplicatedTokens": 409,
            "percentage": 17.07,
            "percentageTokens": 16.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/clinic-visit.model.ts": {
            "lines": 314,
            "tokens": 2148,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 67,
            "duplicatedTokens": 419,
            "percentage": 21.34,
            "percentageTokens": 19.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/chronic-condition.model.ts": {
            "lines": 341,
            "tokens": 2192,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 52,
            "duplicatedTokens": 326,
            "percentage": 15.25,
            "percentageTokens": 14.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/cache-entry.model.ts": {
            "lines": 283,
            "tokens": 1567,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/budget-transaction.model.ts": {
            "lines": 134,
            "tokens": 776,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 122,
            "percentage": 15.67,
            "percentageTokens": 15.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/budget-category.model.ts": {
            "lines": 143,
            "tokens": 879,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/backup-log.model.ts": {
            "lines": 220,
            "tokens": 1280,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 76,
            "percentage": 4.55,
            "percentageTokens": 5.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/audit-log.model.ts": {
            "lines": 359,
            "tokens": 2467,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/appointment.model.ts": {
            "lines": 416,
            "tokens": 2820,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/appointment-waitlist.model.ts": {
            "lines": 193,
            "tokens": 1228,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 94,
            "percentage": 7.77,
            "percentageTokens": 7.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/appointment-reminder.model.ts": {
            "lines": 151,
            "tokens": 958,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 89,
            "percentage": 9.27,
            "percentageTokens": 9.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/analytics-report.model.ts": {
            "lines": 265,
            "tokens": 1706,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 25,
            "duplicatedTokens": 179,
            "percentage": 9.43,
            "percentageTokens": 10.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/allergy.model.ts": {
            "lines": 371,
            "tokens": 2550,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 45,
            "duplicatedTokens": 285,
            "percentage": 12.13,
            "percentageTokens": 11.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/alert.model.ts": {
            "lines": 505,
            "tokens": 3020,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 59,
            "duplicatedTokens": 313,
            "percentage": 11.68,
            "percentageTokens": 10.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/alert-rule.model.ts": {
            "lines": 443,
            "tokens": 2312,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 42,
            "duplicatedTokens": 245,
            "percentage": 9.48,
            "percentageTokens": 10.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/alert-preferences.model.ts": {
            "lines": 274,
            "tokens": 1640,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 33,
            "duplicatedTokens": 192,
            "percentage": 12.04,
            "percentageTokens": 11.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/models/academic-transcript.model.ts": {
            "lines": 326,
            "tokens": 1683,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 203,
            "percentage": 9.51,
            "percentageTokens": 12.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/types.ts": {
            "lines": 176,
            "tokens": 941,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 111,
            "percentage": 10.23,
            "percentageTokens": 11.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/migration-utilities.service.ts": {
            "lines": 336,
            "tokens": 1956,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 99,
            "duplicatedTokens": 596,
            "percentage": 29.46,
            "percentageTokens": 30.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/migration-builders.ts": {
            "lines": 237,
            "tokens": 1556,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 181,
            "duplicatedTokens": 1213,
            "percentage": 76.37,
            "percentageTokens": 77.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/index.ts": {
            "lines": 84,
            "tokens": 274,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/index-management.ts": {
            "lines": 207,
            "tokens": 1527,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 49,
            "duplicatedTokens": 359,
            "percentage": 23.67,
            "percentageTokens": 23.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/column-management.ts": {
            "lines": 247,
            "tokens": 1754,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 241,
            "duplicatedTokens": 1813,
            "percentage": 97.57,
            "percentageTokens": 103.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/config/database.config.d.ts": {
            "lines": 17,
            "tokens": 35,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/types/dashboard-models.interface.ts": {
            "lines": 98,
            "tokens": 421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/upcoming-appointment.dto.ts": {
            "lines": 49,
            "tokens": 302,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/trend-data.dto.ts": {
            "lines": 28,
            "tokens": 185,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/recent-activity.dto.ts": {
            "lines": 43,
            "tokens": 306,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/index.ts": {
            "lines": 13,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/get-upcoming-appointments.dto.ts": {
            "lines": 21,
            "tokens": 154,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 84,
            "percentage": 57.14,
            "percentageTokens": 54.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/get-stats-by-scope.dto.ts": {
            "lines": 24,
            "tokens": 143,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/get-recent-activities.dto.ts": {
            "lines": 21,
            "tokens": 154,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 84,
            "percentage": 57.14,
            "percentageTokens": 54.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/get-chart-data.dto.ts": {
            "lines": 16,
            "tokens": 127,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/dashboard-stats.dto.ts": {
            "lines": 85,
            "tokens": 503,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dto/chart-data.dto.ts": {
            "lines": 71,
            "tokens": 473,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/services/emergency-contact.service.ts": {
            "lines": 381,
            "tokens": 2592,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 207,
            "percentage": 5.77,
            "percentageTokens": 7.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/services/contact.service.ts": {
            "lines": 370,
            "tokens": 2968,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/enums/verification-status.enum.ts": {
            "lines": 9,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/enums/relationship-type.enum.ts": {
            "lines": 18,
            "tokens": 70,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/enums/preferred-contact-method.enum.ts": {
            "lines": 8,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/enums/notification-channel.enum.ts": {
            "lines": 8,
            "tokens": 44,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/enums/index.ts": {
            "lines": 10,
            "tokens": 108,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/enums/contact-type.enum.ts": {
            "lines": 10,
            "tokens": 52,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/enums/contact-priority.enum.ts": {
            "lines": 8,
            "tokens": 34,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/dto/verify-contact.dto.ts": {
            "lines": 25,
            "tokens": 164,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/dto/update-emergency-contact.dto.ts": {
            "lines": 9,
            "tokens": 62,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/dto/update-contact.dto.ts": {
            "lines": 16,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/dto/index.ts": {
            "lines": 9,
            "tokens": 91,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/dto/emergency-contact-query.dto.ts": {
            "lines": 65,
            "tokens": 434,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 130,
            "percentage": 29.23,
            "percentageTokens": 29.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/dto/create-emergency-contact.dto.ts": {
            "lines": 167,
            "tokens": 976,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/dto/create-contact.dto.ts": {
            "lines": 149,
            "tokens": 992,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/dto/contact-query.dto.ts": {
            "lines": 81,
            "tokens": 588,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 130,
            "percentage": 23.46,
            "percentageTokens": 22.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/services/configuration.service.ts": {
            "lines": 307,
            "tokens": 2045,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/services/config-validation.service.ts": {
            "lines": 260,
            "tokens": 1685,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/services/config-statistics.service.ts": {
            "lines": 358,
            "tokens": 2321,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/services/config-import-export.service.ts": {
            "lines": 306,
            "tokens": 2286,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/services/config-history.service.ts": {
            "lines": 254,
            "tokens": 1631,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 52,
            "duplicatedTokens": 336,
            "percentage": 20.47,
            "percentageTokens": 20.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/services/config-crud.service.ts": {
            "lines": 242,
            "tokens": 1756,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/dto/update-configuration.dto.ts": {
            "lines": 34,
            "tokens": 238,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/dto/import-configurations.dto.ts": {
            "lines": 22,
            "tokens": 146,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/dto/filter-configuration.dto.ts": {
            "lines": 50,
            "tokens": 456,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/dto/create-configuration.dto.ts": {
            "lines": 113,
            "tokens": 780,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/dto/bulk-update.dto.ts": {
            "lines": 43,
            "tokens": 293,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/types.ts": {
            "lines": 283,
            "tokens": 1591,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/swagger-security-schemes.service.ts": {
            "lines": 162,
            "tokens": 969,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger/index.ts": {
            "lines": 31,
            "tokens": 90,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/utils/index.ts": {
            "lines": 260,
            "tokens": 1438,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/services/violation.service.ts": {
            "lines": 91,
            "tokens": 780,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/services/statistics.service.ts": {
            "lines": 120,
            "tokens": 1220,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 262,
            "percentage": 25,
            "percentageTokens": 21.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/services/policy.service.ts": {
            "lines": 76,
            "tokens": 651,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/services/index.ts": {
            "lines": 12,
            "tokens": 73,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/services/data-retention.service.ts": {
            "lines": 48,
            "tokens": 391,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/services/consent.service.ts": {
            "lines": 288,
            "tokens": 2103,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/services/compliance-report.service.ts": {
            "lines": 120,
            "tokens": 968,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/services/checklist.service.ts": {
            "lines": 61,
            "tokens": 529,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/repositories/violation.repository.ts": {
            "lines": 93,
            "tokens": 765,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/repositories/policy.repository.ts": {
            "lines": 68,
            "tokens": 586,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 87,
            "percentage": 14.71,
            "percentageTokens": 14.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/repositories/data-retention.repository.ts": {
            "lines": 50,
            "tokens": 430,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 87,
            "percentage": 20,
            "percentageTokens": 20.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/repositories/compliance-report.repository.ts": {
            "lines": 62,
            "tokens": 594,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/repositories/checklist.repository.ts": {
            "lines": 64,
            "tokens": 539,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/enums/index.ts": {
            "lines": 121,
            "tokens": 752,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 36,
            "duplicatedTokens": 249,
            "percentage": 29.75,
            "percentageTokens": 33.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/entities/remediation-action.entity.ts": {
            "lines": 10,
            "tokens": 26,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/entities/policy-document.entity.ts": {
            "lines": 10,
            "tokens": 26,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/entities/index.ts": {
            "lines": 11,
            "tokens": 106,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/entities/data-retention-policy.entity.ts": {
            "lines": 10,
            "tokens": 26,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/entities/compliance-violation.entity.ts": {
            "lines": 11,
            "tokens": 30,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/entities/compliance-report.entity.ts": {
            "lines": 10,
            "tokens": 26,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/entities/compliance-checklist-item.entity.ts": {
            "lines": 10,
            "tokens": 26,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/violation.dto.ts": {
            "lines": 146,
            "tokens": 1073,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/statistics.dto.ts": {
            "lines": 23,
            "tokens": 158,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/sign-consent-form.dto.ts": {
            "lines": 72,
            "tokens": 404,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/policy.dto.ts": {
            "lines": 80,
            "tokens": 560,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/index.ts": {
            "lines": 13,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/data-retention.dto.ts": {
            "lines": 67,
            "tokens": 479,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/create-phi-disclosure.dto.ts": {
            "lines": 191,
            "tokens": 1116,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/create-audit-log.dto.ts": {
            "lines": 65,
            "tokens": 397,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/compliance-report.dto.ts": {
            "lines": 125,
            "tokens": 827,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/dto/checklist.dto.ts": {
            "lines": 91,
            "tokens": 638,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/types/message-response.types.ts": {
            "lines": 88,
            "tokens": 342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/types/index.ts": {
            "lines": 103,
            "tokens": 554,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/types/conversation.types.ts": {
            "lines": 72,
            "tokens": 328,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/template.service.ts": {
            "lines": 80,
            "tokens": 749,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/message.service.ts": {
            "lines": 215,
            "tokens": 1943,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 96,
            "percentage": 4.65,
            "percentageTokens": 4.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/message-sender.service.ts": {
            "lines": 303,
            "tokens": 2238,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 91,
            "percentage": 5.94,
            "percentageTokens": 4.07,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/message-query.service.ts": {
            "lines": 347,
            "tokens": 2774,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 70,
            "duplicatedTokens": 577,
            "percentage": 20.17,
            "percentageTokens": 20.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/message-management.service.ts": {
            "lines": 99,
            "tokens": 683,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/index.ts": {
            "lines": 11,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/enhanced-message.service.ts": {
            "lines": 106,
            "tokens": 764,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/conversation.service.ts": {
            "lines": 669,
            "tokens": 4222,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/communication.service.ts": {
            "lines": 39,
            "tokens": 397,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/channel.service.ts": {
            "lines": 22,
            "tokens": 190,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/services/broadcast.service.ts": {
            "lines": 72,
            "tokens": 560,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/interfaces/index.ts": {
            "lines": 42,
            "tokens": 299,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/helpers/queue-integration.helper.ts": {
            "lines": 518,
            "tokens": 3247,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/gateways/communication.gateway.ts": {
            "lines": 82,
            "tokens": 570,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/enums/message-category.enum.ts": {
            "lines": 11,
            "tokens": 88,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/update-conversation.dto.ts": {
            "lines": 54,
            "tokens": 318,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/send-message.dto.ts": {
            "lines": 195,
            "tokens": 1226,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 115,
            "percentage": 9.74,
            "percentageTokens": 9.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/send-group-message.dto.ts": {
            "lines": 27,
            "tokens": 178,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/send-direct-message.dto.ts": {
            "lines": 17,
            "tokens": 91,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/search-messages.dto.ts": {
            "lines": 112,
            "tokens": 631,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 58,
            "duplicatedTokens": 374,
            "percentage": 51.79,
            "percentageTokens": 59.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/recipient.dto.ts": {
            "lines": 27,
            "tokens": 173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/message-pagination.dto.ts": {
            "lines": 90,
            "tokens": 524,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 46,
            "duplicatedTokens": 290,
            "percentage": 51.11,
            "percentageTokens": 55.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/mark-as-read.dto.ts": {
            "lines": 45,
            "tokens": 228,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/index.ts": {
            "lines": 18,
            "tokens": 161,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/emergency-alert.dto.ts": {
            "lines": 28,
            "tokens": 234,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/edit-message.dto.ts": {
            "lines": 40,
            "tokens": 255,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/create-template.dto.ts": {
            "lines": 136,
            "tokens": 872,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/create-message.dto.ts": {
            "lines": 52,
            "tokens": 388,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 110,
            "percentage": 38.46,
            "percentageTokens": 28.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/create-message-template.dto.ts": {
            "lines": 36,
            "tokens": 244,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/create-conversation.dto.ts": {
            "lines": 110,
            "tokens": 611,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/create-broadcast.dto.ts": {
            "lines": 134,
            "tokens": 878,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/conversation-participant.dto.ts": {
            "lines": 85,
            "tokens": 461,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/broadcast-message.dto.ts": {
            "lines": 74,
            "tokens": 467,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 110,
            "percentage": 27.03,
            "percentageTokens": 23.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/dto/base-send-message.dto.ts": {
            "lines": 54,
            "tokens": 348,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/controllers/template.controller.ts": {
            "lines": 149,
            "tokens": 1286,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/controllers/message.controller.ts": {
            "lines": 303,
            "tokens": 2528,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/controllers/index.ts": {
            "lines": 9,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/controllers/enhanced-message.controller.ts": {
            "lines": 673,
            "tokens": 5171,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/controllers/communication.controller.ts": {
            "lines": 568,
            "tokens": 4901,
            "sources": 1,
            "clones": 13,
            "duplicatedLines": 209,
            "duplicatedTokens": 1451,
            "percentage": 36.8,
            "percentageTokens": 29.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/controllers/broadcast.controller.ts": {
            "lines": 231,
            "tokens": 2044,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/__tests__/websocket.gateway.integration.spec.ts": {
            "lines": 518,
            "tokens": 4027,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 60,
            "duplicatedTokens": 474,
            "percentage": 11.58,
            "percentageTokens": 11.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/__tests__/message.service.integration.spec.ts": {
            "lines": 516,
            "tokens": 4523,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 46,
            "duplicatedTokens": 312,
            "percentage": 8.91,
            "percentageTokens": 6.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/__tests__/message.controller.integration.spec.ts": {
            "lines": 560,
            "tokens": 4450,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 74,
            "duplicatedTokens": 684,
            "percentage": 13.21,
            "percentageTokens": 15.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/__tests__/encryption-integration.spec.ts": {
            "lines": 685,
            "tokens": 5335,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/validators/index.ts": {
            "lines": 17,
            "tokens": 96,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/ip-extraction.util.ts": {
            "lines": 231,
            "tokens": 1382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/types/utility-types.ts": {
            "lines": 790,
            "tokens": 2309,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 231,
            "duplicatedTokens": 393,
            "percentage": 29.24,
            "percentageTokens": 17.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/types/pagination.types.ts": {
            "lines": 74,
            "tokens": 73,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/types/functional.types.ts": {
            "lines": 138,
            "tokens": 286,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 149,
            "duplicatedTokens": 287,
            "percentage": 107.97,
            "percentageTokens": 100.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/types/api-response.types.ts": {
            "lines": 91,
            "tokens": 109,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 82,
            "duplicatedTokens": 106,
            "percentage": 90.11,
            "percentageTokens": 97.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/pipes/trim.pipe.ts": {
            "lines": 83,
            "tokens": 341,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/pipes/sanitize.pipe.ts": {
            "lines": 142,
            "tokens": 645,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/pipes/parse-date.pipe.ts": {
            "lines": 129,
            "tokens": 672,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/pipes/index.ts": {
            "lines": 10,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/pipes/default-value.pipe.ts": {
            "lines": 53,
            "tokens": 169,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/performance/index.ts": {
            "lines": 15,
            "tokens": 63,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/monitoring/monitoring.service.ts": {
            "lines": 320,
            "tokens": 2036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/monitoring/metrics.provider.ts": {
            "lines": 240,
            "tokens": 2138,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 90,
            "duplicatedTokens": 978,
            "percentage": 37.5,
            "percentageTokens": 45.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/middleware/request-context.middleware.ts": {
            "lines": 152,
            "tokens": 712,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interfaces/api-response.interface.ts": {
            "lines": 135,
            "tokens": 382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/transform.interceptor.ts": {
            "lines": 137,
            "tokens": 763,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/timeout.interceptor.ts": {
            "lines": 56,
            "tokens": 357,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/sanitization.interceptor.ts": {
            "lines": 90,
            "tokens": 549,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/response-transform.interceptor.ts": {
            "lines": 100,
            "tokens": 483,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/logging.interceptor.ts": {
            "lines": 234,
            "tokens": 1709,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/index.ts": {
            "lines": 12,
            "tokens": 65,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/error-mapping.interceptor.ts": {
            "lines": 236,
            "tokens": 1349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/user.exceptions.ts": {
            "lines": 240,
            "tokens": 620,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/student.exceptions.ts": {
            "lines": 322,
            "tokens": 782,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/index.ts": {
            "lines": 30,
            "tokens": 117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/enhanced-error-handling.service.backup.ts": {
            "lines": 700,
            "tokens": 5121,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 89,
            "percentage": 1.57,
            "percentageTokens": 1.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/errors/production-error-handler.ts": {
            "lines": 727,
            "tokens": 5432,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 89,
            "percentage": 1.51,
            "percentageTokens": 1.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/encryption/data-encryption-security.service.ts": {
            "lines": 81,
            "tokens": 1940,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/index.ts": {
            "lines": 29,
            "tokens": 141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cqrs/query-bus.ts": {
            "lines": 233,
            "tokens": 1689,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cqrs/interfaces.ts": {
            "lines": 68,
            "tokens": 496,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cqrs/index.ts": {
            "lines": 13,
            "tokens": 55,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cqrs/cqrs.module.ts": {
            "lines": 95,
            "tokens": 530,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cqrs/command-bus.ts": {
            "lines": 112,
            "tokens": 751,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/context/request-context.service.ts": {
            "lines": 247,
            "tokens": 1560,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/context/index.ts": {
            "lines": 10,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/context/context.module.ts": {
            "lines": 47,
            "tokens": 230,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/context/context.interceptor.ts": {
            "lines": 159,
            "tokens": 1117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/context/context.decorators.ts": {
            "lines": 192,
            "tokens": 1356,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cache/index.ts": {
            "lines": 15,
            "tokens": 59,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cache/healthcare-cache.service.ts": {
            "lines": 909,
            "tokens": 8051,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 240,
            "percentage": 2.86,
            "percentageTokens": 2.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/base/base.service.ts": {
            "lines": 109,
            "tokens": 865,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/base/base.repository.ts": {
            "lines": 138,
            "tokens": 1220,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/types/drug-interaction.types.ts": {
            "lines": 129,
            "tokens": 835,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/vital-signs.service.ts": {
            "lines": 102,
            "tokens": 1005,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/treatment-plan.service.ts": {
            "lines": 178,
            "tokens": 1237,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/prescription.service.ts": {
            "lines": 258,
            "tokens": 1870,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/interaction-checker.service.ts": {
            "lines": 284,
            "tokens": 2225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/index.ts": {
            "lines": 12,
            "tokens": 105,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/follow-up.service.ts": {
            "lines": 157,
            "tokens": 1508,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/drug-interaction.service.ts": {
            "lines": 270,
            "tokens": 1744,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/drug-catalog.service.ts": {
            "lines": 196,
            "tokens": 1397,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/clinical-protocol.service.ts": {
            "lines": 99,
            "tokens": 1046,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/clinical-note.service.ts": {
            "lines": 88,
            "tokens": 944,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/clinic-visit-basic.service.ts": {
            "lines": 192,
            "tokens": 1410,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/clinic-visit-analytics.service.ts": {
            "lines": 300,
            "tokens": 2604,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 52,
            "duplicatedTokens": 454,
            "percentage": 17.33,
            "percentageTokens": 17.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/services/allergy-management.service.ts": {
            "lines": 271,
            "tokens": 2133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/interfaces/visit-statistics.interface.ts": {
            "lines": 36,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/interfaces/student-visit-summary.interface.ts": {
            "lines": 25,
            "tokens": 88,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/interfaces/interaction-result.interface.ts": {
            "lines": 58,
            "tokens": 291,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/interfaces/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/enums/visit-disposition.enum.ts": {
            "lines": 16,
            "tokens": 57,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/enums/treatment-status.enum.ts": {
            "lines": 19,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/enums/protocol-status.enum.ts": {
            "lines": 19,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/enums/prescription-status.enum.ts": {
            "lines": 25,
            "tokens": 93,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/enums/note-type.enum.ts": {
            "lines": 31,
            "tokens": 117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/enums/interaction-severity.enum.ts": {
            "lines": 19,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/enums/index.ts": {
            "lines": 11,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/enums/follow-up-status.enum.ts": {
            "lines": 25,
            "tokens": 93,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/entities/vital-signs.entity.ts": {
            "lines": 12,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/entities/treatment-plan.entity.ts": {
            "lines": 11,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/entities/prescription.entity.ts": {
            "lines": 11,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/entities/index.ts": {
            "lines": 14,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/entities/follow-up-appointment.entity.ts": {
            "lines": 11,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/entities/clinical-protocol.entity.ts": {
            "lines": 12,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/entities/clinical-note.entity.ts": {
            "lines": 12,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/dto/index.ts": {
            "lines": 13,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/vital-signs.controller.ts": {
            "lines": 189,
            "tokens": 1592,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 140,
            "percentage": 12.17,
            "percentageTokens": 8.79,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/treatment-plan.controller.ts": {
            "lines": 125,
            "tokens": 1284,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/prescription.controller.ts": {
            "lines": 136,
            "tokens": 1288,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/prescription-alias.controller.ts": {
            "lines": 99,
            "tokens": 294,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/medication-administration-special.controller.ts": {
            "lines": 98,
            "tokens": 636,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/medication-administration-scheduling.controller.ts": {
            "lines": 180,
            "tokens": 1104,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 99,
            "percentage": 8.89,
            "percentageTokens": 8.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/medication-administration-safety.controller.ts": {
            "lines": 51,
            "tokens": 345,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/medication-administration-reporting.controller.ts": {
            "lines": 123,
            "tokens": 812,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 195,
            "percentage": 25.2,
            "percentageTokens": 24.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/medication-administration-core.controller.ts": {
            "lines": 145,
            "tokens": 965,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/index.ts": {
            "lines": 14,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/follow-up.controller.ts": {
            "lines": 77,
            "tokens": 787,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/drug-safety.controller.ts": {
            "lines": 83,
            "tokens": 478,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/drug-interaction-management.controller.ts": {
            "lines": 101,
            "tokens": 804,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/drug-catalog.controller.ts": {
            "lines": 125,
            "tokens": 1024,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/drug-allergy.controller.ts": {
            "lines": 66,
            "tokens": 603,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/clinical-protocol-query.controller.ts": {
            "lines": 90,
            "tokens": 637,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/clinical-protocol-management.controller.ts": {
            "lines": 77,
            "tokens": 646,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/clinical-note.controller.ts": {
            "lines": 188,
            "tokens": 1678,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 140,
            "percentage": 12.23,
            "percentageTokens": 8.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/controllers/clinic-visit.controller.ts": {
            "lines": 285,
            "tokens": 2091,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/interfaces/chronic-condition-statistics.interface.ts": {
            "lines": 23,
            "tokens": 81,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/interfaces/chronic-condition-search-result.interface.ts": {
            "lines": 17,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/enums/condition-status.enum.ts": {
            "lines": 14,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/enums/accommodation-type.enum.ts": {
            "lines": 11,
            "tokens": 34,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/entities/chronic-condition.entity.ts": {
            "lines": 12,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/dto/update-chronic-condition.dto.ts": {
            "lines": 18,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/dto/update-care-plan.dto.ts": {
            "lines": 16,
            "tokens": 92,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/dto/pagination.dto.ts": {
            "lines": 33,
            "tokens": 236,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 84,
            "percentage": 36.36,
            "percentageTokens": 35.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/dto/create-chronic-condition.dto.ts": {
            "lines": 221,
            "tokens": 1314,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/dto/chronic-condition-filters.dto.ts": {
            "lines": 68,
            "tokens": 387,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/dto/update-budget-transaction.dto.ts": {
            "lines": 9,
            "tokens": 47,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/dto/update-budget-category.dto.ts": {
            "lines": 20,
            "tokens": 128,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/dto/spending-trend.dto.ts": {
            "lines": 25,
            "tokens": 133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/dto/index.ts": {
            "lines": 12,
            "tokens": 73,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/dto/create-budget-transaction.dto.ts": {
            "lines": 62,
            "tokens": 374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/dto/create-budget-category.dto.ts": {
            "lines": 45,
            "tokens": 274,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/dto/budget-transaction-filters.dto.ts": {
            "lines": 58,
            "tokens": 381,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/dto/budget-summary.dto.ts": {
            "lines": 47,
            "tokens": 247,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/dto/budget-recommendation.dto.ts": {
            "lines": 58,
            "tokens": 294,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/types/auth.types.ts": {
            "lines": 115,
            "tokens": 749,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 187,
            "percentage": 20.87,
            "percentageTokens": 24.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/strategies/microsoft.strategy.ts": {
            "lines": 76,
            "tokens": 559,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/strategies/jwt.strategy.ts": {
            "lines": 78,
            "tokens": 548,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/strategies/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/strategies/google.strategy.ts": {
            "lines": 75,
            "tokens": 547,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/services/token-blacklist.service.ts": {
            "lines": 246,
            "tokens": 1617,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/services/password-reset.service.ts": {
            "lines": 219,
            "tokens": 1493,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 122,
            "percentage": 6.85,
            "percentageTokens": 8.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/services/oauth.service.ts": {
            "lines": 247,
            "tokens": 1823,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 40,
            "duplicatedTokens": 299,
            "percentage": 16.19,
            "percentageTokens": 16.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/services/mfa.service.ts": {
            "lines": 335,
            "tokens": 2450,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 246,
            "percentage": 10.15,
            "percentageTokens": 10.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/services/index.ts": {
            "lines": 9,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/services/email-verification.service.ts": {
            "lines": 220,
            "tokens": 1528,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/guards/roles.guard.ts": {
            "lines": 36,
            "tokens": 312,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/guards/jwt-auth.guard.ts": {
            "lines": 96,
            "tokens": 810,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 117,
            "percentage": 14.58,
            "percentageTokens": 14.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/register.dto.ts": {
            "lines": 65,
            "tokens": 471,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 23,
            "duplicatedTokens": 176,
            "percentage": 35.38,
            "percentageTokens": 37.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/refresh-token.dto.ts": {
            "lines": 11,
            "tokens": 92,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/password-reset.dto.ts": {
            "lines": 71,
            "tokens": 375,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/oauth.dto.ts": {
            "lines": 63,
            "tokens": 343,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/mfa.dto.ts": {
            "lines": 151,
            "tokens": 809,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/login.dto.ts": {
            "lines": 22,
            "tokens": 196,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 93,
            "percentage": 54.55,
            "percentageTokens": 47.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/index.ts": {
            "lines": 8,
            "tokens": 79,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/email-verification.dto.ts": {
            "lines": 51,
            "tokens": 270,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/change-password.dto.ts": {
            "lines": 29,
            "tokens": 230,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/dto/auth-response.dto.ts": {
            "lines": 40,
            "tokens": 239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/decorators/user-agent.decorator.ts": {
            "lines": 15,
            "tokens": 89,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/decorators/tenant-id.decorator.ts": {
            "lines": 15,
            "tokens": 93,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/decorators/ip-address.decorator.ts": {
            "lines": 21,
            "tokens": 113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/decorators/index.ts": {
            "lines": 13,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/decorators/current-user.decorator.ts": {
            "lines": 13,
            "tokens": 125,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/decorators/auth-token.decorator.ts": {
            "lines": 22,
            "tokens": 127,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/__tests__/auth.service.spec.ts": {
            "lines": 636,
            "tokens": 5407,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 160,
            "percentage": 3.14,
            "percentageTokens": 2.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/types/audit.types.ts": {
            "lines": 250,
            "tokens": 1107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/services/security-analysis.service.ts": {
            "lines": 110,
            "tokens": 870,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/services/phi-access.service.ts": {
            "lines": 169,
            "tokens": 1148,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 49,
            "duplicatedTokens": 340,
            "percentage": 28.99,
            "percentageTokens": 29.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/services/compliance-reporting.service.ts": {
            "lines": 124,
            "tokens": 1091,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 198,
            "percentage": 19.35,
            "percentageTokens": 18.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/services/audit-utils.service.ts": {
            "lines": 177,
            "tokens": 1131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/services/audit-statistics.service.ts": {
            "lines": 138,
            "tokens": 1041,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/services/audit-query.service.ts": {
            "lines": 220,
            "tokens": 1494,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 81,
            "duplicatedTokens": 546,
            "percentage": 36.82,
            "percentageTokens": 36.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/services/audit-log.service.ts": {
            "lines": 94,
            "tokens": 658,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/interfaces/phi-access-log.interface.ts": {
            "lines": 12,
            "tokens": 75,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/interfaces/paginated-result.interface.ts": {
            "lines": 11,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/interfaces/audit-log-entry.interface.ts": {
            "lines": 15,
            "tokens": 104,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/interceptors/audit.interceptor.ts": {
            "lines": 103,
            "tokens": 876,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/enums/phi-data-category.enum.ts": {
            "lines": 15,
            "tokens": 90,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/enums/phi-access-type.enum.ts": {
            "lines": 9,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/enums/audit-action.enum.ts": {
            "lines": 47,
            "tokens": 257,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/entities/audit-log.entity.ts": {
            "lines": 17,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/dto/phi-access-filter.dto.ts": {
            "lines": 31,
            "tokens": 212,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/dto/paginated-audit-logs.dto.ts": {
            "lines": 26,
            "tokens": 160,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/dto/date-range.dto.ts": {
            "lines": 14,
            "tokens": 92,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/dto/create-phi-access-log.dto.ts": {
            "lines": 25,
            "tokens": 184,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/dto/create-audit-log.dto.ts": {
            "lines": 53,
            "tokens": 388,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/dto/audit-log-search.dto.ts": {
            "lines": 31,
            "tokens": 251,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 21,
            "duplicatedTokens": 176,
            "percentage": 67.74,
            "percentageTokens": 70.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/dto/audit-log-filter.dto.ts": {
            "lines": 53,
            "tokens": 421,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 93,
            "percentage": 20.75,
            "percentageTokens": 22.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/validators/status-transitions.ts": {
            "lines": 81,
            "tokens": 478,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/validators/appointment-validation.ts": {
            "lines": 218,
            "tokens": 1410,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/services/waitlist.service.ts": {
            "lines": 246,
            "tokens": 1802,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/services/reminder.service.ts": {
            "lines": 160,
            "tokens": 1183,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/services/appointment-write.service.ts": {
            "lines": 415,
            "tokens": 3083,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 33,
            "duplicatedTokens": 289,
            "percentage": 7.95,
            "percentageTokens": 9.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/services/appointment-status.service.ts": {
            "lines": 253,
            "tokens": 1754,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 25,
            "duplicatedTokens": 228,
            "percentage": 9.88,
            "percentageTokens": 13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/services/appointment-statistics.service.ts": {
            "lines": 427,
            "tokens": 3252,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 92,
            "duplicatedTokens": 783,
            "percentage": 21.55,
            "percentageTokens": 24.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/services/appointment-scheduling.service.ts": {
            "lines": 305,
            "tokens": 2024,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 47,
            "duplicatedTokens": 367,
            "percentage": 15.41,
            "percentageTokens": 18.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/services/appointment-recurring.service.ts": {
            "lines": 232,
            "tokens": 1722,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/services/appointment-read.service.ts": {
            "lines": 196,
            "tokens": 1450,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 37,
            "duplicatedTokens": 297,
            "percentage": 18.88,
            "percentageTokens": 20.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/services/appointment-query.service.ts": {
            "lines": 224,
            "tokens": 1725,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 60,
            "duplicatedTokens": 450,
            "percentage": 26.79,
            "percentageTokens": 26.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/events/appointment.events.ts": {
            "lines": 442,
            "tokens": 2308,
            "sources": 1,
            "clones": 13,
            "duplicatedLines": 144,
            "duplicatedTokens": 1193,
            "percentage": 32.58,
            "percentageTokens": 51.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/entities/appointment.entity.ts": {
            "lines": 161,
            "tokens": 600,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/dto/waitlist.dto.ts": {
            "lines": 225,
            "tokens": 1284,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 113,
            "percentage": 8.44,
            "percentageTokens": 8.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/dto/update-appointment.dto.ts": {
            "lines": 31,
            "tokens": 180,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/dto/statistics.dto.ts": {
            "lines": 191,
            "tokens": 1143,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 33,
            "duplicatedTokens": 197,
            "percentage": 17.28,
            "percentageTokens": 17.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/dto/reminder.dto.ts": {
            "lines": 106,
            "tokens": 608,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/dto/recurring.dto.ts": {
            "lines": 154,
            "tokens": 936,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/dto/create-appointment.dto.ts": {
            "lines": 89,
            "tokens": 555,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/dto/appointment-filters.dto.ts": {
            "lines": 93,
            "tokens": 619,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 84,
            "percentage": 15.05,
            "percentageTokens": 13.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/controllers/waitlist.controller.ts": {
            "lines": 166,
            "tokens": 1279,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/controllers/reminder.controller.ts": {
            "lines": 79,
            "tokens": 649,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/controllers/appointment-status.controller.ts": {
            "lines": 109,
            "tokens": 846,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/controllers/appointment-statistics.controller.ts": {
            "lines": 213,
            "tokens": 1302,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/controllers/appointment-query.controller.ts": {
            "lines": 148,
            "tokens": 999,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/controllers/appointment-core.controller.ts": {
            "lines": 165,
            "tokens": 1118,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/controllers/appointment-advanced.controller.ts": {
            "lines": 202,
            "tokens": 1354,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/__tests__/event-driven-integration.spec.ts": {
            "lines": 407,
            "tokens": 2719,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 50,
            "duplicatedTokens": 356,
            "percentage": 12.29,
            "percentageTokens": 13.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/guards/api-key.guard.ts": {
            "lines": 252,
            "tokens": 1650,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/entities/api-key.entity.ts": {
            "lines": 136,
            "tokens": 859,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/dto/create-api-key.dto.ts": {
            "lines": 61,
            "tokens": 406,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/dto/api-key-response.dto.ts": {
            "lines": 44,
            "tokens": 255,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/__tests__/api-key-auth.service.spec.ts": {
            "lines": 416,
            "tokens": 3444,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/types/analytics-report.types.ts": {
            "lines": 141,
            "tokens": 925,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/trend-calculation.service.ts": {
            "lines": 116,
            "tokens": 1095,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/report-formatter.service.ts": {
            "lines": 213,
            "tokens": 1771,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/report-data-collector.service.ts": {
            "lines": 384,
            "tokens": 2592,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 152,
            "percentage": 5.47,
            "percentageTokens": 5.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/predictive-insights.service.ts": {
            "lines": 190,
            "tokens": 1388,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/index.ts": {
            "lines": 23,
            "tokens": 135,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/incident-analytics.service.ts": {
            "lines": 227,
            "tokens": 1999,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/health-trend-analytics.service.ts": {
            "lines": 370,
            "tokens": 2756,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/health-metrics-analyzer.service.ts": {
            "lines": 521,
            "tokens": 3946,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/health-insights.service.ts": {
            "lines": 266,
            "tokens": 2247,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/date-range.service.ts": {
            "lines": 116,
            "tokens": 914,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/condition-analytics.service.ts": {
            "lines": 168,
            "tokens": 1220,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/compliance-report-persistence.service.ts": {
            "lines": 249,
            "tokens": 1907,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/compliance-report-generator.service.ts": {
            "lines": 438,
            "tokens": 2940,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/compliance-report-exporter.service.ts": {
            "lines": 339,
            "tokens": 2736,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/compliance-report-builder.service.ts": {
            "lines": 410,
            "tokens": 2819,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/compliance-metrics-calculator.service.ts": {
            "lines": 208,
            "tokens": 1584,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/compliance-data-collector.service.ts": {
            "lines": 257,
            "tokens": 1548,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 60,
            "duplicatedTokens": 396,
            "percentage": 23.35,
            "percentageTokens": 25.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/analytics-student.service.ts": {
            "lines": 211,
            "tokens": 1332,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 64,
            "duplicatedTokens": 472,
            "percentage": 30.33,
            "percentageTokens": 35.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/analytics-report.service.ts": {
            "lines": 191,
            "tokens": 1291,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/analytics-medication-orchestrator.service.ts": {
            "lines": 154,
            "tokens": 1010,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/analytics-incident-orchestrator.service.ts": {
            "lines": 107,
            "tokens": 666,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/analytics-health.service.ts": {
            "lines": 293,
            "tokens": 2547,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 64,
            "duplicatedTokens": 472,
            "percentage": 21.84,
            "percentageTokens": 18.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/analytics-dashboard.service.ts": {
            "lines": 378,
            "tokens": 2773,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/services/analytics-appointment-orchestrator.service.ts": {
            "lines": 189,
            "tokens": 1415,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/interfaces/health-analytics.interfaces.ts": {
            "lines": 161,
            "tokens": 934,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/interfaces/compliance-report.interfaces.ts": {
            "lines": 102,
            "tokens": 663,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 101,
            "percentage": 12.75,
            "percentageTokens": 15.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/enums/trend-direction.enum.ts": {
            "lines": 8,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/enums/time-period.enum.ts": {
            "lines": 11,
            "tokens": 66,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/enums/report-type.enum.ts": {
            "lines": 16,
            "tokens": 106,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/enums/report-status.enum.ts": {
            "lines": 9,
            "tokens": 50,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/enums/report-format.enum.ts": {
            "lines": 9,
            "tokens": 50,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/enums/compliance-status.enum.ts": {
            "lines": 8,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/dto/report-generation.dto.ts": {
            "lines": 135,
            "tokens": 904,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/dto/medication-analytics.dto.ts": {
            "lines": 91,
            "tokens": 649,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/dto/incident-analytics.dto.ts": {
            "lines": 75,
            "tokens": 540,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/dto/health-metrics.dto.ts": {
            "lines": 179,
            "tokens": 1169,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 162,
            "percentage": 12.29,
            "percentageTokens": 13.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/dto/dashboard.dto.ts": {
            "lines": 121,
            "tokens": 793,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/dto/custom-reports.dto.ts": {
            "lines": 108,
            "tokens": 693,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/dto/appointment-analytics.dto.ts": {
            "lines": 85,
            "tokens": 592,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/dto/analytics-query.dto.ts": {
            "lines": 162,
            "tokens": 970,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 174,
            "percentage": 20.99,
            "percentageTokens": 17.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/services/allergy-safety.service.ts": {
            "lines": 222,
            "tokens": 1406,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/services/allergy-query.service.ts": {
            "lines": 292,
            "tokens": 2027,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/services/allergy-crud.service.ts": {
            "lines": 226,
            "tokens": 1444,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/models/allergy.model.ts": {
            "lines": 20,
            "tokens": 32,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/entities/allergy.entity.ts": {
            "lines": 16,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/dto/verify-allergy.dto.ts": {
            "lines": 12,
            "tokens": 49,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/dto/update-allergy.dto.ts": {
            "lines": 31,
            "tokens": 152,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/dto/pagination.dto.ts": {
            "lines": 25,
            "tokens": 146,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/dto/index.ts": {
            "lines": 9,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/dto/create-allergy.dto.ts": {
            "lines": 145,
            "tokens": 708,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/dto/allergy-filters.dto.ts": {
            "lines": 54,
            "tokens": 244,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/services/alert-statistics.service.ts": {
            "lines": 313,
            "tokens": 2538,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 108,
            "duplicatedTokens": 836,
            "percentage": 34.5,
            "percentageTokens": 32.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/services/alert-retry.service.ts": {
            "lines": 203,
            "tokens": 1495,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/services/alert-preferences.service.ts": {
            "lines": 172,
            "tokens": 1170,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/services/alert-delivery.service.ts": {
            "lines": 292,
            "tokens": 2161,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/exceptions/alert.exceptions.ts": {
            "lines": 39,
            "tokens": 186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/dto/update-preferences.dto.ts": {
            "lines": 50,
            "tokens": 288,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/dto/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/dto/create-alert.dto.ts": {
            "lines": 152,
            "tokens": 1003,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/dto/alert-filter.dto.ts": {
            "lines": 47,
            "tokens": 335,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/dto/similar-cases.dto.ts": {
            "lines": 72,
            "tokens": 469,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/dto/semantic-search.dto.ts": {
            "lines": 103,
            "tokens": 700,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/dto/search-suggestions.dto.ts": {
            "lines": 27,
            "tokens": 145,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/dto/search-query.dto.ts": {
            "lines": 38,
            "tokens": 268,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/dto/search-analytics.dto.ts": {
            "lines": 39,
            "tokens": 234,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/dto/medication-search.dto.ts": {
            "lines": 43,
            "tokens": 263,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/dto/index.ts": {
            "lines": 13,
            "tokens": 73,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/dto/index-content.dto.ts": {
            "lines": 48,
            "tokens": 348,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/dto/advanced-search.dto.ts": {
            "lines": 189,
            "tokens": 1309,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/dto/verify-medication-administration.dto.ts": {
            "lines": 33,
            "tokens": 196,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/dto/send-emergency-notification.dto.ts": {
            "lines": 92,
            "tokens": 654,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/dto/scan-barcode.dto.ts": {
            "lines": 43,
            "tokens": 273,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/dto/record-screening.dto.ts": {
            "lines": 53,
            "tokens": 349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/dto/record-measurement.dto.ts": {
            "lines": 56,
            "tokens": 364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/dto/index.ts": {
            "lines": 9,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/user-management.service.ts": {
            "lines": 20,
            "tokens": 127,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/training.service.ts": {
            "lines": 9,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/system-health.service.ts": {
            "lines": 9,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/settings.service.ts": {
            "lines": 9,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/school.service.ts": {
            "lines": 215,
            "tokens": 1644,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/performance.service.ts": {
            "lines": 9,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/license.service.ts": {
            "lines": 184,
            "tokens": 1520,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/index.ts": {
            "lines": 14,
            "tokens": 100,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/district.service.ts": {
            "lines": 179,
            "tokens": 1508,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/configuration.service.ts": {
            "lines": 190,
            "tokens": 1449,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/backup.service.ts": {
            "lines": 72,
            "tokens": 655,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/services/audit.service.ts": {
            "lines": 116,
            "tokens": 852,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/interfaces/administration.interfaces.ts": {
            "lines": 61,
            "tokens": 336,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/enums/administration.enums.ts": {
            "lines": 106,
            "tokens": 686,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 33,
            "duplicatedTokens": 238,
            "percentage": 31.13,
            "percentageTokens": 34.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/training-module.entity.ts": {
            "lines": 10,
            "tokens": 30,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/system-configuration.entity.ts": {
            "lines": 14,
            "tokens": 44,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/school.entity.ts": {
            "lines": 8,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/performance-metric.entity.ts": {
            "lines": 10,
            "tokens": 30,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/license.entity.ts": {
            "lines": 10,
            "tokens": 33,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/index.ts": {
            "lines": 12,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/district.entity.ts": {
            "lines": 8,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/configuration-history.entity.ts": {
            "lines": 8,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/backup-log.entity.ts": {
            "lines": 8,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/entities/audit-log.entity.ts": {
            "lines": 8,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/user-management.dto.ts": {
            "lines": 113,
            "tokens": 778,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 33,
            "duplicatedTokens": 248,
            "percentage": 29.2,
            "percentageTokens": 31.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/training.dto.ts": {
            "lines": 118,
            "tokens": 692,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 127,
            "percentage": 14.41,
            "percentageTokens": 18.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/school.dto.ts": {
            "lines": 137,
            "tokens": 863,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 112,
            "duplicatedTokens": 805,
            "percentage": 81.75,
            "percentageTokens": 93.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/performance.dto.ts": {
            "lines": 59,
            "tokens": 421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/license.dto.ts": {
            "lines": 116,
            "tokens": 761,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 132,
            "percentage": 14.66,
            "percentageTokens": 17.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/index.ts": {
            "lines": 12,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/district.dto.ts": {
            "lines": 109,
            "tokens": 678,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 63,
            "duplicatedTokens": 430,
            "percentage": 57.8,
            "percentageTokens": 63.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/configuration.dto.ts": {
            "lines": 123,
            "tokens": 809,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/backup.dto.ts": {
            "lines": 37,
            "tokens": 267,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 122,
            "percentage": 43.24,
            "percentageTokens": 45.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/dto/audit.dto.ts": {
            "lines": 61,
            "tokens": 449,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/types/user-context.types.ts": {
            "lines": 77,
            "tokens": 354,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/types/sequelize-models.types.ts": {
            "lines": 231,
            "tokens": 1359,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/user-role-assignment.service.ts": {
            "lines": 391,
            "tokens": 2812,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 32,
            "duplicatedTokens": 180,
            "percentage": 8.18,
            "percentageTokens": 6.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/system-initialization.service.ts": {
            "lines": 196,
            "tokens": 1297,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/session-management.service.ts": {
            "lines": 183,
            "tokens": 1380,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 93,
            "percentage": 8.74,
            "percentageTokens": 6.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/security-monitoring.service.ts": {
            "lines": 309,
            "tokens": 2128,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/role-management.service.ts": {
            "lines": 398,
            "tokens": 2867,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 95,
            "duplicatedTokens": 546,
            "percentage": 23.87,
            "percentageTokens": 19.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/permission-management.service.ts": {
            "lines": 251,
            "tokens": 1763,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 124,
            "percentage": 7.57,
            "percentageTokens": 7.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/permission-cache.service.ts": {
            "lines": 293,
            "tokens": 2070,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/ip-restriction-management.service.ts": {
            "lines": 174,
            "tokens": 1241,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 93,
            "percentage": 9.2,
            "percentageTokens": 7.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/delegation.service.ts": {
            "lines": 212,
            "tokens": 1481,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/services/abac-policy.service.ts": {
            "lines": 245,
            "tokens": 1591,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/interfaces/user-permissions-result.interface.ts": {
            "lines": 9,
            "tokens": 45,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/interfaces/security-statistics.interface.ts": {
            "lines": 14,
            "tokens": 72,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/interfaces/permission-delegation.interface.ts": {
            "lines": 26,
            "tokens": 123,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/interfaces/ip-restriction-check.interface.ts": {
            "lines": 9,
            "tokens": 47,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/interfaces/abac-policy.interface.ts": {
            "lines": 103,
            "tokens": 509,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/guards/roles.guard.ts": {
            "lines": 151,
            "tokens": 1048,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 52,
            "duplicatedTokens": 364,
            "percentage": 34.44,
            "percentageTokens": 34.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/guards/permissions.guard.ts": {
            "lines": 142,
            "tokens": 968,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 52,
            "duplicatedTokens": 364,
            "percentage": 36.62,
            "percentageTokens": 37.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/guards/ip-restriction.guard.ts": {
            "lines": 71,
            "tokens": 444,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/revoke-delegation.dto.ts": {
            "lines": 11,
            "tokens": 80,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/log-login-attempt.dto.ts": {
            "lines": 47,
            "tokens": 289,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 103,
            "percentage": 38.3,
            "percentageTokens": 35.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/index.ts": {
            "lines": 17,
            "tokens": 118,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/create-session.dto.ts": {
            "lines": 45,
            "tokens": 274,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 103,
            "percentage": 40,
            "percentageTokens": 37.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/create-security-incident.dto.ts": {
            "lines": 72,
            "tokens": 443,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/create-role.dto.ts": {
            "lines": 26,
            "tokens": 183,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/create-permission.dto.ts": {
            "lines": 29,
            "tokens": 167,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/create-ip-restriction.dto.ts": {
            "lines": 45,
            "tokens": 271,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/create-delegation.dto.ts": {
            "lines": 33,
            "tokens": 221,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/create-abac-policy.dto.ts": {
            "lines": 58,
            "tokens": 457,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/check-permission.dto.ts": {
            "lines": 20,
            "tokens": 112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/assign-role-to-user.dto.ts": {
            "lines": 13,
            "tokens": 85,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/dto/assign-permission-to-role.dto.ts": {
            "lines": 13,
            "tokens": 85,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/decorators/roles.decorator.ts": {
            "lines": 13,
            "tokens": 55,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/decorators/public.decorator.ts": {
            "lines": 12,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/decorators/permissions.decorator.ts": {
            "lines": 15,
            "tokens": 66,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/services/transcript-query.service.ts": {
            "lines": 245,
            "tokens": 1294,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 154,
            "duplicatedTokens": 955,
            "percentage": 62.86,
            "percentageTokens": 73.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/services/gpa-calculator.service.ts": {
            "lines": 144,
            "tokens": 672,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 101,
            "percentage": 11.11,
            "percentageTokens": 15.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/interfaces/transcript-report.interface.ts": {
            "lines": 72,
            "tokens": 298,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/interfaces/performance-analytics.interface.ts": {
            "lines": 42,
            "tokens": 141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/interfaces/index.ts": {
            "lines": 7,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/interfaces/academic-record.interface.ts": {
            "lines": 36,
            "tokens": 226,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/dto/transcript-import.dto.ts": {
            "lines": 81,
            "tokens": 450,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/dto/sync-sis.dto.ts": {
            "lines": 62,
            "tokens": 396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/dto/index.ts": {
            "lines": 8,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/dto/generate-report.dto.ts": {
            "lines": 74,
            "tokens": 422,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/dto/analytics-query.dto.ts": {
            "lines": 82,
            "tokens": 597,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/workers/worker-pool.service.ts": {
            "lines": 389,
            "tokens": 2452,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/workers/worker-pool.interfaces.ts": {
            "lines": 83,
            "tokens": 294,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/workers/index.ts": {
            "lines": 11,
            "tokens": 47,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/workers/healthCalculations.worker.ts": {
            "lines": 176,
            "tokens": 1374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/workers/health-calculations.service.ts": {
            "lines": 262,
            "tokens": 1186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/vaccinations/vaccinations.service.ts": {
            "lines": 154,
            "tokens": 1451,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 48,
            "duplicatedTokens": 330,
            "percentage": 31.17,
            "percentageTokens": 22.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/vaccinations/vaccinations.module.ts": {
            "lines": 17,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/vaccinations/vaccinations.controller.ts": {
            "lines": 49,
            "tokens": 385,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/user.service.ts": {
            "lines": 482,
            "tokens": 3198,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 40,
            "duplicatedTokens": 207,
            "percentage": 8.3,
            "percentageTokens": 6.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/user.module.ts": {
            "lines": 26,
            "tokens": 148,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/user.controller.ts": {
            "lines": 264,
            "tokens": 1950,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/user/index.ts": {
            "lines": 18,
            "tokens": 76,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/utility.ts": {
            "lines": 227,
            "tokens": 1494,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/pagination.ts": {
            "lines": 218,
            "tokens": 624,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/migrations.d.ts": {
            "lines": 125,
            "tokens": 539,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/index.ts": {
            "lines": 24,
            "tokens": 93,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/guards.ts": {
            "lines": 215,
            "tokens": 1387,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/environment.ts": {
            "lines": 221,
            "tokens": 1256,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/database.ts": {
            "lines": 213,
            "tokens": 592,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/config.ts": {
            "lines": 466,
            "tokens": 1186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/common.ts": {
            "lines": 142,
            "tokens": 772,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/api.ts": {
            "lines": 254,
            "tokens": 944,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/student.service.ts": {
            "lines": 224,
            "tokens": 1873,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/student.module.ts": {
            "lines": 102,
            "tokens": 522,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/student/index.ts": {
            "lines": 24,
            "tokens": 177,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/shared.module.ts": {
            "lines": 65,
            "tokens": 259,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/shared/index.ts": {
            "lines": 173,
            "tokens": 643,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/security.module.ts": {
            "lines": 60,
            "tokens": 310,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/security.controller.ts": {
            "lines": 483,
            "tokens": 4220,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 99,
            "duplicatedTokens": 856,
            "percentage": 20.5,
            "percentageTokens": 20.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/production-security.service.ts": {
            "lines": 854,
            "tokens": 7291,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/production-security-hardening.service.ts": {
            "lines": 781,
            "tokens": 7179,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/enhanced-security.service.ts": {
            "lines": 194,
            "tokens": 1346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/security/breach-detection.service.ts": {
            "lines": 599,
            "tokens": 5026,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/report.module.ts": {
            "lines": 71,
            "tokens": 408,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/report/index.ts": {
            "lines": 15,
            "tokens": 52,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/pdf.service.ts": {
            "lines": 454,
            "tokens": 4209,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 66,
            "duplicatedTokens": 614,
            "percentage": 14.54,
            "percentageTokens": 14.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/pdf.module.ts": {
            "lines": 9,
            "tokens": 84,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/pdf.controller.ts": {
            "lines": 217,
            "tokens": 1616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pdf/index.ts": {
            "lines": 12,
            "tokens": 51,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/mobile.module.ts": {
            "lines": 53,
            "tokens": 261,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/mobile/index.ts": {
            "lines": 13,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication-interaction/medication-interaction.service.ts": {
            "lines": 212,
            "tokens": 1614,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication-interaction/medication-interaction.service.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication-interaction/medication-interaction.module.ts": {
            "lines": 21,
            "tokens": 142,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication-interaction/medication-interaction.controller.ts": {
            "lines": 97,
            "tokens": 617,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication-interaction/medication-interaction.controller.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication-interaction/index.ts": {
            "lines": 12,
            "tokens": 51,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/medication.repository.ts": {
            "lines": 368,
            "tokens": 2738,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/medication.module.ts": {
            "lines": 75,
            "tokens": 207,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/medication.controller.ts": {
            "lines": 476,
            "tokens": 3141,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 110,
            "duplicatedTokens": 803,
            "percentage": 23.11,
            "percentageTokens": 25.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/medication/index.ts": {
            "lines": 18,
            "tokens": 71,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/inventory.service.ts": {
            "lines": 294,
            "tokens": 1853,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/inventory.module.ts": {
            "lines": 49,
            "tokens": 301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/inventory.controller.ts": {
            "lines": 709,
            "tokens": 6630,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 45,
            "duplicatedTokens": 324,
            "percentage": 6.35,
            "percentageTokens": 4.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/inventory/index.ts": {
            "lines": 12,
            "tokens": 51,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/interfaces/interfaces.module.ts": {
            "lines": 9,
            "tokens": 39,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/interfaces/index.ts": {
            "lines": 9,
            "tokens": 38,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/interfaces/IStudentService.ts": {
            "lines": 183,
            "tokens": 818,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/interfaces/IMedicationService.ts": {
            "lines": 145,
            "tokens": 625,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/interfaces/IHealthRecordService.ts": {
            "lines": 164,
            "tokens": 672,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/integrations.module.ts": {
            "lines": 71,
            "tokens": 158,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integrations/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/integration.module.ts": {
            "lines": 48,
            "tokens": 346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/integration.controller.ts": {
            "lines": 379,
            "tokens": 2812,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 96,
            "percentage": 3.96,
            "percentageTokens": 3.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/integration/index.ts": {
            "lines": 15,
            "tokens": 78,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/index.ts": {
            "lines": 13,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/incident-report.module.ts": {
            "lines": 58,
            "tokens": 421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/incident-report/incident-report.controller.ts": {
            "lines": 579,
            "tokens": 5558,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 62,
            "duplicatedTokens": 466,
            "percentage": 10.71,
            "percentageTokens": 8.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-risk-assessment/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-risk-assessment/health-risk-assessment.service.ts": {
            "lines": 342,
            "tokens": 2628,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-risk-assessment/health-risk-assessment.module.ts": {
            "lines": 25,
            "tokens": 196,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-risk-assessment/health-risk-assessment.controller.ts": {
            "lines": 104,
            "tokens": 641,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/index.ts": {
            "lines": 29,
            "tokens": 192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/health-record.service.ts": {
            "lines": 507,
            "tokens": 2470,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 106,
            "percentage": 4.14,
            "percentageTokens": 4.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/health-record.module.ts": {
            "lines": 169,
            "tokens": 842,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-record/health-record.controller.ts": {
            "lines": 9,
            "tokens": 33,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/health-metrics.service.ts": {
            "lines": 478,
            "tokens": 4457,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/health-metrics.module.ts": {
            "lines": 8,
            "tokens": 73,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-metrics/health-metrics.controller.ts": {
            "lines": 743,
            "tokens": 5145,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 68,
            "duplicatedTokens": 450,
            "percentage": 9.15,
            "percentageTokens": 8.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/index.ts": {
            "lines": 14,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/health-domain.service.ts": {
            "lines": 748,
            "tokens": 4907,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 57,
            "duplicatedTokens": 388,
            "percentage": 7.62,
            "percentageTokens": 7.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/health-domain.module.ts": {
            "lines": 69,
            "tokens": 284,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/health-domain/health-domain.controller.ts": {
            "lines": 677,
            "tokens": 5380,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/grade-transition/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/grade-transition/grade-transition.service.ts": {
            "lines": 211,
            "tokens": 1359,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 87,
            "percentage": 5.69,
            "percentageTokens": 6.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/grade-transition/grade-transition.module.ts": {
            "lines": 16,
            "tokens": 126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/grade-transition/grade-transition.controller.ts": {
            "lines": 131,
            "tokens": 833,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/features/index.ts": {
            "lines": 8,
            "tokens": 30,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/features/features.service.ts": {
            "lines": 759,
            "tokens": 4960,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/features/features.service.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/features/features.module.ts": {
            "lines": 9,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/features/features.controller.ts": {
            "lines": 86,
            "tokens": 601,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/errors/index.ts": {
            "lines": 6,
            "tokens": 12,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/errors/ServiceError.ts": {
            "lines": 76,
            "tokens": 448,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/witness-statement.service.ts": {
            "lines": 288,
            "tokens": 2290,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/waitlist-management.service.ts": {
            "lines": 305,
            "tokens": 2229,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/reminder-scheduler.service.ts": {
            "lines": 240,
            "tokens": 1826,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/regulation-tracking.service.ts": {
            "lines": 280,
            "tokens": 1921,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/recurring-appointments.service.ts": {
            "lines": 89,
            "tokens": 578,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/photo-video-evidence.service.ts": {
            "lines": 259,
            "tokens": 1960,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/message-template-library.service.ts": {
            "lines": 343,
            "tokens": 2709,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/language-translation.service.ts": {
            "lines": 239,
            "tokens": 1589,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/insurance-claim.service.ts": {
            "lines": 346,
            "tokens": 2658,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/hipaa-compliance.service.ts": {
            "lines": 191,
            "tokens": 1485,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/enterprise-features.service.ts": {
            "lines": 343,
            "tokens": 2939,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 162,
            "percentage": 3.79,
            "percentageTokens": 5.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/enterprise-features.service.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/enterprise-features.module.ts": {
            "lines": 106,
            "tokens": 785,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 162,
            "percentage": 12.26,
            "percentageTokens": 20.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/enterprise-features.controller.ts": {
            "lines": 11,
            "tokens": 89,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/enterprise-features.controller.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/enterprise-features-interfaces.ts": {
            "lines": 16,
            "tokens": 129,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/enterprise-features-constants.ts": {
            "lines": 243,
            "tokens": 1540,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/custom-report-builder.service.ts": {
            "lines": 347,
            "tokens": 2583,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/consent-form-management.service.ts": {
            "lines": 356,
            "tokens": 3060,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/bulk-messaging.service.ts": {
            "lines": 356,
            "tokens": 3015,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/enterprise-features/analytics-dashboard.service.ts": {
            "lines": 101,
            "tokens": 718,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/emergency-contact.service.ts": {
            "lines": 197,
            "tokens": 882,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/emergency-contact.module.ts": {
            "lines": 71,
            "tokens": 311,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-contact/emergency-contact.controller.ts": {
            "lines": 461,
            "tokens": 2893,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/index.ts": {
            "lines": 13,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/emergency-broadcast.service.ts": {
            "lines": 163,
            "tokens": 1039,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 26,
            "duplicatedTokens": 218,
            "percentage": 15.95,
            "percentageTokens": 20.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/emergency-broadcast.module.ts": {
            "lines": 12,
            "tokens": 120,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/emergency-broadcast.interfaces.ts": {
            "lines": 76,
            "tokens": 369,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 32,
            "duplicatedTokens": 190,
            "percentage": 42.11,
            "percentageTokens": 51.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/emergency-broadcast.enums.ts": {
            "lines": 94,
            "tokens": 474,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/emergency-broadcast/emergency-broadcast.controller.ts": {
            "lines": 231,
            "tokens": 1426,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/index.ts": {
            "lines": 13,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/document.service.ts": {
            "lines": 347,
            "tokens": 2684,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 184,
            "percentage": 6.34,
            "percentageTokens": 6.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/document.module.ts": {
            "lines": 32,
            "tokens": 150,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/document/document.controller.ts": {
            "lines": 346,
            "tokens": 3049,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 53,
            "duplicatedTokens": 353,
            "percentage": 15.32,
            "percentageTokens": 11.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/index.ts": {
            "lines": 20,
            "tokens": 123,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/discovery.module.ts": {
            "lines": 76,
            "tokens": 411,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/discovery.controller.ts": {
            "lines": 485,
            "tokens": 4398,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/discovery/discovery-example.service.ts": {
            "lines": 682,
            "tokens": 5199,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 182,
            "percentage": 2.93,
            "percentageTokens": 3.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/index.ts": {
            "lines": 37,
            "tokens": 197,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/database.module.ts": {
            "lines": 590,
            "tokens": 2861,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 128,
            "duplicatedTokens": 948,
            "percentage": 21.69,
            "percentageTokens": 33.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/index.ts": {
            "lines": 15,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dashboard.service.ts": {
            "lines": 798,
            "tokens": 6019,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dashboard.service.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dashboard.service.comprehensive.spec.ts": {
            "lines": 630,
            "tokens": 5332,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dashboard.module.ts": {
            "lines": 8,
            "tokens": 73,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dashboard.controller.ts": {
            "lines": 309,
            "tokens": 1570,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dashboard.controller.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/dashboard/dashboard.controller.comprehensive.spec.ts": {
            "lines": 479,
            "tokens": 3761,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/core/core.module.ts": {
            "lines": 199,
            "tokens": 601,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/index.ts": {
            "lines": 12,
            "tokens": 51,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/contact.module.ts": {
            "lines": 23,
            "tokens": 141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contact/contact.controller.ts": {
            "lines": 285,
            "tokens": 2697,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/configuration.module.ts": {
            "lines": 31,
            "tokens": 151,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/configuration/configuration.controller.ts": {
            "lines": 532,
            "tokens": 3622,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 22,
            "duplicatedTokens": 177,
            "percentage": 4.14,
            "percentageTokens": 4.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/validation.schema.ts": {
            "lines": 488,
            "tokens": 3078,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger.config.ts": {
            "lines": 200,
            "tokens": 1269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger-schema-generators.service.ts": {
            "lines": 229,
            "tokens": 4742,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger-response-builders.service.ts": {
            "lines": 131,
            "tokens": 723,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger-documentation-automation.service.ts": {
            "lines": 640,
            "tokens": 4520,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/swagger-config.service.ts": {
            "lines": 219,
            "tokens": 4918,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/security.config.ts": {
            "lines": 119,
            "tokens": 936,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/redis.config.ts": {
            "lines": 90,
            "tokens": 729,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/queue.config.ts": {
            "lines": 107,
            "tokens": 764,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/query-performance-logger.service.ts": {
            "lines": 368,
            "tokens": 2919,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/production-configuration-management.service.ts": {
            "lines": 804,
            "tokens": 6970,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 194,
            "percentage": 3.23,
            "percentageTokens": 2.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/module-loader.helper.ts": {
            "lines": 123,
            "tokens": 409,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/index.ts": {
            "lines": 44,
            "tokens": 167,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/database.config.ts": {
            "lines": 90,
            "tokens": 727,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/database-pool-monitor.service.ts": {
            "lines": 276,
            "tokens": 2138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/cache.config.ts": {
            "lines": 86,
            "tokens": 596,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/aws.config.ts": {
            "lines": 73,
            "tokens": 579,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/auth.config.ts": {
            "lines": 82,
            "tokens": 580,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/app.config.ts": {
            "lines": 124,
            "tokens": 1076,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/app-config.service.ts": {
            "lines": 742,
            "tokens": 3637,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/index.ts": {
            "lines": 16,
            "tokens": 87,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/compliance.service.ts": {
            "lines": 286,
            "tokens": 1899,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/compliance.module.ts": {
            "lines": 123,
            "tokens": 640,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 110,
            "percentage": 9.76,
            "percentageTokens": 17.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/compliance/compliance.controller.ts": {
            "lines": 562,
            "tokens": 5492,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 90,
            "duplicatedTokens": 914,
            "percentage": 16.01,
            "percentageTokens": 16.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/index.ts": {
            "lines": 15,
            "tokens": 78,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/communication/communication.module.ts": {
            "lines": 78,
            "tokens": 514,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/index.ts": {
            "lines": 26,
            "tokens": 177,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/enums.ts": {
            "lines": 64,
            "tokens": 359,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/commands/seed-students.command.ts": {
            "lines": 108,
            "tokens": 875,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/commands/seed-schools.command.ts": {
            "lines": 81,
            "tokens": 632,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/commands/seed-incidents.command.ts": {
            "lines": 207,
            "tokens": 1598,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/commands/seed-health-records.command.ts": {
            "lines": 307,
            "tokens": 2141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/commands/seed-districts.command.ts": {
            "lines": 62,
            "tokens": 460,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/commands/query-data.command.ts": {
            "lines": 71,
            "tokens": 662,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/commands/index.ts": {
            "lines": 12,
            "tokens": 66,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/commands/commands.module.ts": {
            "lines": 30,
            "tokens": 228,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/index.ts": {
            "lines": 18,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/clinical/clinical.module.ts": {
            "lines": 210,
            "tokens": 715,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/index.ts": {
            "lines": 24,
            "tokens": 96,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/chronic-condition.service.ts": {
            "lines": 605,
            "tokens": 4440,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 280,
            "percentage": 4.63,
            "percentageTokens": 6.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/chronic-condition.module.ts": {
            "lines": 19,
            "tokens": 126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/chronic-condition/chronic-condition.controller.ts": {
            "lines": 241,
            "tokens": 1814,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/budget.service.ts": {
            "lines": 741,
            "tokens": 5469,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 184,
            "percentage": 3.24,
            "percentageTokens": 3.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/budget.module.ts": {
            "lines": 23,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/budget/budget.controller.ts": {
            "lines": 394,
            "tokens": 2253,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/index.ts": {
            "lines": 28,
            "tokens": 162,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/auth.service.ts": {
            "lines": 445,
            "tokens": 3021,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 55,
            "duplicatedTokens": 421,
            "percentage": 12.36,
            "percentageTokens": 13.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/auth.module.ts": {
            "lines": 85,
            "tokens": 613,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/auth/auth.controller.ts": {
            "lines": 595,
            "tokens": 4526,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/index.ts": {
            "lines": 31,
            "tokens": 143,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/audit.service.ts": {
            "lines": 237,
            "tokens": 1326,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 94,
            "percentage": 8.02,
            "percentageTokens": 7.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/audit.module.ts": {
            "lines": 48,
            "tokens": 313,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 94,
            "percentage": 39.58,
            "percentageTokens": 30.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/audit/audit.controller.ts": {
            "lines": 313,
            "tokens": 2882,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/index.ts": {
            "lines": 39,
            "tokens": 301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/appointment.service.ts": {
            "lines": 455,
            "tokens": 2866,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/appointment/appointment.module.ts": {
            "lines": 121,
            "tokens": 589,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/index.ts": {
            "lines": 13,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/api-key-auth.service.ts": {
            "lines": 269,
            "tokens": 1745,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/api-key-auth.module.ts": {
            "lines": 29,
            "tokens": 161,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/api-key-auth/api-key-auth.controller.ts": {
            "lines": 79,
            "tokens": 741,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/specialized-report-generator.service.ts": {
            "lines": 377,
            "tokens": 2955,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 133,
            "duplicatedTokens": 1014,
            "percentage": 35.28,
            "percentageTokens": 34.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/index.ts": {
            "lines": 24,
            "tokens": 96,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/dashboard-data.service.ts": {
            "lines": 374,
            "tokens": 2614,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/basic-report-generator.service.ts": {
            "lines": 317,
            "tokens": 2811,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 88,
            "duplicatedTokens": 818,
            "percentage": 27.76,
            "percentageTokens": 29.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/analytics.service.ts": {
            "lines": 214,
            "tokens": 1195,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/analytics.module.ts": {
            "lines": 140,
            "tokens": 661,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/analytics.controller.ts": {
            "lines": 355,
            "tokens": 2792,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/analytics-report-generator.service.ts": {
            "lines": 370,
            "tokens": 2984,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 178,
            "duplicatedTokens": 1502,
            "percentage": 48.11,
            "percentageTokens": 50.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/analytics-metrics-calculator.service.ts": {
            "lines": 476,
            "tokens": 4063,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/analytics-interfaces.ts": {
            "lines": 320,
            "tokens": 2180,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/analytics-data-collector.service.ts": {
            "lines": 523,
            "tokens": 4449,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 208,
            "percentage": 4.59,
            "percentageTokens": 4.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/analytics/analytics-constants.ts": {
            "lines": 160,
            "tokens": 1257,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/index.ts": {
            "lines": 15,
            "tokens": 56,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/allergy.module.ts": {
            "lines": 48,
            "tokens": 222,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/allergy/allergy.controller.ts": {
            "lines": 572,
            "tokens": 3661,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 110,
            "percentage": 2.45,
            "percentageTokens": 3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/alerts.service.ts": {
            "lines": 264,
            "tokens": 1790,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/alerts.service.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/alerts.module.ts": {
            "lines": 18,
            "tokens": 175,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/alerts/alerts.controller.ts": {
            "lines": 129,
            "tokens": 999,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/ai-search.service.ts": {
            "lines": 670,
            "tokens": 4597,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/ai-search.service.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/ai-search.module.ts": {
            "lines": 11,
            "tokens": 104,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ai-search/ai-search.controller.ts": {
            "lines": 316,
            "tokens": 2194,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/index.ts": {
            "lines": 11,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/advanced-features.service.ts": {
            "lines": 302,
            "tokens": 1605,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/advanced-features.module.ts": {
            "lines": 22,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/advanced-features/advanced-features.controller.ts": {
            "lines": 286,
            "tokens": 1947,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/index.ts": {
            "lines": 14,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/administration.module.ts": {
            "lines": 69,
            "tokens": 474,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/administration/administration.controller.ts": {
            "lines": 248,
            "tokens": 2389,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/index.ts": {
            "lines": 21,
            "tokens": 83,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/access-control.service.ts": {
            "lines": 362,
            "tokens": 2042,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/access-control.module.ts": {
            "lines": 78,
            "tokens": 324,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/access-control/access-control.controller.ts": {
            "lines": 543,
            "tokens": 5402,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/index.ts": {
            "lines": 12,
            "tokens": 51,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/academic-transcript.service.ts": {
            "lines": 882,
            "tokens": 4372,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 170,
            "duplicatedTokens": 1056,
            "percentage": 19.27,
            "percentageTokens": 24.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/academic-transcript.service.spec.ts": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/academic-transcript.module.ts": {
            "lines": 11,
            "tokens": 104,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/academic-transcript/academic-transcript.controller.ts": {
            "lines": 448,
            "tokens": 3180,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/unlock-users.ts": {
            "lines": 58,
            "tokens": 448,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test-password.ts": {
            "lines": 62,
            "tokens": 523,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 36,
            "duplicatedTokens": 286,
            "percentage": 58.06,
            "percentageTokens": 54.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test-login.ts": {
            "lines": 47,
            "tokens": 354,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test-login-response.ts": {
            "lines": 47,
            "tokens": 420,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/sync-users.ts": {
            "lines": 39,
            "tokens": 243,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/reset-failed-attempts.ts": {
            "lines": 46,
            "tokens": 317,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 140,
            "percentage": 39.13,
            "percentageTokens": 44.16,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/reset-admin-password.ts": {
            "lines": 47,
            "tokens": 318,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 146,
            "percentage": 38.3,
            "percentageTokens": 45.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/main.ts": {
            "lines": 420,
            "tokens": 2744,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/create-simple-admin.ts": {
            "lines": 123,
            "tokens": 583,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/create-admin.ts": {
            "lines": 62,
            "tokens": 424,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/cli.ts": {
            "lines": 12,
            "tokens": 111,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/check-users.ts": {
            "lines": 55,
            "tokens": 419,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app.module.ts": {
            "lines": 399,
            "tokens": 2168,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app.controller.ts": {
            "lines": 26,
            "tokens": 196,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app.controller.spec.ts": {
            "lines": 21,
            "tokens": 199,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 338312,
          "tokens": 2279867,
          "sources": 1980,
          "clones": 701,
          "duplicatedLines": 13206,
          "duplicatedTokens": 91461,
          "percentage": 3.9,
          "percentageTokens": 4.01,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "handlebars": {
        "sources": {
          "src/infrastructure/email/templates/welcome.text.hbs": {
            "lines": 30,
            "tokens": 451,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/templates/welcome.html.hbs": {
            "lines": 130,
            "tokens": 1231,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 166,
            "duplicatedTokens": 1233,
            "percentage": 127.69,
            "percentageTokens": 100.16,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/templates/password-reset.text.hbs": {
            "lines": 20,
            "tokens": 351,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/templates/password-reset.html.hbs": {
            "lines": 110,
            "tokens": 1025,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 36,
            "duplicatedTokens": 279,
            "percentage": 32.73,
            "percentageTokens": 27.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/templates/notification.text.hbs": {
            "lines": 19,
            "tokens": 290,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/templates/notification.html.hbs": {
            "lines": 91,
            "tokens": 762,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 58,
            "duplicatedTokens": 420,
            "percentage": 63.74,
            "percentageTokens": 55.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/templates/custom.html.hbs": {
            "lines": 63,
            "tokens": 487,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 44,
            "duplicatedTokens": 324,
            "percentage": 69.84,
            "percentageTokens": 66.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/templates/alert.text.hbs": {
            "lines": 27,
            "tokens": 349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/infrastructure/email/templates/alert.html.hbs": {
            "lines": 149,
            "tokens": 1209,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 28,
            "duplicatedTokens": 210,
            "percentage": 18.79,
            "percentageTokens": 17.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 639,
          "tokens": 6155,
          "sources": 9,
          "clones": 7,
          "duplicatedLines": 166,
          "duplicatedTokens": 1233,
          "percentage": 25.98,
          "percentageTokens": 20.03,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "javascript": {
        "sources": {
          "src/database/migrations/__tests__/migration-rollback.test.js": {
            "lines": 387,
            "tokens": 2847,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251111171406-add-prescription-fields-to-student-medications.js": {
            "lines": 54,
            "tokens": 386,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251107120003-create-materialized-views.js": {
            "lines": 507,
            "tokens": 987,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251107120002-add-partial-indexes.js": {
            "lines": 304,
            "tokens": 1089,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 78,
            "percentage": 3.62,
            "percentageTokens": 7.16,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251107120001-add-covering-indexes.js": {
            "lines": 225,
            "tokens": 909,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 78,
            "percentage": 4.89,
            "percentageTokens": 8.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251107120000-add-check-constraints.js": {
            "lines": 241,
            "tokens": 1000,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251107000001-convert-json-to-jsonb-vital-signs.js": {
            "lines": 72,
            "tokens": 440,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251107000001-add-data-integrity-constraints.js": {
            "lines": 484,
            "tokens": 1917,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251107000000-remove-wasGiven-from-medication-logs.js": {
            "lines": 71,
            "tokens": 313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251107000000-add-critical-performance-indexes.js": {
            "lines": 317,
            "tokens": 1717,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251106214340-add-missing-health-record-columns.js": {
            "lines": 86,
            "tokens": 804,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251106203949-create-performance-metrics-table.js": {
            "lines": 56,
            "tokens": 396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251106130000-add-deleted-at-to-all-paranoid-tables.js": {
            "lines": 144,
            "tokens": 807,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 56,
            "duplicatedTokens": 252,
            "percentage": 38.89,
            "percentageTokens": 31.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251106120000-add-deleted-at-to-medications.js": {
            "lines": 61,
            "tokens": 394,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251106000003-add-fulltext-search-indexes.js": {
            "lines": 444,
            "tokens": 2168,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 155,
            "percentage": 4.5,
            "percentageTokens": 7.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251106000002-add-user-security-indexes.js": {
            "lines": 410,
            "tokens": 1898,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251106000001-add-missing-critical-indexes.js": {
            "lines": 404,
            "tokens": 2255,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 155,
            "percentage": 4.95,
            "percentageTokens": 6.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251106000000-add-medication-log-foreign-key.js": {
            "lines": 179,
            "tokens": 887,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251104160219-add-deleted-at-to-users.js": {
            "lines": 35,
            "tokens": 162,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251103204744-add-status-and-safety-type-to-incidents.js": {
            "lines": 90,
            "tokens": 613,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251011000000-performance-indexes.js": {
            "lines": 666,
            "tokens": 3498,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 66,
            "duplicatedTokens": 474,
            "percentage": 9.91,
            "percentageTokens": 13.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20251009013303-enhance-system-configuration.js": {
            "lines": 325,
            "tokens": 2226,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 93,
            "percentage": 4,
            "percentageTokens": 4.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20250105000000-add-inventory-fulltext-search.js": {
            "lines": 162,
            "tokens": 528,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20250104-add-mfa-oauth-fields-to-users.js": {
            "lines": 198,
            "tokens": 1318,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20250103000003-create-system-configuration.js": {
            "lines": 299,
            "tokens": 1950,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 69,
            "duplicatedTokens": 465,
            "percentage": 23.08,
            "percentageTokens": 23.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20250103000002-create-additional-critical-tables.js": {
            "lines": 679,
            "tokens": 4267,
            "sources": 1,
            "clones": 21,
            "duplicatedLines": 436,
            "duplicatedTokens": 2851,
            "percentage": 64.21,
            "percentageTokens": 66.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20250103000001-create-health-records-core.js": {
            "lines": 556,
            "tokens": 3266,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 222,
            "duplicatedTokens": 1481,
            "percentage": 39.93,
            "percentageTokens": 45.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20250103000000-create-base-schema.js": {
            "lines": 754,
            "tokens": 4799,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 88,
            "duplicatedTokens": 600,
            "percentage": 11.67,
            "percentageTokens": 12.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/config/database.config.js": {
            "lines": 54,
            "tokens": 459,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/migrations/20251010000005-add-indexes-constraints.js": {
            "lines": 184,
            "tokens": 1238,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/migrations/20251010000004-create-measurements-tables.js": {
            "lines": 312,
            "tokens": 1965,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 255,
            "duplicatedTokens": 1617,
            "percentage": 81.73,
            "percentageTokens": 82.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/migrations/20251010000003-create-screenings-table.js": {
            "lines": 189,
            "tokens": 1181,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 48,
            "duplicatedTokens": 312,
            "percentage": 25.4,
            "percentageTokens": 26.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/migrations/20251010000002-create-vaccinations-table.js": {
            "lines": 236,
            "tokens": 1499,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 49,
            "duplicatedTokens": 323,
            "percentage": 20.76,
            "percentageTokens": 21.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/migrations/20251010000001-alter-health-tables.js": {
            "lines": 268,
            "tokens": 2347,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/migrations/20251010000000-create-health-enums.js": {
            "lines": 227,
            "tokens": 707,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/simple-unlock.js": {
            "lines": 89,
            "tokens": 624,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 9769,
          "tokens": 53861,
          "sources": 36,
          "clones": 33,
          "duplicatedLines": 682,
          "duplicatedTokens": 4467,
          "percentage": 6.98,
          "percentageTokens": 8.29,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "markdown": {
        "sources": {
          "src/database/services/README.md": {
            "lines": 135,
            "tokens": 1421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 135,
          "tokens": 1421,
          "sources": 1,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 348855,
      "tokens": 2341304,
      "sources": 2026,
      "clones": 741,
      "duplicatedLines": 14054,
      "duplicatedTokens": 97161,
      "percentage": 4.03,
      "percentageTokens": 4.15,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ");\n\n      // Act - Make 10 requests\n      for (let i = 0; i < 10; i++) {\n        const result = await guard.canActivate(context);\n        expect(result).toBe(true);\n      }\n\n      // Assert - 11th request should fail\n      try {\n        await guard.canActivate(context);\n        fail('Should have thrown exception');\n      } catch (error: any) {\n        expect(error.response.message",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/__tests__/rate-limit.guard.spec.ts",
        "start": 369,
        "end": 382,
        "startLoc": {
          "line": 369,
          "column": 9,
          "position": 2913
        },
        "endLoc": {
          "line": 382,
          "column": 8,
          "position": 3026
        }
      },
      "secondFile": {
        "name": "src/middleware/security/__tests__/rate-limit.guard.spec.ts",
        "start": 331,
        "end": 344,
        "startLoc": {
          "line": 331,
          "column": 16,
          "position": 2585
        },
        "endLoc": {
          "line": 344,
          "column": 11,
          "position": 2698
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", async () => {\n      // Arrange - Generate token\n      const getContext = createMockExecutionContext({\n        method: 'GET',\n        user: { id: 'user-123' },\n        session: { id: 'session-456' },\n      });\n      await guard.canActivate(getContext);\n      const csrfToken = mockResponse.cookie.mock.calls[0][1];\n\n      // POST with token in query",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 290,
        "end": 300,
        "startLoc": {
          "line": 290,
          "column": 50,
          "position": 2184
        },
        "endLoc": {
          "line": 300,
          "column": 28,
          "position": 2284
        }
      },
      "secondFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 265,
        "end": 275,
        "startLoc": {
          "line": 265,
          "column": 47,
          "position": 1970
        },
        "endLoc": {
          "line": 275,
          "column": 27,
          "position": 2070
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", async () => {\n      // Arrange - Generate token\n      const getContext = createMockExecutionContext({\n        method: 'GET',\n        user: { id: 'user-123' },\n        session: { id: 'session-456' },\n      });\n      await guard.canActivate(getContext);\n      const csrfToken = mockResponse.cookie.mock.calls[0][1];\n\n      // POST with token in cookie",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 315,
        "end": 325,
        "startLoc": {
          "line": 315,
          "column": 41,
          "position": 2398
        },
        "endLoc": {
          "line": 325,
          "column": 29,
          "position": 2498
        }
      },
      "secondFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 265,
        "end": 275,
        "startLoc": {
          "line": 265,
          "column": 47,
          "position": 1970
        },
        "endLoc": {
          "line": 275,
          "column": 27,
          "position": 2070
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", async () => {\n      // Arrange - Generate token\n      const getContext = createMockExecutionContext({\n        method: 'GET',\n        user: { id: 'user-123' },\n        session: { id: 'session-456' },\n      });\n      await guard.canActivate(getContext);\n      const csrfToken = mockResponse.cookie.mock.calls[0][1];\n\n      // Act - Use token multiple times",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 583,
        "end": 593,
        "startLoc": {
          "line": 583,
          "column": 44,
          "position": 4548
        },
        "endLoc": {
          "line": 593,
          "column": 34,
          "position": 4648
        }
      },
      "secondFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 265,
        "end": 275,
        "startLoc": {
          "line": 265,
          "column": 47,
          "position": 1970
        },
        "endLoc": {
          "line": 275,
          "column": 27,
          "position": 2070
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const postContext = createMockExecutionContext({\n        method: 'POST',\n        user: { id: 'user-123' },\n        session: { id: 'session-456' },\n        headers: { 'x-csrf-token': csrfToken },\n      });\n\n      // Act & Assert\n      try {\n        await guard.canActivate(postContext);\n        fail('Should reject expired cached token'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 623,
        "end": 633,
        "startLoc": {
          "line": 623,
          "column": 7,
          "position": 4934
        },
        "endLoc": {
          "line": 633,
          "column": 37,
          "position": 5021
        }
      },
      "secondFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 413,
        "end": 423,
        "startLoc": {
          "line": 413,
          "column": 7,
          "position": 3273
        },
        "endLoc": {
          "line": 423,
          "column": 30,
          "position": 3360
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "const getContext = createMockExecutionContext({\n        method: 'GET',\n        user: { id: 'user-123' },\n        session: { id: 'session-456' },\n      });\n      await guard.canActivate(getContext);\n      const csrfToken = mockResponse.cookie.mock.calls[0][1];\n\n      const postContext = createMockExecutionContext({\n        method: 'POST',\n        user: { id: 'user-123' },\n        session: { id: 'session-456' },\n        headers: { 'x-csrf-token': csrfToken },\n      });\n\n      // Act\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 838,
        "end": 854,
        "startLoc": {
          "line": 838,
          "column": 7,
          "position": 6704
        },
        "endLoc": {
          "line": 854,
          "column": 6,
          "position": 6858
        }
      },
      "secondFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 267,
        "end": 782,
        "startLoc": {
          "line": 267,
          "column": 7,
          "position": 1985
        },
        "endLoc": {
          "line": 782,
          "column": 6,
          "position": 6295
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n      );\n      const callHandler = createMockCallHandler();\n\n      // Act\n      interceptor.intercept(context, callHandler).subscribe({\n        next: () => {\n          // Assert\n          expect(auditMiddleware.logPHIAccess).toHaveBeenCalled();\n          done();\n        },\n      });\n    });\n\n    it('should extract student ID from various request locations'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 221,
        "end": 235,
        "startLoc": {
          "line": 221,
          "column": 25,
          "position": 1588
        },
        "endLoc": {
          "line": 235,
          "column": 59,
          "position": 1676
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 202,
        "end": 216,
        "startLoc": {
          "line": 202,
          "column": 23,
          "position": 1465
        },
        "endLoc": {
          "line": 216,
          "column": 49,
          "position": 1553
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n      );\n      const callHandler = createMockCallHandler();\n\n      // Act\n      interceptor.intercept(context, callHandler).subscribe({\n        next: () => {\n          // Assert\n          expect(auditMiddleware.logPHIAccess).not.toHaveBeenCalled();\n          done();\n        },\n      });\n    });\n\n    it('should not log PHI access for user profile operations'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 328,
        "end": 342,
        "startLoc": {
          "line": 328,
          "column": 17,
          "position": 2359
        },
        "endLoc": {
          "line": 342,
          "column": 56,
          "position": 2449
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 309,
        "end": 323,
        "startLoc": {
          "line": 309,
          "column": 22,
          "position": 2234
        },
        "endLoc": {
          "line": 323,
          "column": 58,
          "position": 2324
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n      );\n      const callHandler = createMockCallHandler();\n\n      // Act\n      interceptor.intercept(context, callHandler).subscribe({\n        next: () => {\n          // Assert\n          expect(auditMiddleware.logPHIAccess).not.toHaveBeenCalled();\n          done();\n        },\n      });\n    });\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 347,
        "end": 360,
        "startLoc": {
          "line": 347,
          "column": 17,
          "position": 2484
        },
        "endLoc": {
          "line": 360,
          "column": 2,
          "position": 2571
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 309,
        "end": 323,
        "startLoc": {
          "line": 309,
          "column": 22,
          "position": 2234
        },
        "endLoc": {
          "line": 323,
          "column": 3,
          "position": 2322
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ";\n      const callHandler: CallHandler = {\n        handle: jest.fn().mockReturnValue(throwError(() => error)),\n      };\n\n      // Act\n      interceptor.intercept(context, callHandler).subscribe({\n        error: () => {\n          // Assert\n          const logCall = mockAuditMiddleware.logEvent.mock.calls[0];\n          expect(logCall[3].details.duration",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 417,
        "end": 427,
        "startLoc": {
          "line": 417,
          "column": 2,
          "position": 3051
        },
        "endLoc": {
          "line": 427,
          "column": 9,
          "position": 3155
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 398,
        "end": 408,
        "startLoc": {
          "line": 398,
          "column": 48,
          "position": 2875
        },
        "endLoc": {
          "line": 408,
          "column": 11,
          "position": 2979
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n          },\n        },\n        'getHealthRecord',\n        'HealthRecordController',\n      );\n      const callHandler = createMockCallHandler();\n\n      // Act\n      interceptor.intercept(context, callHandler).subscribe({\n        next: () => {\n          // Assert\n          const logCall = mockAuditMiddleware.logPHIAccess.mock.calls[0];\n          expect(logCall[5",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 540,
        "end": 553,
        "startLoc": {
          "line": 540,
          "column": 14,
          "position": 3935
        },
        "endLoc": {
          "line": 553,
          "column": 2,
          "position": 4026
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 494,
        "end": 507,
        "startLoc": {
          "line": 494,
          "column": 8,
          "position": 3619
        },
        "endLoc": {
          "line": 507,
          "column": 2,
          "position": 3710
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n            'user-agent': 'Mozilla/5.0',\n          },\n        },\n        'getHealthRecord',\n        'HealthRecordController',\n      );\n      const callHandler = createMockCallHandler();\n\n      // Act\n      interceptor.intercept(context, callHandler).subscribe({\n        next: () => {\n          // Assert\n          const logCall = mockAuditMiddleware.logPHIAccess.mock.calls[0];\n          expect(logCall[5]).toBe('203.0.113.50'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 564,
        "end": 578,
        "startLoc": {
          "line": 564,
          "column": 15,
          "position": 4098
        },
        "endLoc": {
          "line": 578,
          "column": 15,
          "position": 4202
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 539,
        "end": 553,
        "startLoc": {
          "line": 539,
          "column": 28,
          "position": 3928
        },
        "endLoc": {
          "line": 553,
          "column": 14,
          "position": 4032
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "},\n        },\n        'getHealthRecord',\n        'HealthRecordController',\n      );\n      const callHandler = createMockCallHandler();\n\n      // Act\n      interceptor.intercept(context, callHandler).subscribe({\n        next: () => {\n          // Assert\n          const logCall = mockAuditMiddleware.logPHIAccess.mock.calls[0];\n          expect(logCall[5]).toBe('192.168.1.100'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 589,
        "end": 601,
        "startLoc": {
          "line": 589,
          "column": 2,
          "position": 4275
        },
        "endLoc": {
          "line": 601,
          "column": 16,
          "position": 4369
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 495,
        "end": 553,
        "startLoc": {
          "line": 495,
          "column": 11,
          "position": 3622
        },
        "endLoc": {
          "line": 553,
          "column": 14,
          "position": 4032
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n          headers: { 'user-agent': 'Mozilla/5.0' },\n        },\n        'getHealthRecord',\n        'HealthRecordController',\n      );\n      const callHandler = createMockCallHandler();\n\n      // Act\n      interceptor.intercept(context, callHandler).subscribe({\n        next: () => {\n          // Assert\n          const logCall = mockAuditMiddleware.logPHIAccess.mock.calls[0];\n          expect(logCall[5]).toBe('unknown'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 611,
        "end": 624,
        "startLoc": {
          "line": 611,
          "column": 10,
          "position": 4429
        },
        "endLoc": {
          "line": 624,
          "column": 10,
          "position": 4536
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/__tests__/audit.interceptor.spec.ts",
        "start": 588,
        "end": 553,
        "startLoc": {
          "line": 588,
          "column": 16,
          "position": 4262
        },
        "endLoc": {
          "line": 553,
          "column": 14,
          "position": 4032
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ".name);\n  private readonly config: Required<RbacConfig>;\n\n  constructor(\n    private readonly reflector: Reflector,\n    private readonly rbacPermissionService: RbacPermissionService,\n    @Optional() config?: RbacConfig,\n  ) {\n    this.config = {\n      enableHierarchy: true,\n      enableAuditLogging: true,\n      customPermissions: {},\n      ...config,\n    };\n  }\n\n  /**\n   * Guard activation - checks if user has required permissions\n   *\n   * @param {ExecutionContext} context - Execution context\n   * @returns {boolean} True if authorized, throws ForbiddenException otherwise\n   * @throws {ForbiddenException} When user lacks required permissions\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/core/guards/permissions.guard.ts",
        "start": 42,
        "end": 64,
        "startLoc": {
          "line": 42,
          "column": 17,
          "position": 139
        },
        "endLoc": {
          "line": 64,
          "column": 6,
          "position": 248
        }
      },
      "secondFile": {
        "name": "src/middleware/core/guards/rbac.guard.ts",
        "start": 45,
        "end": 67,
        "startLoc": {
          "line": 45,
          "column": 10,
          "position": 156
        },
        "endLoc": {
          "line": 67,
          "column": 6,
          "position": 265
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": "const hasPermission =\n      permissionsMode === 'all'\n        ? this.rbacPermissionService.hasAllPermissions(user, requiredPermissions, this.config)\n        : this.rbacPermissionService.hasAnyPermission(user, requiredPermissions, this.config);\n\n    if (!hasPermission) {\n      const missingPermissions = this.rbacPermissionService.getMissingPermissions(\n        user,\n        requiredPermissions,\n        this.config,\n      );\n\n      if (this.config.enableAuditLogging) {\n        this.rbacPermissionService.logAuthorizationAttempt(\n          'permission',\n          false,\n          user,\n          requiredPermissions,\n          missingPermissions,\n          permissionsMode,\n        );\n      }\n\n      throw new ForbiddenException(\n        `Insufficient permissions. Required (${permissionsMode}): ${requiredPermissions.join(', ')}`,\n      );\n    }\n\n    if",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/core/guards/permissions.guard.ts",
        "start": 90,
        "end": 118,
        "startLoc": {
          "line": 90,
          "column": 5,
          "position": 453
        },
        "endLoc": {
          "line": 118,
          "column": 3,
          "position": 638
        }
      },
      "secondFile": {
        "name": "src/middleware/core/guards/rbac.guard.ts",
        "start": 121,
        "end": 148,
        "startLoc": {
          "line": 121,
          "column": 7,
          "position": 698
        },
        "endLoc": {
          "line": 148,
          "column": 2,
          "position": 882
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ", () => {\n      jest.spyOn(reflector, 'getAllAndOverride')\n        .mockReturnValueOnce([Permission.READ_HEALTH_RECORDS])\n        .mockReturnValueOnce('all');\n\n      mockRequest.user = {\n        userId: 'nurse-123',\n        role: UserRole.SCHOOL_NURSE,\n        permissions: [],\n      };\n\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 326,
        "end": 337,
        "startLoc": {
          "line": 326,
          "column": 51,
          "position": 2412
        },
        "endLoc": {
          "line": 337,
          "column": 6,
          "position": 2491
        }
      },
      "secondFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 165,
        "end": 176,
        "startLoc": {
          "line": 165,
          "column": 48,
          "position": 1246
        },
        "endLoc": {
          "line": 176,
          "column": 75,
          "position": 1325
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "])\n        .mockReturnValueOnce('all');\n\n      mockRequest.user = {\n        userId: 'student-123',\n        role: UserRole.STUDENT,\n        permissions: [],\n      };\n\n      expect(() => guard.canActivate(mockExecutionContext)).toThrow(\n        ForbiddenException,\n      );\n    });\n\n    it('should allow nurse to administer medications'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 343,
        "end": 357,
        "startLoc": {
          "line": 343,
          "column": 20,
          "position": 2555
        },
        "endLoc": {
          "line": 357,
          "column": 47,
          "position": 2641
        }
      },
      "secondFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 261,
        "end": 275,
        "startLoc": {
          "line": 261,
          "column": 13,
          "position": 1959
        },
        "endLoc": {
          "line": 275,
          "column": 61,
          "position": 2045
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "])\n        .mockReturnValueOnce('all');\n\n      mockRequest.user = {\n        userId: 'nurse-123',\n        role: UserRole.SCHOOL_NURSE,\n        permissions: [],\n      };\n\n      const result = guard.canActivate(mockExecutionContext);\n      expect(result).toBe(true);\n    });\n\n    it('should prevent unauthorized export of PHI data'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 359,
        "end": 372,
        "startLoc": {
          "line": 359,
          "column": 23,
          "position": 2670
        },
        "endLoc": {
          "line": 372,
          "column": 49,
          "position": 2756
        }
      },
      "secondFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 328,
        "end": 341,
        "startLoc": {
          "line": 328,
          "column": 20,
          "position": 2440
        },
        "endLoc": {
          "line": 341,
          "column": 70,
          "position": 2526
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "])\n        .mockReturnValueOnce('all');\n\n      mockRequest.user = {\n        userId: 'nurse-123',\n        role: UserRole.SCHOOL_NURSE,\n        permissions: [],\n      };\n\n      expect(() => guard.canActivate(mockExecutionContext)).toThrow(\n        ForbiddenException,\n      );\n    });\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 374,
        "end": 387,
        "startLoc": {
          "line": 374,
          "column": 12,
          "position": 2785
        },
        "endLoc": {
          "line": 387,
          "column": 2,
          "position": 2868
        }
      },
      "secondFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 293,
        "end": 307,
        "startLoc": {
          "line": 293,
          "column": 14,
          "position": 2189
        },
        "endLoc": {
          "line": 307,
          "column": 3,
          "position": 2273
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const loggerSpy = jest.spyOn(guard['logger'], 'debug');\n\n      jest.spyOn(reflector, 'getAllAndOverride')\n        .mockReturnValueOnce([Permission.READ_STUDENT_BASIC])\n        .mockReturnValueOnce('all');\n\n      mockRequest.user.permissions = [Permission.READ_STUDENT_BASIC];\n\n      guard.canActivate(mockExecutionContext);\n\n      expect(loggerSpy).not",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 466,
        "end": 476,
        "startLoc": {
          "line": 466,
          "column": 7,
          "position": 3412
        },
        "endLoc": {
          "line": 476,
          "column": 4,
          "position": 3497
        }
      },
      "secondFile": {
        "name": "src/middleware/core/guards/permissions.guard.spec.ts",
        "start": 391,
        "end": 401,
        "startLoc": {
          "line": 391,
          "column": 7,
          "position": 2900
        },
        "endLoc": {
          "line": 401,
          "column": 21,
          "position": 2985
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "const context: MiddlewareContext = {\n            startTime: Date.now(),\n            correlationId:\n              wrappedRequest.correlationId ||\n              `req-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n            framework: 'hapi',\n            environment: process.env.NODE_ENV || 'development',\n            metadata: {},\n          };\n\n          try {\n            await",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/adapters/hapi/hapi.adapter.ts",
        "start": 473,
        "end": 484,
        "startLoc": {
          "line": 473,
          "column": 11,
          "position": 2954
        },
        "endLoc": {
          "line": 484,
          "column": 6,
          "position": 3061
        }
      },
      "secondFile": {
        "name": "src/middleware/adapters/hapi/hapi.adapter.ts",
        "start": 292,
        "end": 303,
        "startLoc": {
          "line": 292,
          "column": 9,
          "position": 1752
        },
        "endLoc": {
          "line": 303,
          "column": 45,
          "position": 1859
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "implements IRequest {\n  public readonly method: string;\n  public readonly url: string;\n  public readonly path: string;\n  public readonly headers: Record<string, string | string[]>;\n  public readonly query: Record<string, any>;\n  public readonly params: Record<string, any>;\n  public readonly body: any;\n  public readonly ip: string;\n  public readonly userAgent?: string;\n  public readonly correlationId?: string;\n  public readonly sessionId?: string;\n  public readonly user?: any;\n  public readonly metadata: Record<string, any> = {};\n\n  constructor(private expressRequest",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/adapters/express/express.adapter.ts",
        "start": 49,
        "end": 64,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 88
        },
        "endLoc": {
          "line": 64,
          "column": 15,
          "position": 282
        }
      },
      "secondFile": {
        "name": "src/middleware/adapters/hapi/hapi.adapter.ts",
        "start": 47,
        "end": 62,
        "startLoc": {
          "line": 47,
          "column": 2,
          "position": 82
        },
        "endLoc": {
          "line": 62,
          "column": 12,
          "position": 276
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ";\n  }\n\n  getHeader(name: string): string | string[] | undefined {\n    return this.headers[name.toLowerCase()];\n  }\n\n  setMetadata(key: string, value: any): void {\n    this.metadata[key] = value;\n  }\n\n  getMetadata<T = any>(key: string): T | undefined {\n    return this.metadata[key];\n  }\n\n  getRawRequest(): Request {\n    return this.expressRequest",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/adapters/express/express.adapter.ts",
        "start": 79,
        "end": 95,
        "startLoc": {
          "line": 79,
          "column": 5,
          "position": 476
        },
        "endLoc": {
          "line": 95,
          "column": 15,
          "position": 617
        }
      },
      "secondFile": {
        "name": "src/middleware/adapters/hapi/hapi.adapter.ts",
        "start": 74,
        "end": 90,
        "startLoc": {
          "line": 74,
          "column": 12,
          "position": 486
        },
        "endLoc": {
          "line": 90,
          "column": 12,
          "position": 627
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "(data: any): any {\n        if (!data) return data;\n\n        // Remove common sensitive fields\n        const sensitiveFields = [\n          'ssn',\n          'socialSecurityNumber',\n          'password',\n          'token',\n        ];\n\n        if (typeof data === 'object') {\n          const sanitized = { ...data };\n          sensitiveFields.forEach((field) => {\n            if (sanitized[field]) {\n              delete sanitized[field];\n            }\n          });\n          return sanitized;\n        }\n\n        return data;\n      };",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/adapters/express/express.adapter.ts",
        "start": 380,
        "end": 402,
        "startLoc": {
          "line": 380,
          "column": 2,
          "position": 2411
        },
        "endLoc": {
          "line": 402,
          "column": 2,
          "position": 2560
        }
      },
      "secondFile": {
        "name": "src/middleware/adapters/hapi/hapi.adapter.ts",
        "start": 428,
        "end": 454,
        "startLoc": {
          "line": 428,
          "column": 17,
          "position": 2619
        },
        "endLoc": {
          "line": 454,
          "column": 6,
          "position": 2771
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "(\n    client: AuthenticatedSocket,\n    server: Server,\n    data: Partial<MessageEventDto>,\n  ): Promise<void> {\n    const user = client.user;\n\n    if (!user) {\n      throw new WsException('Authentication required');\n    }\n\n    // Rate limiting check\n    const allowed = await this.rateLimiter.checkLimit(user.userId, 'message:edit'",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/services/message-handler.service.ts",
        "start": 103,
        "end": 115,
        "startLoc": {
          "line": 103,
          "column": 18,
          "position": 676
        },
        "endLoc": {
          "line": 115,
          "column": 15,
          "position": 774
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/services/message-handler.service.ts",
        "start": 28,
        "end": 40,
        "startLoc": {
          "line": 28,
          "column": 18,
          "position": 151
        },
        "endLoc": {
          "line": 40,
          "column": 15,
          "position": 249
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "(\n    client: AuthenticatedSocket,\n    server: Server,\n    data: Partial<MessageEventDto>,\n  ): Promise<void> {\n    const user = client.user;\n\n    if (!user) {\n      throw new WsException('Authentication required');\n    }\n\n    // Rate limiting check\n    const allowed = await this.rateLimiter.checkLimit(user.userId, 'message:delete'",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/services/message-handler.service.ts",
        "start": 166,
        "end": 178,
        "startLoc": {
          "line": 166,
          "column": 20,
          "position": 1110
        },
        "endLoc": {
          "line": 178,
          "column": 17,
          "position": 1208
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/services/message-handler.service.ts",
        "start": 28,
        "end": 40,
        "startLoc": {
          "line": 28,
          "column": 18,
          "position": 151
        },
        "endLoc": {
          "line": 40,
          "column": 15,
          "position": 249
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n        userId: user.userId,\n        organizationId: user.organizationId,\n      });\n\n      if (!conversationDto.validateUser(user.userId)) {\n        throw new WsException('Invalid user');\n      }\n\n      if (!conversationDto.validateOrganization(user.organizationId)) {\n        throw new WsException('Invalid organization');\n      }\n\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/services/conversation-handler.service.ts",
        "start": 109,
        "end": 122,
        "startLoc": {
          "line": 109,
          "column": 8,
          "position": 695
        },
        "endLoc": {
          "line": 122,
          "column": 6,
          "position": 786
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/services/conversation-handler.service.ts",
        "start": 50,
        "end": 63,
        "startLoc": {
          "line": 50,
          "column": 7,
          "position": 302
        },
        "endLoc": {
          "line": 63,
          "column": 75,
          "position": 393
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ", event: string, data: unknown): Promise<void> {\n    try {\n      const server = this.getServer();\n\n      if (!server) {\n        this.logger.warn('WebSocket server not initialized, cannot broadcast message');\n        return;\n      }\n\n      const message = new BroadcastMessageDto({\n        ...data as Record<string, any>,\n        timestamp: new Date().toISOString(),\n      });\n\n      for",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/services/broadcast.service.ts",
        "start": 50,
        "end": 64,
        "startLoc": {
          "line": 50,
          "column": 2,
          "position": 351
        },
        "endLoc": {
          "line": 64,
          "column": 4,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/services/broadcast.service.ts",
        "start": 20,
        "end": 34,
        "startLoc": {
          "line": 20,
          "column": 7,
          "position": 108
        },
        "endLoc": {
          "line": 34,
          "column": 7,
          "position": 229
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "${event.appointment.id}`,\n    );\n\n    try {\n      const payload: AppointmentWebSocketPayload = {\n        appointmentId: event.appointment.id,\n        studentId: event.appointment.studentId,\n        nurseId: event.appointment.nurseId,\n        type: event.appointment.type,\n        scheduledAt: event.appointment.scheduledAt.toISOString(),\n        duration: event.appointment.duration,\n        status: event.appointment.status,\n        reason: event.appointment.reason,\n        timestamp: event.occurredAt.toISOString(),\n        eventType: 'appointment:updated'",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/listeners/appointment.listener.ts",
        "start": 163,
        "end": 177,
        "startLoc": {
          "line": 163,
          "column": 36,
          "position": 720
        },
        "endLoc": {
          "line": 177,
          "column": 22,
          "position": 861
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/listeners/appointment.listener.ts",
        "start": 90,
        "end": 104,
        "startLoc": {
          "line": 90,
          "column": 36,
          "position": 275
        },
        "endLoc": {
          "line": 104,
          "column": 22,
          "position": 416
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${event.appointment.id}`,\n    );\n\n    try {\n      const payload: AppointmentWebSocketPayload = {\n        appointmentId: event.appointment.id,\n        studentId: event.appointment.studentId,\n        nurseId: event.appointment.nurseId,\n        type: event.appointment.type,\n        scheduledAt: event.appointment.scheduledAt.toISOString(),\n        duration: event.appointment.duration,\n        status: 'IN_PROGRESS'",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/listeners/appointment.listener.ts",
        "start": 314,
        "end": 325,
        "startLoc": {
          "line": 314,
          "column": 36,
          "position": 1650
        },
        "endLoc": {
          "line": 325,
          "column": 14,
          "position": 1756
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/listeners/appointment.listener.ts",
        "start": 90,
        "end": 101,
        "startLoc": {
          "line": 90,
          "column": 36,
          "position": 275
        },
        "endLoc": {
          "line": 101,
          "column": 6,
          "position": 381
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${event.appointment.id}`,\n    );\n\n    if (!this.websocketService || !this.websocketService.isInitialized()) {\n      this.logger.warn('WebSocket service not initialized, skipping notification');\n      return;\n    }\n\n    try {\n      const payload = {\n        appointmentId: event.appointment.id,\n        studentId: event.appointment.studentId,\n        nurseId: event.appointment.nurseId,\n        type: event.appointment.type,\n        scheduledAt: event.appointment.scheduledAt,\n        duration: event.appointment.duration,\n        status: event.appointment.status,\n        changes",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 109,
        "end": 126,
        "startLoc": {
          "line": 109,
          "column": 42,
          "position": 547
        },
        "endLoc": {
          "line": 126,
          "column": 8,
          "position": 696
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 56,
        "end": 73,
        "startLoc": {
          "line": 56,
          "column": 42,
          "position": 193
        },
        "endLoc": {
          "line": 73,
          "column": 10,
          "position": 342
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "${event.appointment.id}`,\n    );\n\n    if (!this.websocketService || !this.websocketService.isInitialized()) {\n      this.logger.warn('WebSocket service not initialized, skipping notification');\n      return;\n    }\n\n    try {\n      const payload = {\n        appointmentId: event.appointment.id,\n        studentId: event.appointment.studentId,\n        nurseId: event.appointment.nurseId,\n        status",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 214,
        "end": 227,
        "startLoc": {
          "line": 214,
          "column": 42,
          "position": 1245
        },
        "endLoc": {
          "line": 227,
          "column": 7,
          "position": 1350
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 56,
        "end": 69,
        "startLoc": {
          "line": 56,
          "column": 42,
          "position": 193
        },
        "endLoc": {
          "line": 69,
          "column": 5,
          "position": 298
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "${event.appointment.id}`,\n    );\n\n    if (!this.websocketService || !this.websocketService.isInitialized()) {\n      this.logger.warn('WebSocket service not initialized, skipping notification');\n      return;\n    }\n\n    try {\n      const payload = {\n        appointmentId: event.appointment.id,\n        studentId: event.appointment.studentId,\n        nurseId: event.appointment.nurseId,\n        status: 'COMPLETED'",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 264,
        "end": 277,
        "startLoc": {
          "line": 264,
          "column": 44,
          "position": 1567
        },
        "endLoc": {
          "line": 277,
          "column": 12,
          "position": 1675
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 56,
        "end": 227,
        "startLoc": {
          "line": 56,
          "column": 42,
          "position": 193
        },
        "endLoc": {
          "line": 227,
          "column": 14,
          "position": 1353
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "${event.appointment.id}`,\n    );\n\n    if (!this.websocketService || !this.websocketService.isInitialized()) {\n      this.logger.warn('WebSocket service not initialized, skipping notification');\n      return;\n    }\n\n    try {\n      const payload = {\n        appointmentId: event.appointment.id,\n        studentId: event.appointment.studentId,\n        nurseId: event.appointment.nurseId,\n        status: 'NO_SHOW'",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 313,
        "end": 326,
        "startLoc": {
          "line": 313,
          "column": 42,
          "position": 1893
        },
        "endLoc": {
          "line": 326,
          "column": 10,
          "position": 2001
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 56,
        "end": 227,
        "startLoc": {
          "line": 56,
          "column": 42,
          "position": 193
        },
        "endLoc": {
          "line": 227,
          "column": 14,
          "position": 1353
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "${event.appointment.id}`,\n    );\n\n    if (!this.websocketService || !this.websocketService.isInitialized()) {\n      this.logger.warn('WebSocket service not initialized, skipping notification');\n      return;\n    }\n\n    try {\n      const payload = {\n        appointmentId: event.appointment.id,\n        studentId: event.appointment.studentId,\n        scheduledAt",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 358,
        "end": 370,
        "startLoc": {
          "line": 358,
          "column": 43,
          "position": 2185
        },
        "endLoc": {
          "line": 370,
          "column": 12,
          "position": 2279
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 56,
        "end": 68,
        "startLoc": {
          "line": 56,
          "column": 42,
          "position": 193
        },
        "endLoc": {
          "line": 68,
          "column": 8,
          "position": 287
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "${event.appointment.id}`,\n    );\n\n    if (!this.websocketService || !this.websocketService.isInitialized()) {\n      this.logger.warn('WebSocket service not initialized, skipping notification');\n      return;\n    }\n\n    try {\n      const payload = {\n        appointmentId: event.appointment.id,\n        studentId: event.appointment.studentId,\n        nurseId: event.appointment.nurseId,\n        oldScheduledAt",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 403,
        "end": 416,
        "startLoc": {
          "line": 403,
          "column": 46,
          "position": 2473
        },
        "endLoc": {
          "line": 416,
          "column": 15,
          "position": 2578
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/listeners/appointment-events.listener.ts",
        "start": 56,
        "end": 69,
        "startLoc": {
          "line": 56,
          "column": 42,
          "position": 193
        },
        "endLoc": {
          "line": 69,
          "column": 5,
          "position": 298
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ";\n\n\n/**\n * JWT payload structure\n */\ninterface JwtPayload {\n  sub?: string;\n  userId?: string;\n  id?: string;\n  organizationId?: string;\n  schoolId?: string;\n  districtId?: string;\n  role?: string;\n  email?: string;\n  [key: string]: unknown;\n}\n\n@",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/guards/ws-jwt-auth.guard.ts",
        "start": 23,
        "end": 41,
        "startLoc": {
          "line": 23,
          "column": 9,
          "position": 90
        },
        "endLoc": {
          "line": 41,
          "column": 2,
          "position": 181
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/middleware/ws-auth.middleware.ts",
        "start": 28,
        "end": 46,
        "startLoc": {
          "line": 28,
          "column": 29,
          "position": 78
        },
        "endLoc": {
          "line": 46,
          "column": 6,
          "position": 169
        }
      }
    },
    {
      "format": "typescript",
      "lines": 36,
      "fragment": ");\n    }\n\n    Object.assign(this, partial);\n\n    // Set timestamp if not provided\n    if (!this.timestamp) {\n      this.timestamp = new Date().toISOString();\n    }\n  }\n\n  /**\n   * Validates that the user matches the authenticated user\n   *\n   * @param userId - The authenticated user ID\n   * @returns True if user matches, false otherwise\n   */\n  validateUser(userId: string): boolean {\n    return this.userId === userId;\n  }\n\n  /**\n   * Validates that the organization matches the authenticated user's organization\n   *\n   * @param organizationId - The authenticated user's organization ID\n   * @returns True if organization matches, false otherwise\n   */\n  validateOrganization(organizationId: string): boolean {\n    return this.organizationId === organizationId;\n  }\n\n  /**\n   * Checks if this is a join action\n   *\n   * @returns True if joining, false otherwise\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/dto/conversation-event.dto.ts",
        "start": 117,
        "end": 152,
        "startLoc": {
          "line": 117,
          "column": 31,
          "position": 340
        },
        "endLoc": {
          "line": 152,
          "column": 6,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/dto/typing-indicator.dto.ts",
        "start": 76,
        "end": 113,
        "startLoc": {
          "line": 76,
          "column": 29,
          "position": 205
        },
        "endLoc": {
          "line": 113,
          "column": 6,
          "position": 332
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "}`);\n\n    try {\n      // 1. Validate and normalize phone number\n      const validation = await this.phoneValidator.validatePhoneNumber(to);\n      if (!validation.isValid) {\n        throw new Error(`Invalid phone number: ${validation.error}`);\n      }\n\n      const normalizedPhone = validation.e164Format;\n\n      // 2. Check rate limits\n      await this.checkRateLimits(normalizedPhone);\n\n      // 3. Prepare message",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/sms/services/sms-sender.service.ts",
        "start": 93,
        "end": 107,
        "startLoc": {
          "line": 93,
          "column": 3,
          "position": 671
        },
        "endLoc": {
          "line": 107,
          "column": 22,
          "position": 766
        }
      },
      "secondFile": {
        "name": "src/infrastructure/sms/services/sms-sender.service.ts",
        "start": 44,
        "end": 58,
        "startLoc": {
          "line": 44,
          "column": 6,
          "position": 291
        },
        "endLoc": {
          "line": 58,
          "column": 27,
          "position": 386
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "}`);\n\n    try {\n      // Validate phone number\n      const validation = await this.phoneValidator.validatePhoneNumber(to);\n      if (!validation.isValid) {\n        throw new Error(`Invalid phone number: ${validation.error}`);\n      }\n\n      const normalizedPhone = validation.e164Format;\n\n      // Check rate limits\n      await this.checkRateLimits(normalizedPhone);\n\n      // Render template",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/sms/services/sms-sender.service.ts",
        "start": 200,
        "end": 214,
        "startLoc": {
          "line": 200,
          "column": 3,
          "position": 1504
        },
        "endLoc": {
          "line": 214,
          "column": 19,
          "position": 1599
        }
      },
      "secondFile": {
        "name": "src/infrastructure/sms/services/sms-sender.service.ts",
        "start": 139,
        "end": 153,
        "startLoc": {
          "line": 139,
          "column": 9,
          "position": 1009
        },
        "endLoc": {
          "line": 153,
          "column": 57,
          "position": 1104
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ": new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      const errorStack = error instanceof Error ? error.stack : undefined;\n\n      this.logger.error(`Indexing failed: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/message-indexing.processor.ts",
        "start": 67,
        "end": 80,
        "startLoc": {
          "line": 67,
          "column": 10,
          "position": 475
        },
        "endLoc": {
          "line": 80,
          "column": 19,
          "position": 614
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 72,
        "end": 85,
        "startLoc": {
          "line": 72,
          "column": 7,
          "position": 496
        },
        "endLoc": {
          "line": 85,
          "column": 31,
          "position": 635
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${errorMessage}`, errorStack);\n\n      return {\n        success: false,\n        error: {\n          message: errorMessage,\n          stack: errorStack,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    }\n  }\n\n  private async indexMessage",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/message-indexing.processor.ts",
        "start": 80,
        "end": 97,
        "startLoc": {
          "line": 80,
          "column": 19,
          "position": 615
        },
        "endLoc": {
          "line": 97,
          "column": 13,
          "position": 712
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 85,
        "end": 102,
        "startLoc": {
          "line": 85,
          "column": 31,
          "position": 636
        },
        "endLoc": {
          "line": 102,
          "column": 21,
          "position": 733
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      const errorStack = error instanceof Error ? error.stack : undefined;\n\n      this.logger.error(\n        `",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/message-encryption.processor.ts",
        "start": 67,
        "end": 81,
        "startLoc": {
          "line": 67,
          "column": 7,
          "position": 497
        },
        "endLoc": {
          "line": 81,
          "column": 2,
          "position": 631
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 72,
        "end": 85,
        "startLoc": {
          "line": 72,
          "column": 2,
          "position": 503
        },
        "endLoc": {
          "line": 85,
          "column": 31,
          "position": 635
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ",\n          sentAt: new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      const errorStack = error instanceof Error ? error.stack : undefined;\n\n      this.logger.error(\n        `Failed to send message ",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/message-delivery.processor.ts",
        "start": 66,
        "end": 81,
        "startLoc": {
          "line": 66,
          "column": 10,
          "position": 419
        },
        "endLoc": {
          "line": 81,
          "column": 25,
          "position": 564
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 71,
        "end": 85,
        "startLoc": {
          "line": 71,
          "column": 5,
          "position": 492
        },
        "endLoc": {
          "line": 85,
          "column": 31,
          "position": 635
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "${job.data.messageId}: ${errorMessage}`,\n        errorStack,\n      );\n\n      return {\n        success: false,\n        error: {\n          message: errorMessage,\n          stack: errorStack,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    }\n  }\n\n  /**\n   * Process delivery confirmation job\n   * Updates message delivery status\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/message-delivery.processor.ts",
        "start": 81,
        "end": 103,
        "startLoc": {
          "line": 81,
          "column": 25,
          "position": 565
        },
        "endLoc": {
          "line": 103,
          "column": 6,
          "position": 670
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-encryption.processor.ts",
        "start": 81,
        "end": 100,
        "startLoc": {
          "line": 81,
          "column": 21,
          "position": 640
        },
        "endLoc": {
          "line": 100,
          "column": 8,
          "position": 745
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ": new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      const errorStack = error instanceof Error ? error.stack : undefined;\n\n      this.logger.error(`Failed to process delivery confirmation: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/message-delivery.processor.ts",
        "start": 130,
        "end": 143,
        "startLoc": {
          "line": 130,
          "column": 12,
          "position": 870
        },
        "endLoc": {
          "line": 143,
          "column": 43,
          "position": 1009
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 72,
        "end": 85,
        "startLoc": {
          "line": 72,
          "column": 7,
          "position": 496
        },
        "endLoc": {
          "line": 85,
          "column": 31,
          "position": 635
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "${errorMessage}`, errorStack);\n\n      return {\n        success: false,\n        error: {\n          message: errorMessage,\n          stack: errorStack,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    }\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/message-delivery.processor.ts",
        "start": 143,
        "end": 159,
        "startLoc": {
          "line": 143,
          "column": 43,
          "position": 1010
        },
        "endLoc": {
          "line": 159,
          "column": 2,
          "position": 1101
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 85,
        "end": 102,
        "startLoc": {
          "line": 85,
          "column": 31,
          "position": 636
        },
        "endLoc": {
          "line": 102,
          "column": 8,
          "position": 729
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ": new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      const errorStack = error instanceof Error ? error.stack : undefined;\n\n      this.logger.error(`Cleanup failed: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/message-cleanup.processor.ts",
        "start": 70,
        "end": 83,
        "startLoc": {
          "line": 70,
          "column": 12,
          "position": 480
        },
        "endLoc": {
          "line": 83,
          "column": 18,
          "position": 619
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 72,
        "end": 85,
        "startLoc": {
          "line": 72,
          "column": 7,
          "position": 496
        },
        "endLoc": {
          "line": 85,
          "column": 31,
          "position": 635
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${errorMessage}`, errorStack);\n\n      return {\n        success: false,\n        error: {\n          message: errorMessage,\n          stack: errorStack,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    }\n  }\n\n  private async cleanupOldMessages",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/message-cleanup.processor.ts",
        "start": 83,
        "end": 100,
        "startLoc": {
          "line": 83,
          "column": 18,
          "position": 620
        },
        "endLoc": {
          "line": 100,
          "column": 19,
          "position": 717
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 85,
        "end": 102,
        "startLoc": {
          "line": 85,
          "column": 31,
          "position": 636
        },
        "endLoc": {
          "line": 102,
          "column": 21,
          "position": 733
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n          sentAt: new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      const errorStack = error instanceof Error ? error.stack : undefined;\n\n      this.logger.error(`Batch message failed: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/batch-message.processor.ts",
        "start": 70,
        "end": 84,
        "startLoc": {
          "line": 70,
          "column": 15,
          "position": 543
        },
        "endLoc": {
          "line": 84,
          "column": 24,
          "position": 686
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 71,
        "end": 85,
        "startLoc": {
          "line": 71,
          "column": 5,
          "position": 492
        },
        "endLoc": {
          "line": 85,
          "column": 31,
          "position": 635
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${errorMessage}`, errorStack);\n\n      return {\n        success: false,\n        error: {\n          message: errorMessage,\n          stack: errorStack,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    }\n  }\n\n  private async sendToRecipients",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/processors/batch-message.processor.ts",
        "start": 84,
        "end": 101,
        "startLoc": {
          "line": 84,
          "column": 24,
          "position": 687
        },
        "endLoc": {
          "line": 101,
          "column": 17,
          "position": 784
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 85,
        "end": 102,
        "startLoc": {
          "line": 85,
          "column": 31,
          "position": 636
        },
        "endLoc": {
          "line": 102,
          "column": 21,
          "position": 733
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ";\n\n  /**\n   * Job creation timestamp\n   */\n  @IsDateString()\n  createdAt: Date;\n\n  /**\n   * User who initiated the job\n   */\n  @IsString()\n  @IsOptional()\n  initiatedBy?: string;\n\n  /**\n   * Job identifier\n   */\n  @IsString()\n  @IsOptional()\n  jobId?: string;\n\n  /**\n   * Additional metadata\n   */\n  @IsObject()\n  @IsOptional()\n  metadata?: Record<string, any>;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 125,
        "end": 153,
        "startLoc": {
          "line": 125,
          "column": 2,
          "position": 481
        },
        "endLoc": {
          "line": 153,
          "column": 2,
          "position": 578
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/dtos/notification-job.dto.ts",
        "start": 219,
        "end": 247,
        "startLoc": {
          "line": 219,
          "column": 7,
          "position": 823
        },
        "endLoc": {
          "line": 247,
          "column": 2,
          "position": 920
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": ": string;\n\n  /**\n   * Job creation timestamp\n   */\n  @IsDateString()\n  createdAt: Date;\n\n  /**\n   * User who initiated the job\n   */\n  @IsString()\n  @IsOptional()\n  initiatedBy?: string;\n\n  /**\n   * Job identifier\n   */\n  @IsString()\n  @IsOptional()\n  jobId?: string;\n\n  /**\n   * Additional metadata\n   */\n  @IsObject()\n  @IsOptional()\n  metadata?: Record<string, any>;\n}\n\n/**\n * DTO for batch message job\n * Handles sending messages to multiple recipients\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 202,
        "end": 235,
        "startLoc": {
          "line": 202,
          "column": 2,
          "position": 743
        },
        "endLoc": {
          "line": 235,
          "column": 4,
          "position": 846
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/dtos/notification-job.dto.ts",
        "start": 219,
        "end": 158,
        "startLoc": {
          "line": 219,
          "column": 8,
          "position": 820
        },
        "endLoc": {
          "line": 158,
          "column": 4,
          "position": 581
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": ";\n\n  /**\n   * Job creation timestamp\n   */\n  @IsDateString()\n  createdAt: Date;\n\n  /**\n   * User who initiated the job\n   */\n  @IsString()\n  @IsOptional()\n  initiatedBy?: string;\n\n  /**\n   * Job identifier\n   */\n  @IsString()\n  @IsOptional()\n  jobId?: string;\n\n  /**\n   * Additional metadata\n   */\n  @IsObject()\n  @IsOptional()\n  metadata?: Record<string, any>;\n}\n\n/**\n * DTO for message cleanup job\n * Handles old message cleanup and retention policies\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 291,
        "end": 324,
        "startLoc": {
          "line": 291,
          "column": 7,
          "position": 1094
        },
        "endLoc": {
          "line": 324,
          "column": 4,
          "position": 1194
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/dtos/notification-job.dto.ts",
        "start": 219,
        "end": 158,
        "startLoc": {
          "line": 219,
          "column": 7,
          "position": 823
        },
        "endLoc": {
          "line": 158,
          "column": 4,
          "position": 581
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "?: number;\n\n  /**\n   * Job creation timestamp\n   */\n  @IsDateString()\n  createdAt: Date;\n\n  /**\n   * User who initiated the job\n   */\n  @IsString()\n  @IsOptional()\n  initiatedBy?: string;\n\n  /**\n   * Job identifier\n   */\n  @IsString()\n  @IsOptional()\n  jobId?: string;\n\n  /**\n   * Additional metadata\n   */\n  @IsObject()\n  @IsOptional()\n  metadata?: Record<string, any>;\n}\n\n/**\n * DTO for delivery confirmation job\n * Tracks message delivery status\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 349,
        "end": 382,
        "startLoc": {
          "line": 349,
          "column": 10,
          "position": 1303
        },
        "endLoc": {
          "line": 382,
          "column": 4,
          "position": 1407
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 291,
        "end": 158,
        "startLoc": {
          "line": 291,
          "column": 11,
          "position": 1090
        },
        "endLoc": {
          "line": 158,
          "column": 4,
          "position": 581
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "?: string;\n\n  /**\n   * Job creation timestamp\n   */\n  @IsDateString()\n  createdAt: Date;\n\n  /**\n   * User who initiated the job\n   */\n  @IsString()\n  @IsOptional()\n  initiatedBy?: string;\n\n  /**\n   * Job identifier\n   */\n  @IsString()\n  @IsOptional()\n  jobId?: string;\n\n  /**\n   * Additional metadata\n   */\n  @IsObject()\n  @IsOptional()\n  metadata?: Record<string, any>;\n}\n\n/**\n * DTO for encryption job\n * Handles message encryption/decryption\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 425,
        "end": 458,
        "startLoc": {
          "line": 425,
          "column": 14,
          "position": 1563
        },
        "endLoc": {
          "line": 458,
          "column": 4,
          "position": 1667
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 202,
        "end": 158,
        "startLoc": {
          "line": 202,
          "column": 10,
          "position": 742
        },
        "endLoc": {
          "line": 158,
          "column": 4,
          "position": 581
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "?: string;\n\n  /**\n   * Job creation timestamp\n   */\n  @IsDateString()\n  createdAt: Date;\n\n  /**\n   * User who initiated the job\n   */\n  @IsString()\n  @IsOptional()\n  initiatedBy?: string;\n\n  /**\n   * Job identifier\n   */\n  @IsString()\n  @IsOptional()\n  jobId?: string;\n\n  /**\n   * Additional metadata\n   */\n  @IsObject()\n  @IsOptional()\n  metadata?: Record<string, any>;\n}\n\n/**\n * DTO for indexing job\n * Handles message search indexing\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 493,
        "end": 526,
        "startLoc": {
          "line": 493,
          "column": 10,
          "position": 1801
        },
        "endLoc": {
          "line": 526,
          "column": 4,
          "position": 1905
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 202,
        "end": 158,
        "startLoc": {
          "line": 202,
          "column": 10,
          "position": 742
        },
        "endLoc": {
          "line": 158,
          "column": 4,
          "position": 581
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ";\n\n  /**\n   * Job creation timestamp\n   */\n  @IsDateString()\n  createdAt: Date;\n\n  /**\n   * User who initiated the job\n   */\n  @IsString()\n  @IsOptional()\n  initiatedBy?: string;\n\n  /**\n   * Job identifier\n   */\n  @IsString()\n  @IsOptional()\n  jobId?: string;\n\n  /**\n   * Additional metadata\n   */\n  @IsObject()\n  @IsOptional()\n  metadata?: Record<string, any>;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 568,
        "end": 596,
        "startLoc": {
          "line": 568,
          "column": 5,
          "position": 2075
        },
        "endLoc": {
          "line": 596,
          "column": 2,
          "position": 2172
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/dtos/notification-job.dto.ts",
        "start": 219,
        "end": 247,
        "startLoc": {
          "line": 219,
          "column": 7,
          "position": 823
        },
        "endLoc": {
          "line": 247,
          "column": 2,
          "position": 920
        }
      }
    },
    {
      "format": "typescript",
      "lines": 36,
      "fragment": ")\n  @IsOptional()\n  chunkDelay?: number;\n\n  /**\n   * Job creation timestamp\n   */\n  @IsDateString()\n  createdAt: Date;\n\n  /**\n   * User who initiated the job\n   */\n  @IsString()\n  @IsOptional()\n  initiatedBy?: string;\n\n  /**\n   * Job identifier\n   */\n  @IsString()\n  @IsOptional()\n  jobId?: string;\n\n  /**\n   * Additional metadata\n   */\n  @IsObject()\n  @IsOptional()\n  metadata?: Record<string, any>;\n}\n\n/**\n * DTO for message cleanup job\n * Handles deletion of old messages\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/dtos/batch-message-job.dto.ts",
        "start": 138,
        "end": 173,
        "startLoc": {
          "line": 138,
          "column": 2,
          "position": 537
        },
        "endLoc": {
          "line": 173,
          "column": 4,
          "position": 651
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/dtos/message-job.dto.ts",
        "start": 289,
        "end": 158,
        "startLoc": {
          "line": 289,
          "column": 5,
          "position": 1080
        },
        "endLoc": {
          "line": 158,
          "column": 4,
          "position": 581
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ";\n\n  /**\n   * Job creation timestamp\n   */\n  @IsDateString()\n  createdAt: Date;\n\n  /**\n   * User who initiated the job\n   */\n  @IsString()\n  @IsOptional()\n  initiatedBy?: string;\n\n  /**\n   * Job identifier\n   */\n  @IsString()\n  @IsOptional()\n  jobId?: string;\n\n  /**\n   * Additional metadata\n   */\n  @IsObject()\n  @IsOptional()\n  metadata?: Record<string, any>;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/dtos/batch-message-job.dto.ts",
        "start": 226,
        "end": 254,
        "startLoc": {
          "line": 226,
          "column": 8,
          "position": 890
        },
        "endLoc": {
          "line": 254,
          "column": 2,
          "position": 987
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/dtos/notification-job.dto.ts",
        "start": 219,
        "end": 247,
        "startLoc": {
          "line": 219,
          "column": 7,
          "position": 823
        },
        "endLoc": {
          "line": 247,
          "column": 2,
          "position": 920
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": ";\nimport type { GraphQLContext } from '../types/context.interface';\nimport { PHIField } from '@/infrastructure/graphql/guards';\n\n\n/**\n * GraphQL context structure\n */\ninterface GraphQLContext {\n  req?: {\n    user?: {\n      userId: string;\n      organizationId: string;\n      role: string;\n      [key: string]: unknown;\n    };\n    [key: string]: unknown;\n  };\n  [key: string]: unknown;\n}\n\n/**\n * Health record model type\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/resolvers/health-record.resolver.ts",
        "start": 33,
        "end": 56,
        "startLoc": {
          "line": 33,
          "column": 18,
          "position": 145
        },
        "endLoc": {
          "line": 56,
          "column": 4,
          "position": 267
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/resolvers/student.resolver.ts",
        "start": 31,
        "end": 54,
        "startLoc": {
          "line": 31,
          "column": 12,
          "position": 154
        },
        "endLoc": {
          "line": 54,
          "column": 4,
          "position": 276
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ";\n\n\n/**\n * GraphQL context structure\n */\ninterface GraphQLContext {\n  req?: {\n    user?: {\n      userId: string;\n      organizationId: string;\n      role: string;\n      [key: string]: unknown;\n    };\n    [key: string]: unknown;\n  };\n  [key: string]: unknown;\n}\n\n\n/**\n * GraphQL context structure\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/resolvers/contact.resolver.ts",
        "start": 30,
        "end": 52,
        "startLoc": {
          "line": 30,
          "column": 29,
          "position": 184
        },
        "endLoc": {
          "line": 52,
          "column": 4,
          "position": 279
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/resolvers/student.resolver.ts",
        "start": 33,
        "end": 54,
        "startLoc": {
          "line": 33,
          "column": 34,
          "position": 182
        },
        "endLoc": {
          "line": 54,
          "column": 4,
          "position": 276
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "/**\n * GraphQL context structure\n */\ninterface GraphQLContext {\n  req?: {\n    user?: {\n      userId: string;\n      organizationId: string;\n      role: string;\n      [key: string]: unknown;\n    };\n    [key: string]: unknown;\n  };\n  [key: string]: unknown;\n}\n\n/**\n * Contact Resolver\n * Handles all GraphQL operations for contacts\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/resolvers/contact.resolver.ts",
        "start": 50,
        "end": 69,
        "startLoc": {
          "line": 50,
          "column": 1,
          "position": 279
        },
        "endLoc": {
          "line": 69,
          "column": 4,
          "position": 369
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/resolvers/student.resolver.ts",
        "start": 36,
        "end": 54,
        "startLoc": {
          "line": 36,
          "column": 1,
          "position": 186
        },
        "endLoc": {
          "line": 54,
          "column": 4,
          "position": 276
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ": Gender;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(500, { message: 'Photo URL must not exceed 500 characters' })\n  photo?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(50, {\n    message: 'Medical record number must not exceed 50 characters',\n  })\n  medicalRecordNum?: string;\n\n  @Field({ nullable: true }",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/dto/student.dto.ts",
        "start": 228,
        "end": 244,
        "startLoc": {
          "line": 228,
          "column": 2,
          "position": 1737
        },
        "endLoc": {
          "line": 244,
          "column": 2,
          "position": 1861
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/dto/student.dto.ts",
        "start": 157,
        "end": 173,
        "startLoc": {
          "line": 157,
          "column": 7,
          "position": 1137
        },
        "endLoc": {
          "line": 173,
          "column": 2,
          "position": 1260
        }
      }
    },
    {
      "format": "typescript",
      "lines": 45,
      "fragment": ": Date;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(200, { message: 'Provider name must not exceed 200 characters' })\n  provider?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(20, { message: 'Provider NPI must not exceed 20 characters' })\n  providerNpi?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(200, { message: 'Facility name must not exceed 200 characters' })\n  facility?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(20, { message: 'Facility NPI must not exceed 20 characters' })\n  facilityNpi?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(500, { message: 'Diagnosis must not exceed 500 characters' })\n  diagnosis?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(20, { message: 'Diagnosis code must not exceed 20 characters' })\n  diagnosisCode?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(2000, { message: 'Treatment must not exceed 2000 characters' })\n  treatment?: string;\n\n  @Field({ nullable",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/dto/health-record.dto.ts",
        "start": 240,
        "end": 284,
        "startLoc": {
          "line": 240,
          "column": 2,
          "position": 1800
        },
        "endLoc": {
          "line": 284,
          "column": 9,
          "position": 2176
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/dto/health-record.dto.ts",
        "start": 136,
        "end": 180,
        "startLoc": {
          "line": 136,
          "column": 11,
          "position": 899
        },
        "endLoc": {
          "line": 180,
          "column": 13,
          "position": 1275
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ": boolean;\n\n  @Field({ nullable: true })\n  notes?: string;\n\n  @Field(() => ID, { nullable: true })\n  createdBy?: string;\n\n  @Field(() => ID, { nullable: true })\n  updatedBy?: string;\n\n  @Field()\n  createdAt: Date;\n\n  @Field()\n  updatedAt: Date;\n}\n\n/**\n * Contact List Response with Pagination\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/dto/contact.dto.ts",
        "start": 86,
        "end": 106,
        "startLoc": {
          "line": 86,
          "column": 9,
          "position": 563
        },
        "endLoc": {
          "line": 106,
          "column": 4,
          "position": 684
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/dto/health-record.dto.ts",
        "start": 77,
        "end": 97,
        "startLoc": {
          "line": 77,
          "column": 15,
          "position": 477
        },
        "endLoc": {
          "line": 97,
          "column": 4,
          "position": 598
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "@Field()\n  @IsString()\n  @MinLength(1, { message: 'First name must not be empty' })\n  @MaxLength(50, { message: 'First name must not exceed 50 characters' })\n  firstName: string;\n\n  @Field()\n  @IsString()\n  @MinLength(1, { message: 'Last name must not be empty' })\n  @MaxLength(50, { message: 'Last name must not exceed 50 characters' })\n  lastName: string;\n\n  @Field({",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/dto/contact.dto.ts",
        "start": 121,
        "end": 133,
        "startLoc": {
          "line": 121,
          "column": 3,
          "position": 761
        },
        "endLoc": {
          "line": 133,
          "column": 2,
          "position": 872
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/dto/student.dto.ts",
        "start": 134,
        "end": 146,
        "startLoc": {
          "line": 134,
          "column": 3,
          "position": 930
        },
        "endLoc": {
          "line": 146,
          "column": 2,
          "position": 1041
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "@Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MinLength(1, { message: 'First name must not be empty' })\n  @MaxLength(50, { message: 'First name must not exceed 50 characters' })\n  firstName?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MinLength(1, { message: 'Last name must not be empty' })\n  @MaxLength(50, { message: 'Last name must not exceed 50 characters' })\n  lastName?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsEmail",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/dto/contact.dto.ts",
        "start": 226,
        "end": 242,
        "startLoc": {
          "line": 226,
          "column": 3,
          "position": 1626
        },
        "endLoc": {
          "line": 242,
          "column": 8,
          "position": 1785
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/dto/student.dto.ts",
        "start": 200,
        "end": 216,
        "startLoc": {
          "line": 200,
          "column": 3,
          "position": 1453
        },
        "endLoc": {
          "line": 216,
          "column": 13,
          "position": 1612
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ": string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsEmail({}, { message: 'Invalid email format' })\n  @MaxLength(100, { message: 'Email must not exceed 100 characters' })\n  email?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @Matches(/^\\+?[1-9]\\d{1,14}$/, {\n    message:\n      'Invalid phone number format. Use E.164 format (e.g., +12345678900)',\n  })\n  phone?: string;\n\n  @Field(() => ContactType,",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/dto/contact.dto.ts",
        "start": 238,
        "end": 255,
        "startLoc": {
          "line": 238,
          "column": 2,
          "position": 1757
        },
        "endLoc": {
          "line": 255,
          "column": 2,
          "position": 1893
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/dto/contact.dto.ts",
        "start": 131,
        "end": 148,
        "startLoc": {
          "line": 131,
          "column": 9,
          "position": 862
        },
        "endLoc": {
          "line": 148,
          "column": 2,
          "position": 998
        }
      }
    },
    {
      "format": "typescript",
      "lines": 60,
      "fragment": ": ContactType;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(100, { message: 'Organization must not exceed 100 characters' })\n  organization?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(50, { message: 'Title must not exceed 50 characters' })\n  title?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(200, { message: 'Address must not exceed 200 characters' })\n  address?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(50, { message: 'City must not exceed 50 characters' })\n  city?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(2, { message: 'State must be 2 characters' })\n  @MinLength(2, { message: 'State must be 2 characters' })\n  @Matches(/^[A-Z]{2}$/, {\n    message: 'State must be 2 uppercase letters (e.g., CA, NY)',\n  })\n  state?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @Matches(/^\\d{5}(-\\d{4})?$/, {\n    message: 'Invalid ZIP code format (e.g., 12345 or 12345-6789)',\n  })\n  zip?: string;\n\n  @Field(() => ID, { nullable: true })\n  @IsOptional()\n  @IsString()\n  relationTo?: string;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(50, { message: 'Relationship type must not exceed 50 characters' })\n  relationshipType?: string;\n\n  @Field(() => GraphQLJSON, { nullable: true })\n  @IsOptional()\n  customFields?: Record<string, unknown>;\n\n  @Field({ nullable: true }",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/dto/contact.dto.ts",
        "start": 258,
        "end": 317,
        "startLoc": {
          "line": 258,
          "column": 2,
          "position": 1931
        },
        "endLoc": {
          "line": 317,
          "column": 2,
          "position": 2438
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/dto/contact.dto.ts",
        "start": 150,
        "end": 209,
        "startLoc": {
          "line": 150,
          "column": 5,
          "position": 1019
        },
        "endLoc": {
          "line": 209,
          "column": 2,
          "position": 1525
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": true })\n  @IsOptional()\n  @IsBoolean()\n  isActive?: boolean;\n\n  @Field({ nullable: true })\n  @IsOptional()\n  @IsString()\n  @MaxLength(1000, { message: 'Notes must not exceed 1000 characters' })\n  notes?: string;\n}\n\n/**\n * Contact Filter Input for Queries\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/graphql/dto/contact.dto.ts",
        "start": 317,
        "end": 331,
        "startLoc": {
          "line": 317,
          "column": 9,
          "position": 2434
        },
        "endLoc": {
          "line": 331,
          "column": 4,
          "position": 2516
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/dto/contact.dto.ts",
        "start": 209,
        "end": 223,
        "startLoc": {
          "line": 209,
          "column": 13,
          "position": 1528
        },
        "endLoc": {
          "line": 223,
          "column": 4,
          "position": 1610
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": ": string;\n\n  @ApiProperty({\n    description: 'Conversation identifier',\n    example: 'conv-abc123',\n  })\n  @IsString()\n  conversationId: string;\n\n  @ApiProperty({\n    description: 'When key was created (Unix timestamp)',\n    example: 1635789012345,\n  })\n  @IsNumber()\n  createdAt: number;\n\n  @ApiProperty({\n    description: 'When key expires (Unix timestamp)',\n    example: 1635875412345,\n  })\n  @IsNumber()\n  expiresAt: number;\n\n  @ApiProperty({\n    description: 'Key version'",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/encryption/dto/encryption-keys.dto.ts",
        "start": 96,
        "end": 120,
        "startLoc": {
          "line": 96,
          "column": 3,
          "position": 484
        },
        "endLoc": {
          "line": 120,
          "column": 14,
          "position": 614
        }
      },
      "secondFile": {
        "name": "src/infrastructure/encryption/dto/encryption-keys.dto.ts",
        "start": 26,
        "end": 50,
        "startLoc": {
          "line": 26,
          "column": 4,
          "position": 128
        },
        "endLoc": {
          "line": 50,
          "column": 36,
          "position": 258
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": ";\n\n  @ApiProperty({\n    description: 'ID of message sender',\n    example: 'user-123',\n  })\n  @IsString()\n  senderId: string;\n\n  @ApiProperty({\n    description: 'IDs of message recipients',\n    example: ['user-456', 'user-789'],\n    type: [String],\n  })\n  @IsArray()\n  @IsString({ each: true })\n  recipientIds: string[];\n\n  @ApiProperty({\n    description: 'Conversation identifier',\n    example: 'conv-abc123',\n  })\n  @IsString()\n  conversationId: string;\n\n  @ApiProperty",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/encryption/dto/encrypted-message.dto.ts",
        "start": 130,
        "end": 155,
        "startLoc": {
          "line": 130,
          "column": 22,
          "position": 707
        },
        "endLoc": {
          "line": 155,
          "column": 12,
          "position": 856
        }
      },
      "secondFile": {
        "name": "src/infrastructure/encryption/dto/encrypted-message.dto.ts",
        "start": 70,
        "end": 95,
        "startLoc": {
          "line": 70,
          "column": 7,
          "position": 372
        },
        "endLoc": {
          "line": 95,
          "column": 20,
          "position": 521
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "{\n  @ApiProperty({\n    description: 'Base64-encoded encrypted content',\n    example: 'ZW5jcnlwdGVkY29udGVudA==',\n  })\n  @IsString()\n  encryptedContent: string;\n\n  @ApiProperty({\n    description: 'Encryption metadata',\n    type: EncryptionMetadataDto,\n  })\n  @ValidateNested()\n  @Type(() => EncryptionMetadataDto)\n  metadata: EncryptionMetadataDto;\n\n  @ApiProperty({\n    description: 'ID of recipient requesting decryption'",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/encryption/dto/encrypted-message.dto.ts",
        "start": 166,
        "end": 183,
        "startLoc": {
          "line": 166,
          "column": 2,
          "position": 902
        },
        "endLoc": {
          "line": 183,
          "column": 40,
          "position": 1002
        }
      },
      "secondFile": {
        "name": "src/infrastructure/encryption/dto/encrypted-message.dto.ts",
        "start": 116,
        "end": 133,
        "startLoc": {
          "line": 116,
          "column": 2,
          "position": 620
        },
        "endLoc": {
          "line": 133,
          "column": 23,
          "position": 720
        }
      }
    },
    {
      "format": "handlebars",
      "lines": 21,
      "fragment": "White Cross Healthcare</title>\n    <style>\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: #ffffff;\n            border-radius: 8px;\n            padding: 30px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        .header {\n            text-align: center;\n            padding-bottom: 20px;\n            border-bottom:",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/email/templates/password-reset.html.hbs",
        "start": 6,
        "end": 26,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 51
        },
        "endLoc": {
          "line": 26,
          "column": 15,
          "position": 213
        }
      },
      "secondFile": {
        "name": "src/infrastructure/email/templates/welcome.html.hbs",
        "start": 6,
        "end": 26,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 49
        },
        "endLoc": {
          "line": 26,
          "column": 15,
          "position": 211
        }
      }
    },
    {
      "format": "handlebars",
      "lines": 17,
      "fragment": "px;\n        }\n        .footer {\n            margin-top: 30px;\n            padding-top: 20px;\n            border-top: 2px solid #e0e0e0;\n            text-align: center;\n            font-size: 12px;\n            color: #6c757d;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <div class=\"logo\">White Cross Healthcare</div>\n            <div style",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/email/templates/password-reset.html.hbs",
        "start": 61,
        "end": 77,
        "startLoc": {
          "line": 61,
          "column": 2,
          "position": 452
        },
        "endLoc": {
          "line": 77,
          "column": 6,
          "position": 569
        }
      },
      "secondFile": {
        "name": "src/infrastructure/email/templates/welcome.html.hbs",
        "start": 80,
        "end": 96,
        "startLoc": {
          "line": 80,
          "column": 3,
          "position": 615
        },
        "endLoc": {
          "line": 96,
          "column": 6,
          "position": 732
        }
      }
    },
    {
      "format": "handlebars",
      "lines": 43,
      "fragment": "</title>\n    <style>\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: #ffffff;\n            border-radius: 8px;\n            padding: 30px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        .header {\n            text-align: center;\n            padding-bottom: 20px;\n            border-bottom: 2px solid #e0e0e0;\n            margin-bottom: 30px;\n        }\n        .logo {\n            font-size: 24px;\n            font-weight: bold;\n            color: #2c3e50;\n        }\n        .title {\n            font-size: 22px;\n            font-weight: bold;\n            color: #2c3e50;\n            margin: 20px 0;\n        }\n        .content {\n            font-size: 16px;\n            color: #555;\n            margin: 20px 0;\n            line-height: 1.8;\n        }\n        .cta-button {\n            display: inline-block;\n            padding: 12",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/email/templates/notification.html.hbs",
        "start": 6,
        "end": 48,
        "startLoc": {
          "line": 6,
          "column": 13,
          "position": 52
        },
        "endLoc": {
          "line": 48,
          "column": 3,
          "position": 352
        }
      },
      "secondFile": {
        "name": "src/infrastructure/email/templates/welcome.html.hbs",
        "start": 6,
        "end": 48,
        "startLoc": {
          "line": 6,
          "column": 11,
          "position": 54
        },
        "endLoc": {
          "line": 48,
          "column": 3,
          "position": 356
        }
      }
    },
    {
      "format": "handlebars",
      "lines": 17,
      "fragment": ";\n        }\n        .footer {\n            margin-top: 30px;\n            padding-top: 20px;\n            border-top: 2px solid #e0e0e0;\n            text-align: center;\n            font-size: 12px;\n            color: #6c757d;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <div class=\"logo\">White Cross Healthcare</div>\n            <div style=\"color: #6c757d; margin-top: 10px;\">Notification",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/email/templates/notification.html.hbs",
        "start": 54,
        "end": 70,
        "startLoc": {
          "line": 54,
          "column": 5,
          "position": 399
        },
        "endLoc": {
          "line": 70,
          "column": 13,
          "position": 519
        }
      },
      "secondFile": {
        "name": "src/infrastructure/email/templates/welcome.html.hbs",
        "start": 80,
        "end": 77,
        "startLoc": {
          "line": 80,
          "column": 3,
          "position": 616
        },
        "endLoc": {
          "line": 77,
          "column": 9,
          "position": 573
        }
      }
    },
    {
      "format": "handlebars",
      "lines": 29,
      "fragment": "</title>\n    <style>\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: #ffffff;\n            border-radius: 8px;\n            padding: 30px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        .header {\n            text-align: center;\n            padding-bottom: 20px;\n            border-bottom: 2px solid #e0e0e0;\n            margin-bottom: 30px;\n        }\n        .logo {\n            font-size: 24px;\n            font-weight: bold;\n            color: #2c3e50;\n        }\n        .content",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/email/templates/custom.html.hbs",
        "start": 6,
        "end": 34,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 50
        },
        "endLoc": {
          "line": 34,
          "column": 8,
          "position": 260
        }
      },
      "secondFile": {
        "name": "src/infrastructure/email/templates/welcome.html.hbs",
        "start": 6,
        "end": 34,
        "startLoc": {
          "line": 6,
          "column": 11,
          "position": 54
        },
        "endLoc": {
          "line": 34,
          "column": 6,
          "position": 266
        }
      }
    },
    {
      "format": "handlebars",
      "lines": 17,
      "fragment": ";\n        }\n        .footer {\n            margin-top: 30px;\n            padding-top: 20px;\n            border-top: 2px solid #e0e0e0;\n            text-align: center;\n            font-size: 12px;\n            color: #6c757d;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <div class=\"logo\">White Cross Healthcare</div>\n        </",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/email/templates/custom.html.hbs",
        "start": 37,
        "end": 53,
        "startLoc": {
          "line": 37,
          "column": 4,
          "position": 282
        },
        "endLoc": {
          "line": 53,
          "column": 2,
          "position": 396
        }
      },
      "secondFile": {
        "name": "src/infrastructure/email/templates/welcome.html.hbs",
        "start": 80,
        "end": 96,
        "startLoc": {
          "line": 80,
          "column": 3,
          "position": 616
        },
        "endLoc": {
          "line": 96,
          "column": 4,
          "position": 730
        }
      }
    },
    {
      "format": "handlebars",
      "lines": 29,
      "fragment": "</title>\n    <style>\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: #ffffff;\n            border-radius: 8px;\n            padding: 30px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        .header {\n            text-align: center;\n            padding-bottom: 20px;\n            border-bottom: 2px solid #e0e0e0;\n            margin-bottom: 30px;\n        }\n        .logo {\n            font-size: 24px;\n            font-weight: bold;\n            color: #2c3e50;\n        }\n        .alert-badge",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/email/templates/alert.html.hbs",
        "start": 6,
        "end": 34,
        "startLoc": {
          "line": 6,
          "column": 6,
          "position": 52
        },
        "endLoc": {
          "line": 34,
          "column": 12,
          "position": 262
        }
      },
      "secondFile": {
        "name": "src/infrastructure/email/templates/welcome.html.hbs",
        "start": 6,
        "end": 34,
        "startLoc": {
          "line": 6,
          "column": 11,
          "position": 54
        },
        "endLoc": {
          "line": 34,
          "column": 6,
          "position": 266
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ", async () => {\n      const data = {\n        title: 'Test Alert',\n        message: 'Test message',\n        severity: 'HIGH',\n        category: 'MEDICATION',\n        alertId: 'alert-123',\n      };\n\n      const result = await service.render(EmailTemplate.ALERT, data);\n\n      expect(result.text",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/email/__tests__/email-template.service.spec.ts",
        "start": 243,
        "end": 254,
        "startLoc": {
          "line": 243,
          "column": 46,
          "position": 1994
        },
        "endLoc": {
          "line": 254,
          "column": 5,
          "position": 2082
        }
      },
      "secondFile": {
        "name": "src/infrastructure/email/__tests__/email-template.service.spec.ts",
        "start": 227,
        "end": 238,
        "startLoc": {
          "line": 227,
          "column": 28,
          "position": 1859
        },
        "endLoc": {
          "line": 238,
          "column": 5,
          "position": 1947
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "${key}:`, error);\n      this.updateLatencyMetrics(Date.now() - startTime);\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n        responseTime: Date.now() - startTime,\n      };\n    }\n  }\n\n  /**\n   * Check if key exists in L2 cache\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/cache/l2-cache.service.ts",
        "start": 161,
        "end": 173,
        "startLoc": {
          "line": 161,
          "column": 33,
          "position": 1281
        },
        "endLoc": {
          "line": 173,
          "column": 6,
          "position": 1368
        }
      },
      "secondFile": {
        "name": "src/health-record/services/cache/l2-cache.service.ts",
        "start": 133,
        "end": 145,
        "startLoc": {
          "line": 133,
          "column": 30,
          "position": 1026
        },
        "endLoc": {
          "line": 145,
          "column": 6,
          "position": 1113
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}:`, error);\n      this.updateLatencyMetrics(Date.now() - startTime);\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n        responseTime: Date.now() - startTime,\n      };\n    }\n  }\n\n  /**\n   * Get L2 cache statistics\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/cache/l2-cache.service.ts",
        "start": 208,
        "end": 220,
        "startLoc": {
          "line": 208,
          "column": 8,
          "position": 1659
        },
        "endLoc": {
          "line": 220,
          "column": 6,
          "position": 1744
        }
      },
      "secondFile": {
        "name": "src/health-record/services/cache/l2-cache.service.ts",
        "start": 133,
        "end": 145,
        "startLoc": {
          "line": 133,
          "column": 4,
          "position": 1028
        },
        "endLoc": {
          "line": 145,
          "column": 6,
          "position": 1113
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "tags.length > 0) return tags[0];\n\n    if (key.includes('allergies')) return 'ALLERGIES';\n    if (key.includes('vaccinations')) return 'VACCINATIONS';\n    if (key.includes('conditions')) return 'CONDITIONS';\n    if (key.includes('vitals')) return 'VITALS';\n    if (key.includes('summary')) return 'SUMMARY';\n\n    return 'HEALTH_RECORD';\n  }\n\n  /**\n   * Update latency metrics\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/cache/l2-cache.service.ts",
        "start": 275,
        "end": 288,
        "startLoc": {
          "line": 275,
          "column": 2,
          "position": 2163
        },
        "endLoc": {
          "line": 288,
          "column": 6,
          "position": 2278
        }
      },
      "secondFile": {
        "name": "src/health-record/services/cache/l3-cache.service.ts",
        "start": 256,
        "end": 266,
        "startLoc": {
          "line": 256,
          "column": 2,
          "position": 2078
        },
        "endLoc": {
          "line": 266,
          "column": 2,
          "position": 2191
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n      };\n    } catch (error) {\n      this.logger.error(`L1 cache set failed for key ${key}:`, error);\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n        responseTime: Date.now() - startTime,\n      };\n    }\n  }\n\n  async",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/cache/cache-tier-manager.service.ts",
        "start": 81,
        "end": 93,
        "startLoc": {
          "line": 81,
          "column": 3,
          "position": 817
        },
        "endLoc": {
          "line": 93,
          "column": 6,
          "position": 912
        }
      },
      "secondFile": {
        "name": "src/health-record/services/cache/l1-cache.service.ts",
        "start": 95,
        "end": 109,
        "startLoc": {
          "line": 95,
          "column": 10,
          "position": 658
        },
        "endLoc": {
          "line": 109,
          "column": 6,
          "position": 753
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const entry: InMemoryCacheEntry<T> = {\n      data,\n      timestamp: new Date(),\n      accessCount: 1,\n      lastAccessed: new Date(),\n      compliance,\n      encrypted: compliance === ComplianceLevel.PHI || compliance === ComplianceLevel.SENSITIVE_PHI,\n      tags: [],\n      size: this.calculateDataSize(data),\n      tier: CacheTier.L1,\n    };\n\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/cache/cache-strategy-orchestrator.service.ts",
        "start": 275,
        "end": 287,
        "startLoc": {
          "line": 275,
          "column": 5,
          "position": 2125
        },
        "endLoc": {
          "line": 287,
          "column": 6,
          "position": 2234
        }
      },
      "secondFile": {
        "name": "src/health-record/services/cache/cache-tier-manager.service.ts",
        "start": 125,
        "end": 136,
        "startLoc": {
          "line": 125,
          "column": 7,
          "position": 1310
        },
        "endLoc": {
          "line": 136,
          "column": 5,
          "position": 1418
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "private extractDataType(key: string, tags: string[]): string {\n    if (tags.length > 0) return tags[0];\n\n    if (key.includes('allergies')) return 'ALLERGIES';\n    if (key.includes('vaccinations')) return 'VACCINATIONS';\n    if (key.includes('conditions')) return 'CONDITIONS';\n    if (key.includes('vitals')) return 'VITALS';\n    if (key.includes('summary')) return 'SUMMARY';\n\n    return 'HEALTH_RECORD';\n  }\n\n  /**\n   * Setup event listeners for cache invalidation\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/cache/cache-strategy-orchestrator.service.ts",
        "start": 369,
        "end": 383,
        "startLoc": {
          "line": 369,
          "column": 3,
          "position": 2771
        },
        "endLoc": {
          "line": 383,
          "column": 6,
          "position": 2913
        }
      },
      "secondFile": {
        "name": "src/health-record/services/cache/l2-cache.service.ts",
        "start": 274,
        "end": 266,
        "startLoc": {
          "line": 274,
          "column": 3,
          "position": 2136
        },
        "endLoc": {
          "line": 266,
          "column": 2,
          "position": 2191
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  }\n\n  /**\n   * Extract data type from cache key and tags\n   */\n  private extractDataType(key: string, tags: string[]): string {\n    if (tags.length > 0) return tags[0];\n\n    if (key.includes('allergies')) return 'ALLERGIES';\n    if (key.includes('vaccinations')) return 'VACCINATIONS';\n    if (key.includes('conditions')) return 'CONDITIONS';\n    if (key.includes('vitals')) return 'VITALS';\n    if (key.includes('summary')) return 'SUMMARY';\n\n    return 'HEALTH_RECORD';\n  }\n\n  /**\n   * Generate related cache keys for prefetching\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/cache/cache-optimization.service.ts",
        "start": 352,
        "end": 372,
        "startLoc": {
          "line": 352,
          "column": 10,
          "position": 2554
        },
        "endLoc": {
          "line": 372,
          "column": 6,
          "position": 2706
        }
      },
      "secondFile": {
        "name": "src/health-record/services/cache/l2-cache.service.ts",
        "start": 268,
        "end": 266,
        "startLoc": {
          "line": 268,
          "column": 7,
          "position": 2126
        },
        "endLoc": {
          "line": 266,
          "column": 2,
          "position": 2191
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "export interface InMemoryCacheEntry<T = any> {\n  data: T;\n  timestamp: Date;\n  accessCount: number;\n  lastAccessed: Date;\n  compliance: ComplianceLevel;\n  encrypted: boolean;\n  tags: string[];\n  size: number;\n  tier: CacheTier;\n}\n\nexport enum CacheTier {\n  L1 = 'L1', // In-memory application cache\n  L2 = 'L2', // Redis distributed cache\n  L3 = 'L3', // Database query result cache\n}\n\nexport enum",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/cache/cache-interfaces.ts",
        "start": 7,
        "end": 25,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 25,
          "column": 5,
          "position": 129
        }
      },
      "secondFile": {
        "name": "src/health-record/services/cache/cache-types.ts",
        "start": 13,
        "end": 31,
        "startLoc": {
          "line": 13,
          "column": 1,
          "position": 17
        },
        "endLoc": {
          "line": 31,
          "column": 10,
          "position": 143
        }
      }
    },
    {
      "format": "typescript",
      "lines": 45,
      "fragment": "}\n\nexport interface CacheMetrics {\n  l1Stats: {\n    hits: number;\n    misses: number;\n    evictions: number;\n    size: number;\n    memoryUsage: number;\n  };\n  l2Stats: {\n    hits: number;\n    misses: number;\n    networkLatency: number;\n    size: number;\n  };\n  l3Stats: {\n    hits: number;\n    misses: number;\n    queryTime: number;\n    size: number;\n  };\n  overall: {\n    hitRate: number;\n    averageResponseTime: number;\n    totalMemoryUsage: number;\n  };\n}\n\nexport interface AccessPattern {\n  key: string;\n  frequency: number;\n  lastAccess: Date;\n  predictedNextAccess: Date;\n  importance: number;\n  studentId?: string;\n  dataType: string;\n}\n\nexport interface CacheOperationResult<T = any> {\n  success: boolean;\n  data?: T;\n  error?: string;\n  responseTime: number;\n  tier",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/cache/cache-interfaces.ts",
        "start": 31,
        "end": 75,
        "startLoc": {
          "line": 31,
          "column": 1,
          "position": 175
        },
        "endLoc": {
          "line": 75,
          "column": 5,
          "position": 448
        }
      },
      "secondFile": {
        "name": "src/health-record/services/cache/cache-types.ts",
        "start": 29,
        "end": 73,
        "startLoc": {
          "line": 29,
          "column": 1,
          "position": 138
        },
        "endLoc": {
          "line": 73,
          "column": 2,
          "position": 410
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ": Date;\n  temperature?: number;\n  temperatureUnit?: string;\n  heartRate?: number;\n  respiratoryRate?: number;\n  bloodPressureSystolic?: number;\n  bloodPressureDiastolic?: number;\n  oxygenSaturation?: number;\n  weight?: number;\n  weightUnit?: string;\n  height?: number;\n  heightUnit?: string;\n  bmi?: number;\n  pain?: number;\n  isAbnormal?: boolean;\n  abnormalFlags?: string[];\n  measuredBy?: string;\n  notes?: string;\n}\n\nexport interface IVitalSignsRepository",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/interfaces/vital-signs.repository.interface.ts",
        "start": 57,
        "end": 77,
        "startLoc": {
          "line": 57,
          "column": 2,
          "position": 400
        },
        "endLoc": {
          "line": 77,
          "column": 22,
          "position": 550
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/interfaces/vital-signs.repository.interface.ts",
        "start": 36,
        "end": 56,
        "startLoc": {
          "line": 36,
          "column": 16,
          "position": 243
        },
        "endLoc": {
          "line": 56,
          "column": 20,
          "position": 393
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ": string;\n  diagnosisCode?: string;\n  diagnosisDate?: Date;\n  resolvedDate?: Date;\n  isActive?: boolean;\n  severity?: string;\n  category?: string;\n  treatment?: string;\n  medication?: string;\n  notes?: string;\n  isFamilyHistory?: boolean;\n  familyRelation?: string;\n  isCritical?: boolean;\n  requiresMonitoring?: boolean;\n}\n\nexport interface IMedicalHistoryRepository",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/interfaces/medical-history.repository.interface.ts",
        "start": 52,
        "end": 68,
        "startLoc": {
          "line": 52,
          "column": 2,
          "position": 348
        },
        "endLoc": {
          "line": 68,
          "column": 26,
          "position": 464
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/interfaces/medical-history.repository.interface.ts",
        "start": 34,
        "end": 50,
        "startLoc": {
          "line": 34,
          "column": 10,
          "position": 217
        },
        "endLoc": {
          "line": 50,
          "column": 24,
          "position": 333
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ": string;\n  resultValue?: number;\n  resultUnit?: string;\n  referenceRange?: string;\n  isAbnormal?: boolean;\n  abnormalFlags?: string[];\n  interpretation?: string;\n  status?: string;\n  orderedBy?: string;\n  performedBy?: string;\n  reviewedBy?: string;\n  reviewedDate?: Date;\n  labName?: string;\n  notes?: string;\n}\n\nexport interface LabResultTrend",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/interfaces/lab-results.repository.interface.ts",
        "start": 67,
        "end": 83,
        "startLoc": {
          "line": 67,
          "column": 2,
          "position": 468
        },
        "endLoc": {
          "line": 83,
          "column": 15,
          "position": 586
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/interfaces/lab-results.repository.interface.ts",
        "start": 44,
        "end": 60,
        "startLoc": {
          "line": 44,
          "column": 7,
          "position": 295
        },
        "endLoc": {
          "line": 60,
          "column": 20,
          "position": 413
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "studentId: string;\n  vaccineType: string;\n  vaccineName: string;\n  manufacturer?: string;\n  lotNumber?: string;\n  administeredDate: Date;\n  expirationDate?: Date;\n  doseNumber?: number;\n  totalDosesRequired?: number;\n  administeredBy?: string;\n  clinic?: string;\n  siteOfAdministration?: string;\n  route?: string;\n  reactions?: string;\n  notes?: string;\n  isCompliant?",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/interfaces/immunization.repository.interface.ts",
        "start": 33,
        "end": 48,
        "startLoc": {
          "line": 33,
          "column": 3,
          "position": 202
        },
        "endLoc": {
          "line": 48,
          "column": 2,
          "position": 319
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/interfaces/immunization.repository.interface.ts",
        "start": 11,
        "end": 26,
        "startLoc": {
          "line": 11,
          "column": 3,
          "position": 46
        },
        "endLoc": {
          "line": 26,
          "column": 2,
          "position": 163
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": Date;\n  expirationDate?: Date;\n  doseNumber?: number;\n  totalDosesRequired?: number;\n  administeredBy?: string;\n  clinic?: string;\n  siteOfAdministration?: string;\n  route?: string;\n  reactions?: string;\n  notes?: string;\n  isCompliant?: boolean;\n  nextDueDate?: Date;\n}\n\nexport interface IImmunizationRepository",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/interfaces/immunization.repository.interface.ts",
        "start": 57,
        "end": 71,
        "startLoc": {
          "line": 57,
          "column": 2,
          "position": 379
        },
        "endLoc": {
          "line": 71,
          "column": 24,
          "position": 479
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/interfaces/immunization.repository.interface.ts",
        "start": 38,
        "end": 52,
        "startLoc": {
          "line": 38,
          "column": 17,
          "position": 240
        },
        "endLoc": {
          "line": 52,
          "column": 22,
          "position": 340
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "if (data.temperature !== undefined) {\n      if (data.temperature < 90 || data.temperature > 110) {\n        throw new RepositoryError(\n          'Temperature value out of valid range',\n          'VALIDATION_ERROR',\n          400,\n          { temperature: data.temperature, range: '90-110F' },\n        );\n      }\n    }\n\n    if (data.heartRate !== undefined) {\n      if (data.heartRate < 30 || data.heartRate > 220) {\n        throw new RepositoryError(\n          'Heart rate value out of valid range',\n          'VALIDATION_ERROR',\n          400,\n          { heartRate: data.heartRate, range: '30-220 bpm' },\n        );\n      }\n    }\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/impl/vital-signs.repository.ts",
        "start": 374,
        "end": 395,
        "startLoc": {
          "line": 374,
          "column": 5,
          "position": 2705
        },
        "endLoc": {
          "line": 395,
          "column": 2,
          "position": 2884
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/impl/vital-signs.repository.ts",
        "start": 318,
        "end": 340,
        "startLoc": {
          "line": 318,
          "column": 5,
          "position": 2299
        },
        "endLoc": {
          "line": 340,
          "column": 3,
          "position": 2479
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", 'DESC'],\n          ['diagnosisDate', 'DESC'],\n        ],\n      });\n\n      const entities = records.map((r: any) => this.mapToEntity(r));\n      await this.cacheManager.set(cacheKey, entities, 1800);\n\n      return entities;\n    } catch (error) {\n      this.logger.error('Error finding active conditions:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/impl/medical-history.repository.ts",
        "start": 138,
        "end": 148,
        "startLoc": {
          "line": 138,
          "column": 13,
          "position": 977
        },
        "endLoc": {
          "line": 148,
          "column": 35,
          "position": 1075
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/impl/medical-history.repository.ts",
        "start": 63,
        "end": 73,
        "startLoc": {
          "line": 63,
          "column": 11,
          "position": 430
        },
        "endLoc": {
          "line": 73,
          "column": 44,
          "position": 528
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "const validTypes = [\n        'condition',\n        'allergy',\n        'surgery',\n        'hospitalization',\n        'family_history',\n        'medication',\n        'immunization',\n      ];\n\n      if (!validTypes.includes(data.recordType.toLowerCase())) {\n        throw new RepositoryError(\n          'Invalid record type',\n          'VALIDATION_ERROR',\n          400,\n          { recordType: data.recordType, validTypes },\n        );\n      }\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/impl/medical-history.repository.ts",
        "start": 406,
        "end": 424,
        "startLoc": {
          "line": 406,
          "column": 7,
          "position": 2887
        },
        "endLoc": {
          "line": 424,
          "column": 2,
          "position": 2993
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/impl/medical-history.repository.ts",
        "start": 339,
        "end": 358,
        "startLoc": {
          "line": 339,
          "column": 5,
          "position": 2471
        },
        "endLoc": {
          "line": 358,
          "column": 33,
          "position": 2578
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "}\n\n    // Validate severity if provided\n    if (data.severity) {\n      const validSeverities = ['mild', 'moderate', 'severe', 'critical'];\n      if (!validSeverities.includes(data.severity.toLowerCase())) {\n        throw new RepositoryError(\n          'Invalid severity level',\n          'VALIDATION_ERROR',\n          400,\n          { severity: data.severity, validSeverities },\n        );\n      }\n    }\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/impl/medical-history.repository.ts",
        "start": 424,
        "end": 438,
        "startLoc": {
          "line": 424,
          "column": 5,
          "position": 2993
        },
        "endLoc": {
          "line": 438,
          "column": 2,
          "position": 3099
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/impl/medical-history.repository.ts",
        "start": 356,
        "end": 371,
        "startLoc": {
          "line": 356,
          "column": 5,
          "position": 2574
        },
        "endLoc": {
          "line": 371,
          "column": 34,
          "position": 2681
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "const validTypes = [\n        'vision',\n        'hearing',\n        'dental',\n        'scoliosis',\n        'bmi',\n        'general',\n      ];\n      if (!validTypes.includes(data.screeningType.toLowerCase())) {\n        throw new RepositoryError(\n          'Invalid screening type',\n          'VALIDATION_ERROR',\n          400,\n          { screeningType: data.screeningType, validTypes },\n        );\n      }\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/impl/health-screening.repository.ts",
        "start": 321,
        "end": 337,
        "startLoc": {
          "line": 321,
          "column": 7,
          "position": 2269
        },
        "endLoc": {
          "line": 337,
          "column": 2,
          "position": 2370
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/impl/health-screening.repository.ts",
        "start": 283,
        "end": 300,
        "startLoc": {
          "line": 283,
          "column": 5,
          "position": 2016
        },
        "endLoc": {
          "line": 300,
          "column": 19,
          "position": 2118
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "): Promise<void> {\n    if (!data.studentId) {\n      throw new RepositoryError(\n        'Student ID is required',\n        'VALIDATION_ERROR',\n        400,\n        { field: 'studentId' },\n      );\n    }\n\n    if (!data.measurementDate) {\n      throw new RepositoryError(\n        'Measurement date is required',\n        'VALIDATION_ERROR',\n        400,\n        { field: 'measurementDate' },\n      );\n    }\n\n    if",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/repositories/impl/growth-tracking.repository.ts",
        "start": 370,
        "end": 389,
        "startLoc": {
          "line": 370,
          "column": 24,
          "position": 2620
        },
        "endLoc": {
          "line": 389,
          "column": 3,
          "position": 2733
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/impl/vital-signs.repository.ts",
        "start": 288,
        "end": 307,
        "startLoc": {
          "line": 288,
          "column": 20,
          "position": 2120
        },
        "endLoc": {
          "line": 307,
          "column": 50,
          "position": 2233
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", {\n        error: error instanceof Error ? error.message : String(error),\n        period,\n      });\n      throw error;\n    }\n  }\n\n  /**\n   * Validate period parameter\n   */\n  private validatePeriod(period: string): void {\n    const validPeriods = ['day', 'week', 'month'];\n    if (!validPeriods.includes(period)) {\n      throw new Error(`Invalid period: ${period}. Must be one of: ${validPeriods.join(', ')}`);\n    }\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/enterprise-features/services/analytics/metrics.service.ts",
        "start": 160,
        "end": 177,
        "startLoc": {
          "line": 160,
          "column": 30,
          "position": 1098
        },
        "endLoc": {
          "line": 177,
          "column": 2,
          "position": 1230
        }
      },
      "secondFile": {
        "name": "src/enterprise-features/services/analytics/statistics.service.ts",
        "start": 134,
        "end": 151,
        "startLoc": {
          "line": 134,
          "column": 36,
          "position": 920
        },
        "endLoc": {
          "line": 151,
          "column": 2,
          "position": 1052
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ",\n      });\n      throw error;\n    }\n  }\n\n  /**\n   * Validate period parameter\n   */\n  private validatePeriod(period: string): void {\n    const validPeriods = ['day', 'week', 'month'];\n    if (!validPeriods.includes(period)) {\n      throw new Error(`Invalid period: ${period}. Must be one of: ${validPeriods.join(', ')}`);\n    }\n  }\n\n  /**\n   * Validate export format\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/enterprise-features/services/analytics/export.service.ts",
        "start": 45,
        "end": 63,
        "startLoc": {
          "line": 45,
          "column": 7,
          "position": 320
        },
        "endLoc": {
          "line": 63,
          "column": 6,
          "position": 424
        }
      },
      "secondFile": {
        "name": "src/enterprise-features/services/analytics/statistics.service.ts",
        "start": 136,
        "end": 151,
        "startLoc": {
          "line": 136,
          "column": 7,
          "position": 950
        },
        "endLoc": {
          "line": 151,
          "column": 2,
          "position": 1052
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n\n    const xMean = (n - 1) / 2;\n    const yMean = values.reduce((a, b) => a + b, 0) / n;\n\n    let numerator = 0;\n    let denominator = 0;\n\n    for (let i = 0; i < n; i++) {\n      const xDiff = i - xMean;\n      const yDiff = values[i] - yMean;\n      numerator += xDiff * yDiff;\n      denominator += xDiff * xDiff;\n    }\n\n    return denominator === 0 ? 0 : numerator / denominator;\n  }\n\n  /**\n   * Get current memory in MB\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/discovery/modules/services/memory-leak-detection.service.ts",
        "start": 500,
        "end": 520,
        "startLoc": {
          "line": 500,
          "column": 2,
          "position": 3719
        },
        "endLoc": {
          "line": 520,
          "column": 6,
          "position": 3911
        }
      },
      "secondFile": {
        "name": "src/discovery/modules/services/resource-monitor.service.ts",
        "start": 363,
        "end": 382,
        "startLoc": {
          "line": 363,
          "column": 7,
          "position": 2822
        },
        "endLoc": {
          "line": 382,
          "column": 6,
          "position": 3013
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "}`);\n  }\n\n  const sequelize = model.sequelize;\n  if (!sequelize) {\n    throw new Error('Model does not have sequelize instance');\n  }\n\n  const tableName = model.getTableName();\n  const quotedTableName = sequelize.getQueryInterface().quoteTable(tableName as string);\n  const quotedSelectField",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/query-builder/unions-subqueries.service.ts",
        "start": 150,
        "end": 160,
        "startLoc": {
          "line": 150,
          "column": 12,
          "position": 634
        },
        "endLoc": {
          "line": 160,
          "column": 18,
          "position": 720
        }
      },
      "secondFile": {
        "name": "src/database/services/query-builder/unions-subqueries.service.ts",
        "start": 78,
        "end": 88,
        "startLoc": {
          "line": 78,
          "column": 17,
          "position": 237
        },
        "endLoc": {
          "line": 88,
          "column": 23,
          "position": 323
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "[field] = { [Op.regexp]: value };\n          break;\n\n        default:\n          logger.warn(`Unknown filter operator: ${operator}`);\n      }\n    } catch (error) {\n      logger.error(`Failed to build filter for field ${filter.field}`, error);\n    }\n  });\n\n  return where;\n}\n\n/**\n * Build complex AND/OR where clause\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/query-builder/basic-builders.service.ts",
        "start": 96,
        "end": 112,
        "startLoc": {
          "line": 96,
          "column": 2,
          "position": 1004
        },
        "endLoc": {
          "line": 112,
          "column": 4,
          "position": 1096
        }
      },
      "secondFile": {
        "name": "src/database/services/query-builder/optimization.service.ts",
        "start": 507,
        "end": 527,
        "startLoc": {
          "line": 507,
          "column": 6,
          "position": 3408
        },
        "endLoc": {
          "line": 527,
          "column": 4,
          "position": 3500
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "> {\n  if (conditions.length === 0) {\n    return {};\n  }\n\n  if (conditions.length === 1) {\n    return conditions[0];\n  }\n\n  const op = operator === 'AND' ? Op.and : Op.or;\n  return { [op]: conditions } as",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/query-builder/basic-builders.service.ts",
        "start": 116,
        "end": 126,
        "startLoc": {
          "line": 116,
          "column": 2,
          "position": 1144
        },
        "endLoc": {
          "line": 126,
          "column": 3,
          "position": 1242
        }
      },
      "secondFile": {
        "name": "src/database/services/query-builder/optimization.service.ts",
        "start": 531,
        "end": 541,
        "startLoc": {
          "line": 531,
          "column": 4,
          "position": 3540
        },
        "endLoc": {
          "line": 541,
          "column": 2,
          "position": 3637
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "> {\n  if (!searchTerm || fields.length === 0) {\n    return {};\n  }\n\n  const searchPattern = `%${searchTerm}%`;\n  const operator = caseSensitive ? Op.like : Op.iLike;\n\n  return {\n    [Op.or]: fields.map((field) => ({\n      [field]: { [operator]: searchPattern }\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/query-builder/basic-builders.service.ts",
        "start": 157,
        "end": 168,
        "startLoc": {
          "line": 157,
          "column": 2,
          "position": 1526
        },
        "endLoc": {
          "line": 168,
          "column": 2,
          "position": 1642
        }
      },
      "secondFile": {
        "name": "src/database/services/query-builder/optimization.service.ts",
        "start": 556,
        "end": 566,
        "startLoc": {
          "line": 556,
          "column": 4,
          "position": 3682
        },
        "endLoc": {
          "line": 566,
          "column": 2,
          "position": 3796
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "function buildOrderClause(sorts: SortOptions[]): OrderItem[] {\n  return sorts.map((sort) => {\n    const orderItem: OrderItem = [sort.field, sort.direction];\n\n    if (sort.nulls) {\n      return [...orderItem, `NULLS ${sort.nulls}`] as OrderItem;\n    }\n\n    return orderItem;\n  });\n}\n\n/**\n * Build attributes selection with inclusion/exclusion\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/query-builder/basic-builders.service.ts",
        "start": 212,
        "end": 226,
        "startLoc": {
          "line": 212,
          "column": 2,
          "position": 2025
        },
        "endLoc": {
          "line": 226,
          "column": 4,
          "position": 2133
        }
      },
      "secondFile": {
        "name": "src/database/services/query-builder/optimization.service.ts",
        "start": 577,
        "end": 595,
        "startLoc": {
          "line": 577,
          "column": 1,
          "position": 3813
        },
        "endLoc": {
          "line": 595,
          "column": 4,
          "position": 3921
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "orderBy\n      .map(order => {\n        if (Array.isArray(order)) {\n          return `\"${order[0]}\" ${order[1] || 'ASC'}`;\n        }\n        return `\"${order}\" ASC`;\n      })\n      .join(', ');\n\n    const windowFn = literal(\n      `${aggregateType",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/query-builder/advanced-aggregates.service.ts",
        "start": 360,
        "end": 370,
        "startLoc": {
          "line": 360,
          "column": 2,
          "position": 2604
        },
        "endLoc": {
          "line": 370,
          "column": 14,
          "position": 2693
        }
      },
      "secondFile": {
        "name": "src/database/services/query-builder/advanced-aggregates.service.ts",
        "start": 197,
        "end": 206,
        "startLoc": {
          "line": 197,
          "column": 2,
          "position": 1298
        },
        "endLoc": {
          "line": 206,
          "column": 15,
          "position": 1385
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const orderClause = orderBy\n      .map(order => {\n        if (Array.isArray(order)) {\n          return `\"${order[0]}\" ${order[1] || 'ASC'}`;\n        }\n        return `\"${order}\" ASC`;\n      })\n      .join(', ');\n\n    const windowFn = literal(\n      `${aggregateType}(\"${field}\") OVER (",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/query-builder/advanced-aggregates.service.ts",
        "start": 419,
        "end": 429,
        "startLoc": {
          "line": 419,
          "column": 5,
          "position": 3030
        },
        "endLoc": {
          "line": 429,
          "column": 10,
          "position": 3131
        }
      },
      "secondFile": {
        "name": "src/database/services/query-builder/advanced-aggregates.service.ts",
        "start": 360,
        "end": 370,
        "startLoc": {
          "line": 360,
          "column": 5,
          "position": 2598
        },
        "endLoc": {
          "line": 370,
          "column": 19,
          "position": 2699
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n      {\n        replacements: { tableName },\n        type: QueryTypes.SELECT,\n      }\n    );\n\n    if (!result || result.length === 0) {\n      throw new Error(`Table ${tableName} not found`);\n    }\n\n    const stats = result[0] as Record<string, unknown>;\n\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/optimization/statistics-analysis.service.ts",
        "start": 89,
        "end": 102,
        "startLoc": {
          "line": 89,
          "column": 6,
          "position": 483
        },
        "endLoc": {
          "line": 102,
          "column": 7,
          "position": 580
        }
      },
      "secondFile": {
        "name": "src/database/services/optimization/statistics-analysis.service.ts",
        "start": 48,
        "end": 60,
        "startLoc": {
          "line": 48,
          "column": 6,
          "position": 113
        },
        "endLoc": {
          "line": 60,
          "column": 6,
          "position": 209
        }
      }
    },
    {
      "format": "typescript",
      "lines": 82,
      "fragment": ";\n}\n\n/**\n * Analyzes query cache effectiveness\n *\n * @param {Sequelize} sequelize - Sequelize instance\n * @returns {Promise<CacheMetrics>}\n *\n * @example\n * ```typescript\n * const cacheMetrics = await analyzeQueryCache(sequelize);\n * console.log(`Cache hit rate: ${(cacheMetrics.hitRate * 100).toFixed(2)}%`);\n *\n * if (cacheMetrics.hitRate < 0.8) {\n *   console.log('Consider increasing shared_buffers');\n * }\n * ```\n */\nexport async function analyzeQueryCache(\n  sequelize: Sequelize\n): Promise<CacheMetrics> {\n  const dialect = sequelize.getDialect();\n\n  if (dialect === 'postgres') {\n    const [result] = await sequelize.query(\n      `\n      SELECT\n        sum(heap_blks_hit) AS heap_hit,\n        sum(heap_blks_read) AS heap_read,\n        sum(idx_blks_hit) AS idx_hit,\n        sum(idx_blks_read) AS idx_read\n      FROM pg_statio_user_tables\n    `,\n      { type: QueryTypes.SELECT }\n    );\n\n    const stats = result[0] as Record<string, unknown>;\n    const totalHits = ((stats.heap_hit as number) || 0) + ((stats.idx_hit as number) || 0);\n    const totalMisses = ((stats.heap_read as number) || 0) + ((stats.idx_read as number) || 0);\n    const total = totalHits + totalMisses;\n\n    return {\n      hitRate: total > 0 ? totalHits / total : 0,\n      missRate: total > 0 ? totalMisses / total : 0,\n      totalHits,\n      totalMisses,\n      bufferCacheSize: 0,\n      sharedBuffers: 0,\n      effectiveCacheSize: 0,\n    };\n  }\n\n  return {\n    hitRate: 0,\n    missRate: 0,\n    totalHits: 0,\n    totalMisses: 0,\n    bufferCacheSize: 0,\n    sharedBuffers: 0,\n    effectiveCacheSize: 0,\n  };\n}\n\n/**\n * Optimizes database cache settings\n *\n * @param {Sequelize} sequelize - Sequelize instance\n * @param {number} totalMemoryMB - Total system memory in MB\n * @returns {Promise<{sharedBuffers: string, effectiveCacheSize: string, workMem: string}>}\n *\n * @example\n * ```typescript\n * // For system with 32GB RAM\n * const recommendations = await optimizeCacheSettings(sequelize, 32768);\n *\n * console.log('Recommended PostgreSQL settings:');\n * console.log(`shared_buffers = ${recommendations.sharedBuffers}`);\n * console.log(`effective_cache_size = ${recommendations.effectiveCacheSize}`);\n * console.log(`work_mem = ${recommendations.workMem}`);\n * ```\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/optimization/cache-optimization.service.ts",
        "start": 33,
        "end": 114,
        "startLoc": {
          "line": 33,
          "column": 2,
          "position": 82
        },
        "endLoc": {
          "line": 114,
          "column": 4,
          "position": 450
        }
      },
      "secondFile": {
        "name": "src/database/services/optimization/query-optimization.service.ts",
        "start": 398,
        "end": 479,
        "startLoc": {
          "line": 398,
          "column": 16,
          "position": 2369
        },
        "endLoc": {
          "line": 479,
          "column": 4,
          "position": 2737
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": "true,\n      highWaterMark: config.highWaterMark || 16,\n      async read() {\n        try {\n          if (!hasMore) {\n            this.push(null);\n            return;\n          }\n\n          const batch = await model.findAll({\n            where,\n            limit: config.batchSize,\n            offset,\n            transaction: config.transaction,\n          });\n\n          if (batch.length === 0) {\n            hasMore = false;\n            this.push(null);\n            return;\n          }\n\n          offset += config.batchSize;\n          hasMore = batch.length === config.batchSize;\n\n          for (const record of batch) {\n            try",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 250,
        "end": 276,
        "startLoc": {
          "line": 250,
          "column": 2,
          "position": 1998
        },
        "endLoc": {
          "line": 276,
          "column": 4,
          "position": 2185
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 41,
        "end": 67,
        "startLoc": {
          "line": 41,
          "column": 2,
          "position": 260
        },
        "endLoc": {
          "line": 67,
          "column": 3,
          "position": 447
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n  const startTime = Date.now();\n\n  const metrics: StreamingMetrics = {\n    totalRecords: 0,\n    totalBatches: 0,\n    averageBatchSize: 0,\n    executionTimeMs: 0,\n    throughput: 0,\n    memoryPeakMb: 0,\n    backpressureEvents: 0,\n  };\n\n  try {\n    let offset = 0;\n    let hasMore = true;\n    const batchSizes: number[] = [];\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 313,
        "end": 330,
        "startLoc": {
          "line": 313,
          "column": 42,
          "position": 2487
        },
        "endLoc": {
          "line": 330,
          "column": 6,
          "position": 2613
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 95,
        "end": 113,
        "startLoc": {
          "line": 95,
          "column": 35,
          "position": 673
        },
        "endLoc": {
          "line": 113,
          "column": 6,
          "position": 800
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ") {\n        const memUsage = process.memoryUsage();\n        const heapUsedMb = memUsage.heapUsed / 1024 / 1024;\n        metrics.memoryPeakMb = Math.max(metrics.memoryPeakMb, heapUsedMb);\n\n        if (config.backpressureThreshold && heapUsedMb > config.backpressureThreshold) {\n          logger.warn(`Backpressure: memory usage ${heapUsedMb.toFixed(2)}MB, pausing`);\n          metrics.backpressureEvents++;\n          await delay(100);\n          if (global.gc) {\n            global.gc();\n          }\n        }\n      }",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 334,
        "end": 347,
        "startLoc": {
          "line": 334,
          "column": 2,
          "position": 2656
        },
        "endLoc": {
          "line": 347,
          "column": 2,
          "position": 2796
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 113,
        "end": 127,
        "startLoc": {
          "line": 113,
          "column": 8,
          "position": 804
        },
        "endLoc": {
          "line": 127,
          "column": 6,
          "position": 945
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "}\n      }\n\n      const batch = await model.findAll({\n        where,\n        limit: config.batchSize,\n        offset,\n        transaction: config.transaction,\n      });\n\n      if (batch.length === 0) {\n        hasMore = false;\n        break;\n      }\n\n      batchSizes.push(batch.length);\n      metrics.totalBatches++;\n      metrics",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 346,
        "end": 363,
        "startLoc": {
          "line": 346,
          "column": 9,
          "position": 2793
        },
        "endLoc": {
          "line": 363,
          "column": 8,
          "position": 2896
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 124,
        "end": 142,
        "startLoc": {
          "line": 124,
          "column": 9,
          "position": 938
        },
        "endLoc": {
          "line": 142,
          "column": 4,
          "position": 1042
        }
      }
    },
    {
      "format": "typescript",
      "lines": 48,
      "fragment": ");\n  const startTime = Date.now();\n\n  const metrics: StreamingMetrics = {\n    totalRecords: 0,\n    totalBatches: 0,\n    averageBatchSize: 0,\n    executionTimeMs: 0,\n    throughput: 0,\n    memoryPeakMb: 0,\n    backpressureEvents: 0,\n  };\n\n  try {\n    let offset = 0;\n    let hasMore = true;\n    const batchSizes: number[] = [];\n\n    while (hasMore) {\n      const memUsage = process.memoryUsage();\n      const heapUsedMb = memUsage.heapUsed / 1024 / 1024;\n      metrics.memoryPeakMb = Math.max(metrics.memoryPeakMb, heapUsedMb);\n\n      if (config.backpressureThreshold && heapUsedMb > config.backpressureThreshold) {\n        logger.warn(`Backpressure: memory usage ${heapUsedMb.toFixed(2)}MB, pausing`);\n        metrics.backpressureEvents++;\n        await delay(100);\n        if (global.gc) {\n          global.gc();\n        }\n      }\n\n      const batch = await model.findAll({\n        where,\n        limit: config.batchSize,\n        offset,\n        transaction: config.transaction,\n      });\n\n      if (batch.length === 0) {\n        hasMore = false;\n        break;\n      }\n\n      batchSizes.push(batch.length);\n      metrics.totalBatches++;\n\n      // Process records in parallel with limited concurrency",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 456,
        "end": 503,
        "startLoc": {
          "line": 456,
          "column": 52,
          "position": 3663
        },
        "endLoc": {
          "line": 503,
          "column": 56,
          "position": 4032
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 95,
        "end": 142,
        "startLoc": {
          "line": 95,
          "column": 35,
          "position": 673
        },
        "endLoc": {
          "line": 142,
          "column": 4,
          "position": 1042
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ";\n\n      offset += config.batchSize;\n      hasMore = batch.length === config.batchSize;\n    }\n\n    metrics.averageBatchSize = batchSizes.reduce((a, b) => a + b, 0) / batchSizes.length;\n    metrics.executionTimeMs = Date.now() - startTime;\n    metrics.throughput = (metrics.totalRecords / metrics.executionTimeMs) * 1000;\n\n    logger.log(\n      `Parallel stream processing complete: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 528,
        "end": 539,
        "startLoc": {
          "line": 528,
          "column": 17,
          "position": 4298
        },
        "endLoc": {
          "line": 539,
          "column": 39,
          "position": 4418
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/streaming-operations.service.ts",
        "start": 366,
        "end": 156,
        "startLoc": {
          "line": 366,
          "column": 2,
          "position": 2920
        },
        "endLoc": {
          "line": 156,
          "column": 25,
          "position": 1193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ";\n    });\n\n    const selectClause = select.join(', ');\n    const whereClause = where ? `WHERE ${where}` : '';\n    const orderByClause = orderBy && orderBy.length > 0 ? `ORDER BY ${orderBy.join(', ')}` : '';\n    const limitClause = limit ? `LIMIT ${limit}` : '';\n\n    const query = `\n      SELECT ${selectClause}\n      FROM ${baseTable}\n      ${lateralClauses",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/join-operations.service.ts",
        "start": 176,
        "end": 187,
        "startLoc": {
          "line": 176,
          "column": 10,
          "position": 1435
        },
        "endLoc": {
          "line": 187,
          "column": 15,
          "position": 1557
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/join-operations.service.ts",
        "start": 46,
        "end": 57,
        "startLoc": {
          "line": 46,
          "column": 11,
          "position": 367
        },
        "endLoc": {
          "line": 57,
          "column": 12,
          "position": 489
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ";\n    });\n\n    const selectClause = select.join(', ');\n    const whereClause = where ? `WHERE ${where}` : '';\n    const orderByClause = orderBy && orderBy.length > 0 ? `ORDER BY ${orderBy.join(', ')}` : '';\n    const limitClause = limit ? `LIMIT ${limit}` : '';\n\n    const query = `\n      SELECT ${selectClause}\n      FROM ${baseTableRef",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/join-operations.service.ts",
        "start": 228,
        "end": 238,
        "startLoc": {
          "line": 228,
          "column": 2,
          "position": 1925
        },
        "endLoc": {
          "line": 238,
          "column": 13,
          "position": 2043
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/join-operations.service.ts",
        "start": 46,
        "end": 56,
        "startLoc": {
          "line": 46,
          "column": 11,
          "position": 367
        },
        "endLoc": {
          "line": 56,
          "column": 10,
          "position": 485
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ");\n\n  try {\n    const record = await model.findByPk(id, {\n      transaction: options?.transaction,\n      paranoid: false\n    });\n\n    if (!record) {\n      throw new NotFoundException(`${model.name} record with ID ${id} not found`);\n    }\n\n    const recordData = record as unknown as AuditableModel;\n    if (!",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/crud-operations.service.ts",
        "start": 172,
        "end": 185,
        "startLoc": {
          "line": 172,
          "column": 32,
          "position": 1388
        },
        "endLoc": {
          "line": 185,
          "column": 2,
          "position": 1494
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/crud-operations.service.ts",
        "start": 123,
        "end": 136,
        "startLoc": {
          "line": 123,
          "column": 29,
          "position": 975
        },
        "endLoc": {
          "line": 136,
          "column": 11,
          "position": 1081
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "} catch (error) {\n        result.failedBatches++;\n        result.errors.push({\n          batchIndex,\n          error: (error as Error).message,\n        });\n\n        if (config.failFast) {\n          throw error;\n        }\n      }\n    }\n\n    result.success = result.successfulBatches > 0;\n    result.executionTimeMs = Date.now() - startTime;\n    result.throughput",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/batch-operations.service.ts",
        "start": 224,
        "end": 239,
        "startLoc": {
          "line": 224,
          "column": 7,
          "position": 1975
        },
        "endLoc": {
          "line": 239,
          "column": 11,
          "position": 2090
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/batch-operations.service.ts",
        "start": 116,
        "end": 131,
        "startLoc": {
          "line": 116,
          "column": 7,
          "position": 935
        },
        "endLoc": {
          "line": 131,
          "column": 19,
          "position": 1050
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ");\n        result.successfulBatches++;\n      } catch (error) {\n        result.failedBatches++;\n        result.errors.push({\n          batchIndex,\n          error: (error as Error).message,\n        });\n\n        if (config.failFast) {\n          throw error;\n        }\n      }\n    }\n\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/batch-operations.service.ts",
        "start": 291,
        "end": 306,
        "startLoc": {
          "line": 291,
          "column": 15,
          "position": 2622
        },
        "endLoc": {
          "line": 306,
          "column": 6,
          "position": 2712
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/batch-operations.service.ts",
        "start": 222,
        "end": 237,
        "startLoc": {
          "line": 222,
          "column": 8,
          "position": 1964
        },
        "endLoc": {
          "line": 237,
          "column": 7,
          "position": 2054
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ".length / config.batchSize),\n    successfulBatches: 0,\n    failedBatches: 0,\n    results: [],\n    errors: [],\n    executionTimeMs: 0,\n    averageBatchTimeMs: 0,\n    throughput: 0,\n  };\n\n  try {\n    const batches: WhereOptions<Attributes<M>>[][] = [];\n    for (let i = 0; i < whereConditions",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/batch-operations.service.ts",
        "start": 332,
        "end": 344,
        "startLoc": {
          "line": 332,
          "column": 16,
          "position": 2981
        },
        "endLoc": {
          "line": 344,
          "column": 16,
          "position": 3093
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/batch-operations.service.ts",
        "start": 64,
        "end": 76,
        "startLoc": {
          "line": 64,
          "column": 8,
          "position": 445
        },
        "endLoc": {
          "line": 76,
          "column": 8,
          "position": 557
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ");\n        result.successfulBatches++;\n      } catch (error) {\n        result.failedBatches++;\n        result.errors.push({\n          batchIndex,\n          error: (error as Error).message,\n        });\n\n        if (config.failFast) {\n          throw error;\n        }\n      }\n    }\n\n    const totalDeleted",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/batch-operations.service.ts",
        "start": 361,
        "end": 376,
        "startLoc": {
          "line": 361,
          "column": 13,
          "position": 3273
        },
        "endLoc": {
          "line": 376,
          "column": 13,
          "position": 3365
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/batch-operations.service.ts",
        "start": 222,
        "end": 306,
        "startLoc": {
          "line": 222,
          "column": 8,
          "position": 1964
        },
        "endLoc": {
          "line": 306,
          "column": 14,
          "position": 2714
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "<{\n      count: number;\n      mean: number;\n      median: number;\n      mode: number;\n      stddev: number;\n      variance: number;\n      min: number;\n      max: number;\n      range: number;\n      q1: number;\n      q3: number;\n      iqr: number;\n    }>(",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/operations/analytics-operations.service.ts",
        "start": 450,
        "end": 463,
        "startLoc": {
          "line": 450,
          "column": 6,
          "position": 3082
        },
        "endLoc": {
          "line": 463,
          "column": 2,
          "position": 3172
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/analytics-operations.service.ts",
        "start": 411,
        "end": 424,
        "startLoc": {
          "line": 411,
          "column": 8,
          "position": 2853
        },
        "endLoc": {
          "line": 424,
          "column": 2,
          "position": 2943
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "name: string;\n  genericName?: string;\n  brandName?: string;\n  dosageForm: string;\n  strength: string;\n  route: string;\n  frequency?: string;\n  duration?: string;\n  prescribedBy?: string;\n  startDate?: Date;\n  endDate?: Date;\n  instructions?: string;\n  notes?: string;\n  studentId: string;\n  organizationId: string;\n  isControlled",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/interfaces/medication.repository.interface.ts",
        "start": 52,
        "end": 67,
        "startLoc": {
          "line": 52,
          "column": 3,
          "position": 333
        },
        "endLoc": {
          "line": 67,
          "column": 13,
          "position": 447
        }
      },
      "secondFile": {
        "name": "src/database/repositories/interfaces/medication.repository.interface.ts",
        "start": 25,
        "end": 40,
        "startLoc": {
          "line": 25,
          "column": 3,
          "position": 135
        },
        "endLoc": {
          "line": 40,
          "column": 7,
          "position": 249
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "studentId: string;\n  nurseId: string;\n  type: HealthRecordType;\n  title: string;\n  description?: string;\n  notes?: string;\n  recordedAt: Date;\n  occurredAt?: Date;\n  followUpRequired?: boolean;\n  followUpDate?: Date;\n  followUpNotes?: string;\n  attachments?: string[];\n  metadata?: Record<string, unknown>;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/interfaces/health-record.repository.interface.ts",
        "start": 55,
        "end": 68,
        "startLoc": {
          "line": 55,
          "column": 3,
          "position": 362
        },
        "endLoc": {
          "line": 68,
          "column": 2,
          "position": 468
        }
      },
      "secondFile": {
        "name": "src/database/repositories/interfaces/health-record.repository.interface.ts",
        "start": 36,
        "end": 49,
        "startLoc": {
          "line": 36,
          "column": 3,
          "position": 223
        },
        "endLoc": {
          "line": 49,
          "column": 7,
          "position": 330
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "studentId: string;\n  measurementDate: Date;\n  temperature?: number;\n  bloodPressureSystolic?: number;\n  bloodPressureDiastolic?: number;\n  heartRate?: number;\n  respiratoryRate?: number;\n  oxygenSaturation?: number;\n  weight?: number;\n  height?: number;\n  bmi?: number;\n  recordedBy: string;\n  notes?: string;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/vital-signs.repository.ts",
        "start": 35,
        "end": 48,
        "startLoc": {
          "line": 35,
          "column": 3,
          "position": 260
        },
        "endLoc": {
          "line": 48,
          "column": 2,
          "position": 360
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/vital-signs.repository.ts",
        "start": 17,
        "end": 30,
        "startLoc": {
          "line": 17,
          "column": 3,
          "position": 134
        },
        "endLoc": {
          "line": 30,
          "column": 10,
          "position": 235
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ") => this.mapToEntity(v));\n    } catch (error) {\n      this.logger.error('Error finding vital signs by date range:', error);\n      throw new RepositoryError(\n        'Failed to find vital signs by date range',\n        'FIND_BY_DATE_RANGE_ERROR',\n        500,\n        { studentId, startDate, endDate, error: (error as Error).message },\n      );\n    }\n  }\n\n  protected",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/vital-signs.repository.ts",
        "start": 112,
        "end": 124,
        "startLoc": {
          "line": 112,
          "column": 12,
          "position": 881
        },
        "endLoc": {
          "line": 124,
          "column": 10,
          "position": 979
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/impl/vital-signs.repository.ts",
        "start": 141,
        "end": 155,
        "startLoc": {
          "line": 141,
          "column": 4,
          "position": 1030
        },
        "endLoc": {
          "line": 155,
          "column": 6,
          "position": 1128
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<ThreatDetectionAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/threat-detection.repository.ts",
        "start": 49,
        "end": 63,
        "startLoc": {
          "line": 49,
          "column": 16,
          "position": 346
        },
        "endLoc": {
          "line": 63,
          "column": 26,
          "position": 483
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<SystemConfigAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/system-config.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 13,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 23,
          "position": 478
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<SyncStateAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/sync-state.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 10,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 20,
          "position": 478
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<SupplierAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/supplier.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 9,
          "position": 340
        },
        "endLoc": {
          "line": 61,
          "column": 19,
          "position": 477
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n          isActive: true,\n        },\n        order: [\n          ['lastName', 'ASC'],\n          ['firstName', 'ASC'],\n        ],\n      });\n\n      return students.map((s: Student) => this.mapToEntity(s));\n    } catch (error) {\n      this.logger.error('Error finding students by nurse:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/student.repository.ts",
        "start": 128,
        "end": 139,
        "startLoc": {
          "line": 128,
          "column": 8,
          "position": 994
        },
        "endLoc": {
          "line": 139,
          "column": 35,
          "position": 1084
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/student.repository.ts",
        "start": 100,
        "end": 111,
        "startLoc": {
          "line": 100,
          "column": 6,
          "position": 780
        },
        "endLoc": {
          "line": 111,
          "column": 35,
          "position": 870
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<StockLevelAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/stock-level.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 11,
          "position": 329
        },
        "endLoc": {
          "line": 60,
          "column": 21,
          "position": 466
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<SecurityIncidentAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/security-incident.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 17,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 27,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<SchoolAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/school.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 7,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 17,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<ReportTemplateAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/report-template.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 15,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 25,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<RegulatorySubmissionAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/regulatory-submission.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 21,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 31,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<PushTokenAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/push-token.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 10,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 20,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<PolicyDocumentAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/policy-document.repository.ts",
        "start": 82,
        "end": 96,
        "startLoc": {
          "line": 82,
          "column": 15,
          "position": 597
        },
        "endLoc": {
          "line": 96,
          "column": 25,
          "position": 734
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<PdfTemplateAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/pdf-template.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 12,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 22,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<ParentGuardianAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/parent-guardian.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 15,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 25,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<NurseAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/nurse.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 6,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 16,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<NotificationAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/notification.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 13,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 23,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<MessageAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/message.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 8,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 18,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<MessageTemplateAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/message-template.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 16,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 26,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<IpRestrictionAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/ip-restriction.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 14,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 24,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<InventoryTransactionAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/inventory-transaction.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 21,
          "position": 334
        },
        "endLoc": {
          "line": 62,
          "column": 31,
          "position": 471
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<InventoryItemAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/inventory-item.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 14,
          "position": 329
        },
        "endLoc": {
          "line": 60,
          "column": 24,
          "position": 466
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<IntegrationConfigAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/integration-config.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 18,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 28,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "studentId: string;\n  incidentDate: Date;\n  type: string;\n  severity: 'LOW' | 'MEDIUM' | 'HIGH' | 'CRITICAL';\n  location?: string;\n  description: string;\n  reportedBy?: string;\n  witnesses?: string[];\n  injuries?: string;\n  actions?: string;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/incident-report.repository.ts",
        "start": 33,
        "end": 43,
        "startLoc": {
          "line": 33,
          "column": 3,
          "position": 261
        },
        "endLoc": {
          "line": 43,
          "column": 2,
          "position": 349
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/incident-report.repository.ts",
        "start": 18,
        "end": 28,
        "startLoc": {
          "line": 18,
          "column": 3,
          "position": 147
        },
        "endLoc": {
          "line": 28,
          "column": 10,
          "position": 236
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<IncidentReportAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/incident-report.repository.ts",
        "start": 158,
        "end": 172,
        "startLoc": {
          "line": 158,
          "column": 15,
          "position": 1253
        },
        "endLoc": {
          "line": 172,
          "column": 25,
          "position": 1390
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<IncidentFollowUpAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/incident-follow-up.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 17,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 27,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<HealthRiskAssessmentAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/health-risk-assessment.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 21,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 31,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<HealthMetricAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/health-metric.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 13,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 23,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "studentId: string;\n  measurementDate: Date;\n  age: number;\n  weight: number;\n  height: number;\n  bmi: number;\n  headCircumference?: number;\n  weightPercentile?: number;\n  heightPercentile?: number;\n  bmiPercentile?: number;\n  recordedBy: string;\n  notes?: string;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/growth-tracking.repository.ts",
        "start": 33,
        "end": 45,
        "startLoc": {
          "line": 33,
          "column": 3,
          "position": 235
        },
        "endLoc": {
          "line": 45,
          "column": 2,
          "position": 323
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/growth-tracking.repository.ts",
        "start": 16,
        "end": 28,
        "startLoc": {
          "line": 16,
          "column": 3,
          "position": 121
        },
        "endLoc": {
          "line": 28,
          "column": 10,
          "position": 210
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<GradeAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/grade.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 6,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 16,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<GradeTransitionAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/grade-transition.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 16,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 26,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<FeatureFlagAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/feature-flag.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 12,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 22,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<ExpenseAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/expense.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 8,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 18,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<EmergencyContactAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/emergency-contact.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 17,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 27,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<EmergencyBroadcastAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/emergency-broadcast.repository.ts",
        "start": 49,
        "end": 63,
        "startLoc": {
          "line": 49,
          "column": 19,
          "position": 346
        },
        "endLoc": {
          "line": 63,
          "column": 29,
          "position": 483
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<DocumentAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/document.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 9,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 19,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<DocumentVersionAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/document-version.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 16,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 26,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<DocumentPermissionAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/document-permission.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 19,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 29,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<DistrictAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/district.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 9,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 19,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<DeviceAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/device.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 7,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 17,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<DataRetentionPolicyAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/data-retention-policy.repository.ts",
        "start": 73,
        "end": 87,
        "startLoc": {
          "line": 73,
          "column": 20,
          "position": 537
        },
        "endLoc": {
          "line": 87,
          "column": 30,
          "position": 674
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<DashboardConfigAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/dashboard-config.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 16,
          "position": 335
        },
        "endLoc": {
          "line": 62,
          "column": 26,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<ContactAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/contact.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 8,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 18,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<ClinicAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/clinic.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 7,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 17,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<BudgetAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/budget.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 7,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 17,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<BroadcastAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/broadcast.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 10,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 20,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<AuditLogAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/audit-log.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 9,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 19,
          "position": 478
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<AttendanceAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/attendance.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 11,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 21,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<AppointmentAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/appointment.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 12,
          "position": 340
        },
        "endLoc": {
          "line": 61,
          "column": 22,
          "position": 477
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<AppointmentSlotAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/appointment-slot.repository.ts",
        "start": 48,
        "end": 62,
        "startLoc": {
          "line": 48,
          "column": 16,
          "position": 334
        },
        "endLoc": {
          "line": 62,
          "column": 26,
          "position": 471
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<ApiKeyAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/api-key.repository.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 7,
          "position": 330
        },
        "endLoc": {
          "line": 60,
          "column": 17,
          "position": 467
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "): Promise<void> {\n    try {\n      const entityData = entity.get();\n      await this.cacheManager.delete(\n        this.cacheKeyBuilder.entity(this.entityName, entityData.id),\n      );\n      await this.cacheManager.deletePattern(\n        `white-cross:${this.entityName.toLowerCase()}:*`,\n      );\n    } catch (error) {\n      this.logger.warn(`Error invalidating ${this.entityName} caches:`, error);\n    }\n  }\n\n  protected sanitizeForAudit(data: Partial<AlertAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/alert.repository.ts",
        "start": 45,
        "end": 59,
        "startLoc": {
          "line": 45,
          "column": 6,
          "position": 307
        },
        "endLoc": {
          "line": 59,
          "column": 16,
          "position": 444
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/webhook.repository.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 61,
          "column": 18,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ": NotificationChannel[];\n  targetRoles?: string[];\n  targetUsers?: string[];\n  schoolId?: string;\n  districtId?: string;\n  autoEscalateAfter?: number;\n  cooldownPeriod?: number;\n  requiresAcknowledgment?: boolean;\n  expiresAfter?: number;\n  metadata?: Record<string, unknown>;\n  updatedBy",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/alert-rule.repository.ts",
        "start": 75,
        "end": 85,
        "startLoc": {
          "line": 75,
          "column": 2,
          "position": 562
        },
        "endLoc": {
          "line": 85,
          "column": 10,
          "position": 652
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/alert-rule.repository.ts",
        "start": 54,
        "end": 64,
        "startLoc": {
          "line": 54,
          "column": 21,
          "position": 393
        },
        "endLoc": {
          "line": 64,
          "column": 10,
          "position": 483
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "studentId: string;\n  academicYear: string;\n  semester: string;\n  grade: string;\n  gpa: number;\n  subjects: SubjectGrade[];\n  attendance: AttendanceRecord;\n  behavior: BehaviorRecord;\n  importedBy?: string;\n  importedAt?: Date;\n  importSource?: string;\n  metadata?: Record<string, unknown>;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/repositories/impl/academic-transcript.repository.ts",
        "start": 37,
        "end": 49,
        "startLoc": {
          "line": 37,
          "column": 3,
          "position": 256
        },
        "endLoc": {
          "line": 49,
          "column": 2,
          "position": 351
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/academic-transcript.repository.ts",
        "start": 20,
        "end": 32,
        "startLoc": {
          "line": 20,
          "column": 3,
          "position": 135
        },
        "endLoc": {
          "line": 32,
          "column": 10,
          "position": 231
        }
      }
    },
    {
      "format": "typescript",
      "lines": 133,
      "fragment": "/**\n * Index definition with optimization metadata\n */\nexport interface IndexInfo {\n  name: string;\n  tableName: string;\n  columnNames: string[];\n  unique: boolean;\n  type: 'btree' | 'hash' | 'gin' | 'gist' | 'brin';\n  size: number;\n  scans: number;\n  tuples_read: number;\n  tuples_fetched: number;\n  indexDef: string;\n  isValid: boolean;\n}\n\n/**\n * Query performance metrics\n */\nexport interface QueryPerformance {\n  query: string;\n  executionTime: number;\n  planningTime: number;\n  totalCost: number;\n  rows: number;\n  cached: boolean;\n  indexesUsed: string[];\n  fullScans: number;\n  recommendations: string[];\n}\n\n/**\n * Table statistics information\n */\nexport interface TableStatistics {\n  tableName: string;\n  rowCount: number;\n  totalSize: number;\n  indexSize: number;\n  toastSize: number;\n  deadTuples: number;\n  liveTuples: number;\n  lastVacuum?: Date;\n  lastAnalyze?: Date;\n  bloatPercentage: number;\n}\n\n/**\n * Index usage statistics\n */\nexport interface IndexUsageStats {\n  schemaName: string;\n  tableName: string;\n  indexName: string;\n  indexScans: number;\n  tuplesRead: number;\n  tuplesFetched: number;\n  sizeBytes: number;\n  unusedReason?: string;\n}\n\n/**\n * Query plan node\n */\nexport interface QueryPlanNode {\n  nodeType: string;\n  relationName?: string;\n  alias?: string;\n  startupCost: number;\n  totalCost: number;\n  planRows: number;\n  planWidth: number;\n  actualTime?: [number, number];\n  actualRows?: number;\n  actualLoops?: number;\n  indexName?: string;\n  filter?: string;\n  plans?: QueryPlanNode[];\n}\n\n/**\n * Vacuum operation options\n */\nexport interface VacuumOptions {\n  full?: boolean;\n  freeze?: boolean;\n  analyze?: boolean;\n  verbose?: boolean;\n  skipLocked?: boolean;\n  indexCleanup?: boolean;\n  truncate?: boolean;\n  parallel?: number;\n}\n\n/**\n * Table bloat information\n */\nexport interface TableBloat {\n  tableName: string;\n  realSize: number;\n  expectedSize: number;\n  bloatSize: number;\n  bloatPercentage: number;\n  deadTuples: number;\n  wastedBytes: number;\n}\n\n/**\n * Cache performance metrics\n */\nexport interface CacheMetrics {\n  hitRate: number;\n  missRate: number;\n  totalHits: number;\n  totalMisses: number;\n  bufferCacheSize: number;\n  sharedBuffers: number;\n  effectiveCacheSize: number;\n}\n\n/**\n * Index recommendation\n */\nexport interface IndexRecommendation {\n  tableName: string;\n  columns: string[];\n  reason: string;\n  estimatedImprovement: number;\n  priority: 'high' | 'medium' | 'low';\n  indexType: 'btree' | 'hash' | 'gin' | 'gist';\n  createStatement: string;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/optimization/types/index.ts",
        "start": 10,
        "end": 142,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 20
        },
        "endLoc": {
          "line": 142,
          "column": 2,
          "position": 764
        }
      },
      "secondFile": {
        "name": "src/database/services/optimization/types.ts",
        "start": 8,
        "end": 140,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 140,
          "column": 2,
          "position": 747
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ",\n        {\n          replacements: { tableName },\n          type: QueryTypes.SELECT,\n        }\n      );\n\n      return results as IndexInfo[];\n    } else if (dialect === 'mysql') {\n      const whereClause = tableName ? `WHERE TABLE_NAME = :tableName` : '';\n\n      const [results] = await sequelize.query(\n        `\n        SELECT\n          INDEX_NAME AS name,\n          TABLE_NAME AS tableName,\n          COLUMN_NAME AS columnName,\n          NON_UNIQUE = 0 AS \\`unique\\`,\n          INDEX_TYPE AS type,\n          CARDINALITY AS scans\n        FROM INFORMATION_SCHEMA.STATISTICS\n        WHERE TABLE_SCHEMA = DATABASE()\n          ",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/optimization/index-management/index.ts",
        "start": 60,
        "end": 82,
        "startLoc": {
          "line": 60,
          "column": 8,
          "position": 218
        },
        "endLoc": {
          "line": 82,
          "column": 11,
          "position": 316
        }
      },
      "secondFile": {
        "name": "src/database/services/optimization/index-management.service.ts",
        "start": 70,
        "end": 92,
        "startLoc": {
          "line": 70,
          "column": 6,
          "position": 155
        },
        "endLoc": {
          "line": 92,
          "column": 9,
          "position": 253
        }
      }
    },
    {
      "format": "typescript",
      "lines": 38,
      "fragment": "createOptimizedIndex(\n    queryInterface: QueryInterface,\n    tableName: string,\n    columns: string[],\n    options: {\n      unique?: boolean;\n      name?: string;\n      type?: 'btree' | 'hash' | 'gin' | 'gist' | 'brin';\n      where?: string;\n      concurrently?: boolean;\n      operator?: string;\n    } = {}\n  ): Promise<void> {\n    const {\n      unique = false,\n      name,\n      type = 'btree',\n      where,\n      concurrently = true,\n      operator,\n    } = options;\n\n    const sequelize = queryInterface.sequelize;\n    const dialect = sequelize.getDialect();\n\n    const indexName = name || `idx_${tableName}_${columns.join('_')}`;\n\n    if (dialect === 'postgres') {\n      const uniqueClause = unique ? 'UNIQUE' : '';\n      const concurrentlyClause = concurrently ? 'CONCURRENTLY' : '';\n      const columnList = columns.map(col =>\n        operator ? `${col} ${operator}` : col\n      ).join(', ');\n      const whereClause = where ? `WHERE ${where}` : '';\n\n      await sequelize.query(\n        `CREATE ${uniqueClause} INDEX ${concurrentlyClause} \"${indexName}\"\n         ON \"",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/optimization/index-management/index.ts",
        "start": 165,
        "end": 202,
        "startLoc": {
          "line": 165,
          "column": 2,
          "position": 751
        },
        "endLoc": {
          "line": 202,
          "column": 14,
          "position": 1107
        }
      },
      "secondFile": {
        "name": "src/database/services/optimization/index-management.service.ts",
        "start": 214,
        "end": 251,
        "startLoc": {
          "line": 214,
          "column": 2,
          "position": 741
        },
        "endLoc": {
          "line": 251,
          "column": 12,
          "position": 1096
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "${tableName}\" USING ${type} (${columnList}) ${whereClause}`,\n        { raw: true }\n      );\n    } else {\n      await queryInterface.addIndex(tableName, columns, {\n        name: indexName,\n        unique,\n        type: type === 'btree' ? undefined : type,\n        where: where ? { [where]: true } : undefined,\n      });\n    }\n  }\n\n  /**\n   * Rebuilds an index to reclaim space and improve performance\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/optimization/index-management/index.ts",
        "start": 202,
        "end": 217,
        "startLoc": {
          "line": 202,
          "column": 14,
          "position": 1108
        },
        "endLoc": {
          "line": 217,
          "column": 6,
          "position": 1229
        }
      },
      "secondFile": {
        "name": "src/database/services/optimization/index-management.service.ts",
        "start": 251,
        "end": 282,
        "startLoc": {
          "line": 251,
          "column": 12,
          "position": 1097
        },
        "endLoc": {
          "line": 282,
          "column": 4,
          "position": 1216
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const dialect = sequelize.getDialect();\n\n    if (dialect === 'postgres') {\n      const concurrentlyClause = concurrent ? 'CONCURRENTLY' : '';\n      await sequelize.query(`REINDEX INDEX ${concurrentlyClause} \"${indexName}\"`, {\n        raw: true,\n      });\n    } else if (dialect === 'mysql') {\n      // MySQL doesn't support concurrent index rebuild\n      // Need to get table name first\n      const [results] = await sequelize.query(\n        `SELECT TABLE_NAME FROM INFORMATION_SCHEMA.STATISTICS\n         WHERE INDEX_NAME = :indexName AND TABLE_SCHEMA = DATABASE() LIMIT 1`",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/optimization/index-management/index.ts",
        "start": 224,
        "end": 236,
        "startLoc": {
          "line": 224,
          "column": 5,
          "position": 1287
        },
        "endLoc": {
          "line": 236,
          "column": 78,
          "position": 1404
        }
      },
      "secondFile": {
        "name": "src/database/services/optimization/index-management.service.ts",
        "start": 288,
        "end": 300,
        "startLoc": {
          "line": 288,
          "column": 3,
          "position": 1262
        },
        "endLoc": {
          "line": 300,
          "column": 76,
          "position": 1379
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": "},\n    },\n  );\n\n  if (dialect === 'postgres') {\n    return (results[0] as { exists: boolean }).exists;\n  } else {\n    return (results[0] as { count: number }).count > 0;\n  }\n}\n\n/**\n * Creates an optimized index with performance considerations\n *\n * @param queryInterface - Sequelize QueryInterface instance\n * @param tableName - Name of the table\n * @param indexDefinition - Index configuration\n * @param transaction - Optional transaction for atomic operations\n * @returns Promise that resolves when index is created\n *\n * @example\n * await createOptimizedIndex(queryInterface, 'Users', {\n *   name: 'users_email_idx',\n *   fields: ['email'],\n *   unique: true,\n *   concurrently: true\n * });\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/utilities/constraint-operations.service.ts",
        "start": 262,
        "end": 289,
        "startLoc": {
          "line": 262,
          "column": 2,
          "position": 1107
        },
        "endLoc": {
          "line": 289,
          "column": 4,
          "position": 1197
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/table-operations.service.ts",
        "start": 259,
        "end": 280,
        "startLoc": {
          "line": 259,
          "column": 2,
          "position": 1213
        },
        "endLoc": {
          "line": 280,
          "column": 4,
          "position": 1303
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "},\n    },\n  );\n\n  if (dialect === 'postgres') {\n    return (results[0] as { exists: boolean }).exists;\n  } else {\n    return (results[0] as { count: number }).count > 0;\n  }\n}\n\n/**\n * Analyzes index usage and provides optimization recommendations\n *\n * @param queryInterface - Sequelize QueryInterface instance\n * @param tableName - Name of the table to analyze\n * @returns Promise that resolves with index analysis\n *\n * @example\n * const analysis = await analyzeIndexUsage(queryInterface, 'Users');\n * console.log('Unused indexes:', analysis.unusedIndexes);\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/utilities/constraint-operations.service.ts",
        "start": 526,
        "end": 547,
        "startLoc": {
          "line": 526,
          "column": 2,
          "position": 2432
        },
        "endLoc": {
          "line": 547,
          "column": 4,
          "position": 2522
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/table-operations.service.ts",
        "start": 259,
        "end": 280,
        "startLoc": {
          "line": 259,
          "column": 2,
          "position": 1213
        },
        "endLoc": {
          "line": 280,
          "column": 4,
          "position": 1303
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": "},\n    },\n  );\n\n  if (dialect === 'postgres') {\n    return (results[0] as { exists: boolean }).exists;\n  } else {\n    return (results[0] as { count: number }).count > 0;\n  }\n}\n\n/**\n * Adds a column in a zero-downtime manner (nullable first, then populate, then constrain)\n *\n * @param queryInterface - Sequelize QueryInterface instance\n * @param tableName - Name of the table\n * @param columnName - Name of the column to add\n * @param definition - Final column definition\n * @param options - Zero-downtime options\n * @returns Promise that resolves when column is added\n *\n * @example\n * await addColumnZeroDowntime(queryInterface, 'Users', 'status', {\n *   type: DataTypes.ENUM('active', 'inactive'),\n *   allowNull: false,\n *   defaultValue: 'active'\n * });\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 273,
        "end": 300,
        "startLoc": {
          "line": 273,
          "column": 2,
          "position": 1482
        },
        "endLoc": {
          "line": 300,
          "column": 4,
          "position": 1572
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/table-operations.service.ts",
        "start": 259,
        "end": 280,
        "startLoc": {
          "line": 259,
          "column": 2,
          "position": 1213
        },
        "endLoc": {
          "line": 280,
          "column": 4,
          "position": 1303
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "export interface SchemaComparison {\n  tablesAdded: string[];\n  tablesRemoved: string[];\n  tablesModified: string[];\n  columnsAdded: Record<string, string[]>;\n  columnsRemoved: Record<string, string[]>;\n  columnsModified: Record<string, string[]>;\n  indexesAdded: Record<string, string[]>;\n  indexesRemoved: Record<string, string[]>;\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/types/migration-utilities.types.ts",
        "start": 66,
        "end": 77,
        "startLoc": {
          "line": 66,
          "column": 1,
          "position": 443
        },
        "endLoc": {
          "line": 77,
          "column": 7,
          "position": 556
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/types.ts",
        "start": 92,
        "end": 105,
        "startLoc": {
          "line": 92,
          "column": 1,
          "position": 474
        },
        "endLoc": {
          "line": 105,
          "column": 4,
          "position": 587
        }
      }
    },
    {
      "format": "typescript",
      "lines": 47,
      "fragment": "> = {\n      id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true,\n        allowNull: false,\n      },\n      ...attributes,\n    };\n\n    // Add timestamp fields if enabled\n    if (timestamps) {\n      completeAttributes.createdAt = {\n        type: DataTypes.DATE,\n        allowNull: false,\n        defaultValue: Sequelize.literal('CURRENT_TIMESTAMP'),\n      };\n      completeAttributes.updatedAt = {\n        type: DataTypes.DATE,\n        allowNull: false,\n        defaultValue: Sequelize.literal('CURRENT_TIMESTAMP'),\n      };\n    }\n\n    // Add soft delete field if paranoid\n    if (paranoid) {\n      completeAttributes.deletedAt = {\n        type: DataTypes.DATE,\n        allowNull: true,\n      };\n    }\n\n    // Create table\n    await queryInterface.createTable(tableName, completeAttributes, {\n      transaction,\n      comment,\n    });\n\n    // Create indexes\n    for (const index of indexes) {\n      await queryInterface.addIndex(tableName, index.fields, {\n        ...index,\n        transaction,\n      });\n    }\n\n    this",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/table-operations.service.ts",
        "start": 40,
        "end": 86,
        "startLoc": {
          "line": 40,
          "column": 4,
          "position": 269
        },
        "endLoc": {
          "line": 86,
          "column": 5,
          "position": 556
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/table-operations.service.ts",
        "start": 57,
        "end": 102,
        "startLoc": {
          "line": 57,
          "column": 8,
          "position": 188
        },
        "endLoc": {
          "line": 102,
          "column": 2,
          "position": 473
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ",\n    transaction?: Transaction,\n  ): Promise<void> {\n    const sequelize = queryInterface.sequelize;\n    const t = transaction || (await sequelize.transaction());\n\n    try {\n      // Execute alterations within transaction\n      await alterations(queryInterface, t);\n\n      // Commit if we created the transaction\n      if (!transaction) {\n        await t.commit();\n      }\n\n      this",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/table-operations.service.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 626
        },
        "endLoc": {
          "line": 110,
          "column": 5,
          "position": 731
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/table-operations.service.ts",
        "start": 121,
        "end": 135,
        "startLoc": {
          "line": 121,
          "column": 24,
          "position": 506
        },
        "endLoc": {
          "line": 135,
          "column": 2,
          "position": 609
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ".customFunction(row);\n          await sequelize.query(\n            `UPDATE \"${tableName}\" SET \"${columnName}\" = :newValue WHERE id = :id`,\n            {\n              replacements: { newValue, id: row.id },\n            },\n          );\n          rowsUpdated++;\n        }\n        break;\n    }\n\n    // Get count of updated rows\n    if (strategy !== 'function') {\n      const [countResult] = await sequelize.query(\n        `SELECT COUNT(*) as count FROM \"${tableName}\" WHERE \"${columnName}\" IS NOT NULL`,\n      );\n      rowsUpdated = (countResult[0] as any",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/table-operations.service.ts",
        "start": 309,
        "end": 326,
        "startLoc": {
          "line": 309,
          "column": 15,
          "position": 2209
        },
        "endLoc": {
          "line": 326,
          "column": 4,
          "position": 2343
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 576,
        "end": 593,
        "startLoc": {
          "line": 576,
          "column": 7,
          "position": 3209
        },
        "endLoc": {
          "line": 593,
          "column": 2,
          "position": 3343
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n      batchSize = 1000,\n      where = {},\n      transform,\n      validate,\n      onError,\n    } = config;\n\n    const sequelize = queryInterface.sequelize;\n    let offset = 0;\n    let totalProcessed = 0;\n    let totalModified = 0;\n    let errors = 0;\n\n    this.logger.log(`Starting batch data transformation for ",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/data-migration.service.ts",
        "start": 27,
        "end": 41,
        "startLoc": {
          "line": 27,
          "column": 12,
          "position": 153
        },
        "endLoc": {
          "line": 41,
          "column": 41,
          "position": 253
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/table-operations.service.ts",
        "start": 130,
        "end": 144,
        "startLoc": {
          "line": 130,
          "column": 12,
          "position": 858
        },
        "endLoc": {
          "line": 144,
          "column": 31,
          "position": 958
        }
      }
    },
    {
      "format": "typescript",
      "lines": 35,
      "fragment": "}...`);\n\n    while (true) {\n      const transaction = await sequelize.transaction();\n\n      try {\n        // Fetch batch\n        const whereClause = Object.keys(where).length\n          ? `WHERE ${Object.entries(where)\n              .map(([key, val]) => `\"${key}\" = '${val}'`)\n              .join(' AND ')}`\n          : '';\n\n        const [results] = await sequelize.query(\n          `SELECT * FROM \"${sourceTable}\" ${whereClause} ORDER BY id LIMIT ${batchSize} OFFSET ${offset}`,\n          { transaction },\n        );\n\n        if (results.length === 0) {\n          await transaction.commit();\n          break;\n        }\n\n        // Transform and validate batch\n        for (const row of results as any[]) {\n          try {\n            // Validate if validator provided\n            if (validate && !(await validate(row))) {\n              continue;\n            }\n\n            // Transform row\n            const transformedRow = await transform(row);\n\n            // Update row in source table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/data-migration.service.ts",
        "start": 41,
        "end": 75,
        "startLoc": {
          "line": 41,
          "column": 12,
          "position": 256
        },
        "endLoc": {
          "line": 75,
          "column": 30,
          "position": 493
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/table-operations.service.ts",
        "start": 144,
        "end": 178,
        "startLoc": {
          "line": 144,
          "column": 12,
          "position": 965
        },
        "endLoc": {
          "line": 178,
          "column": 30,
          "position": 1202
        }
      }
    },
    {
      "format": "typescript",
      "lines": 36,
      "fragment": "}\" SET ${setClause} WHERE id = :id`,\n                {\n                  replacements: { ...transformedRow, id: row.id },\n                  transaction,\n                },\n              );\n              totalModified++;\n            }\n\n            totalProcessed++;\n          } catch (error) {\n            errors++;\n            if (onError) {\n              onError(error as Error, row);\n            } else {\n              this.logger.error(`Error transforming row:`, error);\n            }\n          }\n        }\n\n        await transaction.commit();\n\n        offset += batchSize;\n        this.logger.debug(`Processed ${totalProcessed} records...`);\n\n        // Small delay to prevent overwhelming the database\n        await new Promise((resolve) => setTimeout(resolve, 100));\n      } catch (error) {\n        await transaction.rollback();\n        this.logger.error(`Error processing batch at offset ${offset}:`, error);\n        throw error;\n      }\n    }\n\n    this.logger.log(\n      `Batch transformation complete. Processed: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/data-migration.service.ts",
        "start": 83,
        "end": 118,
        "startLoc": {
          "line": 83,
          "column": 12,
          "position": 584
        },
        "endLoc": {
          "line": 118,
          "column": 44,
          "position": 833
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/table-operations.service.ts",
        "start": 186,
        "end": 221,
        "startLoc": {
          "line": 186,
          "column": 12,
          "position": 1293
        },
        "endLoc": {
          "line": 221,
          "column": 38,
          "position": 1542
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "addColumnWithDefaults(\n    queryInterface: QueryInterface,\n    tableName: string,\n    columnName: string,\n    definition: ColumnDefinition,\n    options: {\n      populateDefault?: boolean;\n      validate?: boolean;\n    } = {},\n    transaction?: Transaction,\n  ): Promise<void> {\n    const { populateDefault = true, validate = true } = options;\n\n    // Add column as nullable first\n    const tempDefinition = { ...definition, allowNull: true };\n    await queryInterface.addColumn(tableName, columnName, tempDefinition, {\n      transaction,\n    });\n\n    // Populate default values if specified",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 18,
        "end": 37,
        "startLoc": {
          "line": 18,
          "column": 2,
          "position": 91
        },
        "endLoc": {
          "line": 37,
          "column": 40,
          "position": 251
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 35,
        "end": 54,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 57
        },
        "endLoc": {
          "line": 54,
          "column": 63,
          "position": 216
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": "if (populateDefault && definition.defaultValue !== undefined) {\n      const dialect = queryInterface.sequelize.getDialect();\n      const tableRef = dialect === 'postgres' ? `\"${tableName}\"` : `\\`${tableName}\\``;\n      const columnRef = dialect === 'postgres' ? `\"${columnName}\"` : `\\`${columnName}\\``;\n\n      await queryInterface.sequelize.query(\n        `UPDATE ${tableRef} SET ${columnRef} = :defaultValue WHERE ${columnRef} IS NULL`,\n        {\n          replacements: { defaultValue: definition.defaultValue },\n          transaction,\n        },\n      );\n    }\n\n    // Update column to final definition (with allowNull constraint)\n    if (!definition.allowNull) {\n      await queryInterface.changeColumn(tableName, columnName, definition, {\n        transaction,\n      });\n    }\n\n    // Validate data if requested\n    if (validate) {\n      const [results] = await queryInterface.sequelize.query(\n        `SELECT COUNT(*) as count FROM \"${tableName}\" WHERE \"${columnName}\" IS NULL`,\n        { transaction },\n      );\n      const count = (results[0] as any",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 38,
        "end": 65,
        "startLoc": {
          "line": 38,
          "column": 5,
          "position": 254
        },
        "endLoc": {
          "line": 65,
          "column": 4,
          "position": 525
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 55,
        "end": 82,
        "startLoc": {
          "line": 55,
          "column": 3,
          "position": 219
        },
        "endLoc": {
          "line": 82,
          "column": 2,
          "position": 490
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "removeColumnSafely(\n    queryInterface: QueryInterface,\n    tableName: string,\n    columnName: string,\n    options: {\n      backup?: boolean;\n      backupTable?: string;\n      ifExists?: boolean;\n    } = {},\n    transaction?: Transaction,\n  ): Promise<void> {\n    const { backup = false, backupTable, ifExists = true } = options;\n\n    // Check if column exists\n    if (ifExists) {\n      const columnExists = await this",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 79,
        "end": 94,
        "startLoc": {
          "line": 79,
          "column": 2,
          "position": 611
        },
        "endLoc": {
          "line": 94,
          "column": 5,
          "position": 743
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 104,
        "end": 119,
        "startLoc": {
          "line": 104,
          "column": 2,
          "position": 564
        },
        "endLoc": {
          "line": 119,
          "column": 18,
          "position": 695
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "checkColumnExists(\n        queryInterface,\n        tableName,\n        columnName,\n      );\n      if (!columnExists) {\n        return;\n      }\n    }\n\n    // Create backup if requested\n    if (backup) {\n      const backupTableName = backupTable || `${tableName}_${columnName}_backup`;\n      await queryInterface.sequelize.query(\n        `CREATE TABLE \"${backupTableName}\" AS SELECT id, \"${columnName}\" FROM \"${tableName}\"`,\n        { transaction },\n      );\n    }\n\n    // Remove column\n    await queryInterface.removeColumn(tableName, columnName, { transaction });\n\n    this",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 94,
        "end": 116,
        "startLoc": {
          "line": 94,
          "column": 2,
          "position": 745
        },
        "endLoc": {
          "line": 116,
          "column": 5,
          "position": 887
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 119,
        "end": 140,
        "startLoc": {
          "line": 119,
          "column": 2,
          "position": 695
        },
        "endLoc": {
          "line": 140,
          "column": 2,
          "position": 835
        }
      }
    },
    {
      "format": "typescript",
      "lines": 47,
      "fragment": "= {},\n    transaction?: Transaction,\n  ): Promise<void> {\n    const { castUsing, validate = true, tempColumn = false } = options;\n    const sequelize = queryInterface.sequelize;\n    const dialect = sequelize.getDialect();\n\n    if (tempColumn || dialect === 'postgres') {\n      // Use temporary column approach for complex conversions\n      const tempColumnName = `${columnName}_temp`;\n\n      // Add temporary column\n      await queryInterface.addColumn(tableName, tempColumnName, newDefinition, {\n        transaction,\n      });\n\n      // Copy and convert data\n      const castExpression = castUsing || `\"${columnName}\"`;\n      await sequelize.query(\n        `UPDATE \"${tableName}\" SET \"${tempColumnName}\" = ${castExpression}`,\n        { transaction },\n      );\n\n      // Drop old column\n      await queryInterface.removeColumn(tableName, columnName, { transaction });\n\n      // Rename temp column to original name\n      await queryInterface.renameColumn(\n        tableName,\n        tempColumnName,\n        columnName,\n        { transaction },\n      );\n    } else {\n      // Direct column modification\n      await queryInterface.changeColumn(tableName, columnName, newDefinition, {\n        transaction,\n      });\n    }\n\n    // Validate conversion if requested\n    if (validate) {\n      const [results] = await sequelize.query(\n        `SELECT COUNT(*) as count FROM \"${tableName}\" WHERE \"${columnName}\" IS NULL`,\n        { transaction },\n      );\n      this",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 131,
        "end": 177,
        "startLoc": {
          "line": 131,
          "column": 2,
          "position": 979
        },
        "endLoc": {
          "line": 177,
          "column": 5,
          "position": 1337
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 163,
        "end": 209,
        "startLoc": {
          "line": 163,
          "column": 2,
          "position": 883
        },
        "endLoc": {
          "line": 209,
          "column": 8,
          "position": 1240
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "checkColumnExists(\n    queryInterface: QueryInterface,\n    tableName: string,\n    columnName: string,\n  ): Promise<boolean> {\n    const sequelize = queryInterface.sequelize;\n    const dialect = sequelize.getDialect();\n\n    const [results] = await sequelize.query(\n      dialect === 'postgres'\n        ? `SELECT EXISTS (\n            SELECT FROM information_schema.columns\n            WHERE table_schema = 'public'\n            AND table_name = :tableName\n            AND column_name = :columnName\n          )`",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 206,
        "end": 221,
        "startLoc": {
          "line": 206,
          "column": 2,
          "position": 1516
        },
        "endLoc": {
          "line": 221,
          "column": 13,
          "position": 1604
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 252,
        "end": 267,
        "startLoc": {
          "line": 252,
          "column": 2,
          "position": 1373
        },
        "endLoc": {
          "line": 267,
          "column": 11,
          "position": 1460
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ",\n) {\n  return applyDecorators(\n    ApiExtraModels(type),\n    ApiResponse({\n      status: 200,\n      description,\n      schema: {\n        type: 'object',\n        properties: {\n          data: {\n            type: 'array',\n            items: { $ref: getSchemaPath(type) },\n          },\n          pagination: {\n            type: 'object',\n            properties: {\n              page",
      "tokens": 0,
      "firstFile": {
        "name": "src/config/swagger/responses/pagination-builders.ts",
        "start": 71,
        "end": 88,
        "startLoc": {
          "line": 71,
          "column": 28,
          "position": 311
        },
        "endLoc": {
          "line": 88,
          "column": 5,
          "position": 419
        }
      },
      "secondFile": {
        "name": "src/config/swagger/responses/pagination-builders.ts",
        "start": 22,
        "end": 39,
        "startLoc": {
          "line": 22,
          "column": 28,
          "position": 73
        },
        "endLoc": {
          "line": 39,
          "column": 11,
          "position": 181
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ",\n) {\n  return applyDecorators(\n    ApiExtraModels(type),\n    ApiResponse({\n      status: 200,\n      description,\n      schema: {\n        type: 'object',\n        properties: {\n          data: {\n            type: 'array',\n            items: { $ref: getSchemaPath(type) },\n          },\n          pagination: {\n            type: 'object',\n            properties: {\n              after",
      "tokens": 0,
      "firstFile": {
        "name": "src/config/swagger/responses/pagination-builders.ts",
        "start": 163,
        "end": 180,
        "startLoc": {
          "line": 163,
          "column": 28,
          "position": 809
        },
        "endLoc": {
          "line": 180,
          "column": 6,
          "position": 917
        }
      },
      "secondFile": {
        "name": "src/config/swagger/responses/pagination-builders.ts",
        "start": 22,
        "end": 39,
        "startLoc": {
          "line": 22,
          "column": 28,
          "position": 73
        },
        "endLoc": {
          "line": 39,
          "column": 11,
          "position": 181
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n) {\n  return applyDecorators(\n    ApiExtraModels(type),\n    ApiResponse({\n      status: 200,\n      description,\n      schema: {\n        type: 'object',\n        properties: {\n          data: {\n            type: 'array',\n            items: { $ref: getSchemaPath(type) },\n          },\n          aggregates",
      "tokens": 0,
      "firstFile": {
        "name": "src/config/swagger/responses/pagination-builders.ts",
        "start": 352,
        "end": 366,
        "startLoc": {
          "line": 352,
          "column": 37,
          "position": 1782
        },
        "endLoc": {
          "line": 366,
          "column": 11,
          "position": 1871
        }
      },
      "secondFile": {
        "name": "src/config/swagger/responses/pagination-builders.ts",
        "start": 22,
        "end": 36,
        "startLoc": {
          "line": 22,
          "column": 28,
          "position": 73
        },
        "endLoc": {
          "line": 36,
          "column": 11,
          "position": 162
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "},\n          },\n          pagination: {\n            type: 'object',\n            properties: {\n              page: { type: 'integer' },\n              limit: { type: 'integer' },\n              total: { type: 'integer' },\n            },\n          },\n        },\n      },\n    })\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/config/swagger/responses/pagination-builders.ts",
        "start": 374,
        "end": 388,
        "startLoc": {
          "line": 374,
          "column": 13,
          "position": 1990
        },
        "endLoc": {
          "line": 388,
          "column": 2,
          "position": 2082
        }
      },
      "secondFile": {
        "name": "src/config/swagger/responses/pagination-builders.ts",
        "start": 263,
        "end": 277,
        "startLoc": {
          "line": 263,
          "column": 2,
          "position": 1359
        },
        "endLoc": {
          "line": 277,
          "column": 2,
          "position": 1451
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "return applyDecorators(\n    ApiProduces(mimeType),\n    ApiResponse({\n      status: 200,\n      description,\n      content: {\n        [mimeType]: {\n          schema: {\n            type: 'string',\n            format: 'binary',\n          },\n        },\n      },\n      headers: {\n        'Content-Type': {\n          description: 'Image MIME type'",
      "tokens": 0,
      "firstFile": {
        "name": "src/config/swagger/responses/file-builders.ts",
        "start": 195,
        "end": 210,
        "startLoc": {
          "line": 195,
          "column": 3,
          "position": 716
        },
        "endLoc": {
          "line": 210,
          "column": 18,
          "position": 806
        }
      },
      "secondFile": {
        "name": "src/config/swagger/responses/file-builders.ts",
        "start": 77,
        "end": 92,
        "startLoc": {
          "line": 77,
          "column": 3,
          "position": 314
        },
        "endLoc": {
          "line": 92,
          "column": 22,
          "position": 404
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ";\n  }\n\n  /**\n   * Get client IP address\n   */\n  private getClientIp(request: Request): string {\n    return (\n      (request.headers['x-forwarded-for'] as string)?.split(',')[0] ||\n      (request.headers['x-real-ip'] as string) ||\n      request.socket.remoteAddress ||\n      'unknown'\n    );\n  }\n\n  /**\n   * Generate request ID if not present\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/exceptions/filters/hipaa-exception.filter.ts",
        "start": 420,
        "end": 437,
        "startLoc": {
          "line": 420,
          "column": 22,
          "position": 2996
        },
        "endLoc": {
          "line": 437,
          "column": 6,
          "position": 3088
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/filters/http-exception.filter.ts",
        "start": 333,
        "end": 350,
        "startLoc": {
          "line": 333,
          "column": 20,
          "position": 2560
        },
        "endLoc": {
          "line": 350,
          "column": 6,
          "position": 2652
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ");\n\n    // Build error response\n    const errorResponse: ErrorResponse = {\n      success: false,\n      timestamp: new Date().toISOString(),\n      path: request.url,\n      method: request.method,\n      statusCode: status,\n      error: errorInfo.error,\n      message: errorInfo.message,\n      errorCode: errorInfo.errorCode,\n      requestId,\n    };\n\n    // Add details in development mode\n    if (this.enableDetailedErrors &&",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/exceptions/filters/all-exceptions.filter.ts",
        "start": 66,
        "end": 82,
        "startLoc": {
          "line": 66,
          "column": 16,
          "position": 419
        },
        "endLoc": {
          "line": 82,
          "column": 3,
          "position": 532
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/filters/http-exception.filter.ts",
        "start": 53,
        "end": 69,
        "startLoc": {
          "line": 53,
          "column": 10,
          "position": 434
        },
        "endLoc": {
          "line": 69,
          "column": 2,
          "position": 546
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ");\n  }\n\n  /**\n   * Extract error information from exception\n   */\n  private extractErrorInfo(\n    exception: unknown,\n    isHttpException: boolean,\n  ): {\n    error: string;\n    message: string;\n    errorCode: string;\n  } {\n    if (isHttpException) {\n      const httpException = exception as HttpException;\n      const response = httpException.getResponse();\n\n      if (typeof response === 'string') {\n        return {\n          error: httpException.name,\n          message: response,\n          errorCode: SystemErrorCodes",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/exceptions/filters/all-exceptions.filter.ts",
        "start": 94,
        "end": 116,
        "startLoc": {
          "line": 94,
          "column": 14,
          "position": 629
        },
        "endLoc": {
          "line": 116,
          "column": 17,
          "position": 769
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/filters/hipaa-exception.filter.ts",
        "start": 232,
        "end": 254,
        "startLoc": {
          "line": 232,
          "column": 2,
          "position": 1785
        },
        "endLoc": {
          "line": 254,
          "column": 5,
          "position": 1925
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": ",\n      };\n    }\n\n    // Handle known error types\n    if (exception instanceof Error) {\n      return this.handleKnownError(exception);\n    }\n\n    // Unknown error type\n    return {\n      error: 'Internal Server Error',\n      message: 'An unexpected error occurred',\n      errorCode: SystemErrorCodes.INTERNAL_SERVER_ERROR,\n    };\n  }\n\n  /**\n   * Handle known error types\n   */\n  private handleKnownError(error: Error): {\n    error: string;\n    message: string;\n    errorCode: string;\n  } {\n    const errorName = error.name.toLowerCase();\n\n    // Database errors\n    if (errorName.includes('sequelize') || errorName.includes('database')) {\n      return {\n        error: 'Database Error',\n        message: this.isDevelopment\n          ? error.message\n          : 'A database error occurred'",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/exceptions/filters/all-exceptions.filter.ts",
        "start": 125,
        "end": 158,
        "startLoc": {
          "line": 125,
          "column": 22,
          "position": 843
        },
        "endLoc": {
          "line": 158,
          "column": 28,
          "position": 1039
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/filters/hipaa-exception.filter.ts",
        "start": 263,
        "end": 296,
        "startLoc": {
          "line": 263,
          "column": 2,
          "position": 2013
        },
        "endLoc": {
          "line": 296,
          "column": 47,
          "position": 2209
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ",\n        errorCode: SystemErrorCodes.TIMEOUT,\n      };\n    }\n\n    // Configuration errors\n    if (errorName.includes('config')) {\n      return {\n        error: 'Configuration Error',\n        message: this.isDevelopment\n          ? error.message\n          : 'A configuration error occurred',\n        errorCode: SystemErrorCodes.CONFIGURATION_ERROR,\n      };\n    }\n\n    // Generic error\n    return {\n      error: error.name,\n      message: this.isDevelopment\n        ? error.message\n        : 'An internal error occurred'",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/exceptions/filters/all-exceptions.filter.ts",
        "start": 176,
        "end": 197,
        "startLoc": {
          "line": 176,
          "column": 18,
          "position": 1146
        },
        "endLoc": {
          "line": 197,
          "column": 29,
          "position": 1267
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/filters/hipaa-exception.filter.ts",
        "start": 314,
        "end": 335,
        "startLoc": {
          "line": 314,
          "column": 37,
          "position": 2316
        },
        "endLoc": {
          "line": 335,
          "column": 48,
          "position": 2437
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "}\n\n  /**\n   * Get client IP address\n   */\n  private getClientIp(request: Request): string {\n    return (\n      (request.headers['x-forwarded-for'] as string)?.split(',')[0] ||\n      (request.headers['x-real-ip'] as string) ||\n      request.socket.remoteAddress ||\n      'unknown'\n    );\n  }\n\n  /**\n   * Send alert for critical errors\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/exceptions/filters/all-exceptions.filter.ts",
        "start": 271,
        "end": 287,
        "startLoc": {
          "line": 271,
          "column": 3,
          "position": 1832
        },
        "endLoc": {
          "line": 287,
          "column": 6,
          "position": 1921
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/filters/http-exception.filter.ts",
        "start": 334,
        "end": 350,
        "startLoc": {
          "line": 334,
          "column": 3,
          "position": 2563
        },
        "endLoc": {
          "line": 350,
          "column": 6,
          "position": 2652
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "errors.flatMap(\n      (error) => {\n        if (error.constraints) {\n          return Object.entries(error.constraints).map(\n            ([constraint, message]): ValidationErrorDetail => ({\n              field: error.property,\n              message: String(message),\n              value: error.value,\n              constraint,\n            }),\n          );\n        }\n        return [];\n      },",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/exceptions/exceptions/validation.exception.ts",
        "start": 168,
        "end": 181,
        "startLoc": {
          "line": 168,
          "column": 2,
          "position": 938
        },
        "endLoc": {
          "line": 181,
          "column": 2,
          "position": 1049
        }
      },
      "secondFile": {
        "name": "src/middleware/core/pipes/validation.pipe.ts",
        "start": 130,
        "end": 142,
        "startLoc": {
          "line": 130,
          "column": 2,
          "position": 631
        },
        "endLoc": {
          "line": 142,
          "column": 2,
          "position": 740
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "{\n  @ApiPropertyOptional({ description: 'Filter by student ID' })\n  @IsUUID()\n  @IsOptional()\n  studentId?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by clinic visit ID' })\n  @IsUUID()\n  @IsOptional()\n  visitId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Filter by status'",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/treatment/treatment-plan-filters.dto.ts",
        "start": 9,
        "end": 21,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 76
        },
        "endLoc": {
          "line": 21,
          "column": 19,
          "position": 158
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/vitals/vitals-filters.dto.ts",
        "start": 8,
        "end": 19,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 63
        },
        "endLoc": {
          "line": 19,
          "column": 21,
          "position": 144
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": ";\n\n  @ApiPropertyOptional({\n    description: 'Number of results to return',\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  @IsOptional()\n  limit?: number = 20;\n\n  @ApiPropertyOptional({\n    description: 'Number of results to skip',\n    minimum: 0,\n    default: 0,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(0)\n  @IsOptional()\n  offset?: number = 0;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/treatment/treatment-plan-filters.dto.ts",
        "start": 31,
        "end": 56,
        "startLoc": {
          "line": 31,
          "column": 7,
          "position": 226
        },
        "endLoc": {
          "line": 56,
          "column": 2,
          "position": 392
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/vitals/vitals-filters.dto.ts",
        "start": 34,
        "end": 59,
        "startLoc": {
          "line": 34,
          "column": 5,
          "position": 261
        },
        "endLoc": {
          "line": 59,
          "column": 2,
          "position": 427
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "{\n  @ApiProperty({\n    description: 'Student ID',\n    example: '123e4567-e89b-12d3-a456-426614174000',\n  })\n  @IsUUID()\n  studentId: string;\n\n  @ApiPropertyOptional({ description: 'Associated clinic visit ID' })\n  @IsUUID()\n  @IsOptional()\n  visitId?: string;\n\n  @ApiProperty({\n    description: 'Staff member creating the plan'",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/treatment/create-treatment-plan.dto.ts",
        "start": 9,
        "end": 23,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 79
        },
        "endLoc": {
          "line": 23,
          "column": 33,
          "position": 164
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/vitals/record-vitals.dto.ts",
        "start": 8,
        "end": 21,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 78
        },
        "endLoc": {
          "line": 21,
          "column": 32,
          "position": 162
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": ";\n\n  @ApiPropertyOptional({\n    description: 'Number of results to return',\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  @IsOptional()\n  limit?: number = 20;\n\n  @ApiPropertyOptional({\n    description: 'Number of results to skip',\n    minimum: 0,\n    default: 0,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(0)\n  @IsOptional()\n  offset?: number = 0;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/protocol/protocol-filters.dto.ts",
        "start": 39,
        "end": 64,
        "startLoc": {
          "line": 39,
          "column": 8,
          "position": 277
        },
        "endLoc": {
          "line": 64,
          "column": 2,
          "position": 443
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/vitals/vitals-filters.dto.ts",
        "start": 34,
        "end": 59,
        "startLoc": {
          "line": 34,
          "column": 5,
          "position": 261
        },
        "endLoc": {
          "line": 59,
          "column": 2,
          "position": 427
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "{\n  @ApiPropertyOptional({ description: 'Filter by student ID' })\n  @IsUUID()\n  @IsOptional()\n  studentId?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by clinic visit ID' })\n  @IsUUID()\n  @IsOptional()\n  visitId?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by treatment plan ID'",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/prescription/prescription-filters.dto.ts",
        "start": 9,
        "end": 20,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 79
        },
        "endLoc": {
          "line": 20,
          "column": 30,
          "position": 160
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/vitals/vitals-filters.dto.ts",
        "start": 8,
        "end": 19,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 63
        },
        "endLoc": {
          "line": 19,
          "column": 21,
          "position": 144
        }
      }
    },
    {
      "format": "typescript",
      "lines": 31,
      "fragment": ",\n    default: false,\n  })\n  @Type(() => Boolean)\n  @IsOptional()\n  activeOnly?: boolean;\n\n  @ApiPropertyOptional({\n    description: 'Number of results to return',\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  @IsOptional()\n  limit?: number = 20;\n\n  @ApiPropertyOptional({\n    description: 'Number of results to skip',\n    minimum: 0,\n    default: 0,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(0)\n  @IsOptional()\n  offset?: number = 0;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/prescription/prescription-filters.dto.ts",
        "start": 44,
        "end": 74,
        "startLoc": {
          "line": 44,
          "column": 33,
          "position": 313
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 516
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/protocol/protocol-filters.dto.ts",
        "start": 34,
        "end": 59,
        "startLoc": {
          "line": 34,
          "column": 29,
          "position": 240
        },
        "endLoc": {
          "line": 59,
          "column": 2,
          "position": 427
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "{\n  @ApiPropertyOptional({ description: 'Filter by student ID' })\n  @IsUUID()\n  @IsOptional()\n  studentId?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by clinic visit ID' })\n  @IsUUID()\n  @IsOptional()\n  visitId?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by note type'",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/note/note-filters.dto.ts",
        "start": 9,
        "end": 20,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 79
        },
        "endLoc": {
          "line": 20,
          "column": 22,
          "position": 160
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/vitals/vitals-filters.dto.ts",
        "start": 8,
        "end": 19,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 63
        },
        "endLoc": {
          "line": 19,
          "column": 21,
          "position": 144
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "?: boolean;\n\n  @ApiPropertyOptional({\n    description: 'Number of results to return',\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  @IsOptional()\n  limit?: number = 20;\n\n  @ApiPropertyOptional({\n    description: 'Number of results to skip',\n    minimum: 0,\n    default: 0,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(0)\n  @IsOptional()\n  offset?: number = 0;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/note/note-filters.dto.ts",
        "start": 46,
        "end": 71,
        "startLoc": {
          "line": 46,
          "column": 13,
          "position": 335
        },
        "endLoc": {
          "line": 71,
          "column": 2,
          "position": 505
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/protocol/protocol-filters.dto.ts",
        "start": 39,
        "end": 59,
        "startLoc": {
          "line": 39,
          "column": 11,
          "position": 273
        },
        "endLoc": {
          "line": 59,
          "column": 2,
          "position": 427
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "{\n  @ApiProperty({\n    description: 'Student ID',\n    example: '123e4567-e89b-12d3-a456-426614174000',\n  })\n  @IsUUID()\n  studentId: string;\n\n  @ApiPropertyOptional({ description: 'Associated clinic visit ID' })\n  @IsUUID()\n  @IsOptional()\n  visitId?: string;\n\n  @ApiProperty({\n    description: 'Note type'",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/note/create-note.dto.ts",
        "start": 8,
        "end": 22,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 69
        },
        "endLoc": {
          "line": 22,
          "column": 12,
          "position": 154
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/vitals/record-vitals.dto.ts",
        "start": 8,
        "end": 21,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 78
        },
        "endLoc": {
          "line": 21,
          "column": 32,
          "position": 162
        }
      }
    },
    {
      "format": "typescript",
      "lines": 38,
      "fragment": ";\n\n  @ApiPropertyOptional({ description: 'Start date for date range filter' })\n  @Type(() => Date)\n  @IsDate()\n  @IsOptional()\n  dateFrom?: Date;\n\n  @ApiPropertyOptional({ description: 'End date for date range filter' })\n  @Type(() => Date)\n  @IsDate()\n  @IsOptional()\n  dateTo?: Date;\n\n  @ApiPropertyOptional({\n    description: 'Number of results to return',\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  @IsOptional()\n  limit?: number = 20;\n\n  @ApiPropertyOptional({\n    description: 'Number of results to skip',\n    minimum: 0,\n    default: 0,\n  })\n  @Type(() => Number)\n  @IsInt()\n  @Min(0)\n  @IsOptional()\n  offset?: number = 0;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/dto/follow-up/follow-up-filters.dto.ts",
        "start": 49,
        "end": 86,
        "startLoc": {
          "line": 49,
          "column": 8,
          "position": 346
        },
        "endLoc": {
          "line": 86,
          "column": 2,
          "position": 606
        }
      },
      "secondFile": {
        "name": "src/clinical/dto/vitals/vitals-filters.dto.ts",
        "start": 22,
        "end": 59,
        "startLoc": {
          "line": 22,
          "column": 7,
          "position": 167
        },
        "endLoc": {
          "line": 59,
          "column": 2,
          "position": 427
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ");\n      jest.spyOn(reflector, 'getAllAndOverride').mockReturnValue([\n        UserRole.ADMIN,\n        UserRole.SCHOOL_ADMIN,\n      ]);\n\n      const result = guard.canActivate(context);\n\n      expect(result).toBe(true);\n    });\n\n    it('should deny access when user has none of the required roles'",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/guards/__tests__/roles.guard.spec.ts",
        "start": 143,
        "end": 154,
        "startLoc": {
          "line": 143,
          "column": 16,
          "position": 1094
        },
        "endLoc": {
          "line": 154,
          "column": 62,
          "position": 1167
        }
      },
      "secondFile": {
        "name": "src/auth/guards/__tests__/roles.guard.spec.ts",
        "start": 126,
        "end": 137,
        "startLoc": {
          "line": 126,
          "column": 10,
          "position": 965
        },
        "endLoc": {
          "line": 137,
          "column": 82,
          "position": 1038
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ", () => {\n      const counselorUser = {\n        id: 'counselor-id',\n        email: 'counselor@whitecross.edu',\n        role: UserRole.COUNSELOR,\n      };\n      const context = createMockExecutionContext(counselorUser);\n      jest.spyOn(reflector, 'getAllAndOverride').mockReturnValue([UserRole.COUNSELOR]);\n\n      const result = guard.canActivate(context);\n\n      expect(result).toBe(true);\n    });\n\n    it('should allow both NURSE and COUNSELOR to access general health records'",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/guards/__tests__/roles.guard.spec.ts",
        "start": 397,
        "end": 411,
        "startLoc": {
          "line": 397,
          "column": 57,
          "position": 3157
        },
        "endLoc": {
          "line": 411,
          "column": 73,
          "position": 3274
        }
      },
      "secondFile": {
        "name": "src/auth/guards/__tests__/roles.guard.spec.ts",
        "start": 87,
        "end": 101,
        "startLoc": {
          "line": 87,
          "column": 60,
          "position": 632
        },
        "endLoc": {
          "line": 101,
          "column": 51,
          "position": 749
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", () => {\n      const schoolAdminUser = {\n        id: 'school-admin-id',\n        email: 'schooladmin@whitecross.edu',\n        role: UserRole.SCHOOL_ADMIN,\n      };\n      const context = createMockExecutionContext(schoolAdminUser);\n      jest.spyOn(reflector, 'getAllAndOverride').mockReturnValue([\n        UserRole.ADMIN,\n        UserRole.SCHOOL_ADMIN,\n      ]);\n\n      const result = guard.canActivate(context);\n\n      expect(result).toBe(true);\n    });\n\n    it('should allow DISTRICT_ADMIN to manage district-level resources'",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/guards/__tests__/roles.guard.spec.ts",
        "start": 454,
        "end": 471,
        "startLoc": {
          "line": 454,
          "column": 61,
          "position": 3596
        },
        "endLoc": {
          "line": 471,
          "column": 65,
          "position": 3724
        }
      },
      "secondFile": {
        "name": "src/auth/guards/__tests__/roles.guard.spec.ts",
        "start": 137,
        "end": 137,
        "startLoc": {
          "line": 137,
          "column": 82,
          "position": 1039
        },
        "endLoc": {
          "line": 137,
          "column": 82,
          "position": 1038
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "},\n            user: null,\n          }),\n        }),\n        getClass: jest.fn(),\n        getHandler: jest.fn(),\n      } as any;\n\n      const request = context.switchToHttp().getRequest();\n      const token = request.headers.authorization.split(' ')[1];\n\n      expect(token).toContain",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/guards/__tests__/jwt-auth.guard.spec.ts",
        "start": 339,
        "end": 350,
        "startLoc": {
          "line": 339,
          "column": 2,
          "position": 3008
        },
        "endLoc": {
          "line": 350,
          "column": 10,
          "position": 3106
        }
      },
      "secondFile": {
        "name": "src/auth/guards/__tests__/jwt-auth.guard.spec.ts",
        "start": 201,
        "end": 212,
        "startLoc": {
          "line": 201,
          "column": 2,
          "position": 1710
        },
        "endLoc": {
          "line": 212,
          "column": 10,
          "position": 1808
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n        }),\n      }),\n      getClass: jest.fn(),\n      getHandler: jest.fn(),\n    } as any;\n  };\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        ApiKeyGuard",
      "tokens": 0,
      "firstFile": {
        "name": "src/api-key-auth/guards/__tests__/api-key.guard.spec.ts",
        "start": 54,
        "end": 65,
        "startLoc": {
          "line": 54,
          "column": 12,
          "position": 352
        },
        "endLoc": {
          "line": 65,
          "column": 12,
          "position": 436
        }
      },
      "secondFile": {
        "name": "src/auth/guards/__tests__/jwt-auth.guard.spec.ts",
        "start": 40,
        "end": 51,
        "startLoc": {
          "line": 40,
          "column": 5,
          "position": 266
        },
        "endLoc": {
          "line": 51,
          "column": 13,
          "position": 350
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ");\n      jest.spyOn(reflector, 'getAllAndOverride').mockReturnValue(true);\n\n      const result = await guard.canActivate(context);\n\n      expect(result).toBe(true);\n      expect(reflector.getAllAndOverride).toHaveBeenCalledWith('isPublic', [\n        context.getHandler(),\n        context.getClass(),\n      ]);\n    });\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/api-key-auth/guards/__tests__/api-key.guard.spec.ts",
        "start": 102,
        "end": 113,
        "startLoc": {
          "line": 102,
          "column": 5,
          "position": 732
        },
        "endLoc": {
          "line": 113,
          "column": 2,
          "position": 825
        }
      },
      "secondFile": {
        "name": "src/auth/guards/__tests__/jwt-auth.guard.spec.ts",
        "start": 82,
        "end": 94,
        "startLoc": {
          "line": 82,
          "column": 6,
          "position": 600
        },
        "endLoc": {
          "line": 94,
          "column": 3,
          "position": 694
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "};\n      const permission = { resource: 'health-records', action: 'read' };\n      const context = createMockExecutionContext(user, permission, false);\n      mockAccessControlService.checkPermission.mockResolvedValue(true);\n\n      // Act\n      const result = await guard.canActivate(context);\n\n      // Assert\n      expect(result).toBe(true);\n      expect(accessControlService.checkPermission).toHaveBeenCalledWith(\n        'nurse-123'",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/guards/__tests__/permissions.guard.spec.ts",
        "start": 249,
        "end": 260,
        "startLoc": {
          "line": 249,
          "column": 2,
          "position": 2106
        },
        "endLoc": {
          "line": 260,
          "column": 12,
          "position": 2211
        }
      },
      "secondFile": {
        "name": "src/access-control/guards/__tests__/permissions.guard.spec.ts",
        "start": 132,
        "end": 143,
        "startLoc": {
          "line": 132,
          "column": 2,
          "position": 1031
        },
        "endLoc": {
          "line": 143,
          "column": 11,
          "position": 1136
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "};\n      const context = createMockExecutionContext(user, permission, false);\n      mockAccessControlService.checkPermission.mockResolvedValue(true);\n\n      // Act\n      const result = await guard.canActivate(context);\n\n      // Assert\n      expect(result).toBe(true);\n      expect(accessControlService.checkPermission).toHaveBeenCalledWith(\n        'admin-123'",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/guards/__tests__/permissions.guard.spec.ts",
        "start": 299,
        "end": 309,
        "startLoc": {
          "line": 299,
          "column": 2,
          "position": 2565
        },
        "endLoc": {
          "line": 309,
          "column": 12,
          "position": 2647
        }
      },
      "secondFile": {
        "name": "src/access-control/guards/__tests__/permissions.guard.spec.ts",
        "start": 133,
        "end": 143,
        "startLoc": {
          "line": 133,
          "column": 2,
          "position": 1054
        },
        "endLoc": {
          "line": 143,
          "column": 11,
          "position": 1136
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", async () => {\n      // Arrange\n      const user = { id: 'viewer-123' };\n      const permission = { resource: 'health-records', action: 'update' };\n      const context = createMockExecutionContext(user, permission, false);\n      mockAccessControlService.checkPermission.mockResolvedValue(false);\n\n      // Act & Assert\n      try {\n        await guard.canActivate(context);\n        fail('Should deny write access for viewers'",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/guards/__tests__/permissions.guard.spec.ts",
        "start": 512,
        "end": 522,
        "startLoc": {
          "line": 512,
          "column": 46,
          "position": 4461
        },
        "endLoc": {
          "line": 522,
          "column": 39,
          "position": 4568
        }
      },
      "secondFile": {
        "name": "src/access-control/guards/__tests__/permissions.guard.spec.ts",
        "start": 266,
        "end": 276,
        "startLoc": {
          "line": 266,
          "column": 38,
          "position": 2236
        },
        "endLoc": {
          "line": 276,
          "column": 38,
          "position": 2343
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "};\n      const permission = { resource: 'health-records', action: 'read' };\n      const context = createMockExecutionContext(user, permission, false);\n      mockAccessControlService.checkPermission.mockResolvedValue(true);\n\n      // Act\n      const result = await guard.canActivate(context);\n\n      // Assert\n      expect(result).toBe(true);\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/guards/__tests__/permissions.guard.spec.ts",
        "start": 533,
        "end": 543,
        "startLoc": {
          "line": 533,
          "column": 2,
          "position": 4649
        },
        "endLoc": {
          "line": 543,
          "column": 2,
          "position": 4743
        }
      },
      "secondFile": {
        "name": "src/access-control/guards/__tests__/permissions.guard.spec.ts",
        "start": 132,
        "end": 142,
        "startLoc": {
          "line": 132,
          "column": 2,
          "position": 1031
        },
        "endLoc": {
          "line": 142,
          "column": 7,
          "position": 1125
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n\n  @ApiPropertyOptional({\n    description: 'Associated school ID',\n    example: 'school-uuid',\n  })\n  @IsOptional()\n  @IsString()\n  schoolId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Associated district ID',\n    example: 'district-uuid',\n  })\n  @IsOptional()\n  @IsString()\n  districtId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Phone number',\n    example: '(555) 123-4567'",
      "tokens": 0,
      "firstFile": {
        "name": "src/user/dto/create-user.dto.ts",
        "start": 59,
        "end": 79,
        "startLoc": {
          "line": 59,
          "column": 9,
          "position": 424
        },
        "endLoc": {
          "line": 79,
          "column": 17,
          "position": 534
        }
      },
      "secondFile": {
        "name": "src/user/dto/update-user.dto.ts",
        "start": 51,
        "end": 71,
        "startLoc": {
          "line": 51,
          "column": 8,
          "position": 336
        },
        "endLoc": {
          "line": 71,
          "column": 17,
          "position": 446
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "{\n        where: {\n          role: UserRole.NURSE,\n          isActive: true,\n        },\n        order: [\n          ['lastName', 'ASC'],\n          ['firstName', 'ASC'],\n        ],\n        attributes: {\n          exclude: [\n            'password',\n            'passwordResetToken',\n            'passwordResetExpires',\n            'emailVerificationToken',\n            'emailVerificationExpires',\n            'twoFactorSecret',\n          ],\n        },\n      })",
      "tokens": 0,
      "firstFile": {
        "name": "src/user/__tests__/user.service.spec.ts",
        "start": 713,
        "end": 732,
        "startLoc": {
          "line": 713,
          "column": 2,
          "position": 5332
        },
        "endLoc": {
          "line": 732,
          "column": 2,
          "position": 5434
        }
      },
      "secondFile": {
        "name": "src/user/__tests__/user.service.spec.ts",
        "start": 624,
        "end": 643,
        "startLoc": {
          "line": 624,
          "column": 9,
          "position": 4674
        },
        "endLoc": {
          "line": 643,
          "column": 2,
          "position": 4776
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ",\n    @Optional() protected readonly requestContext?: RequestContextService,\n  ) {\n    super(\n      requestContext ||\n        ({\n          requestId: 'system',\n          userId: undefined,\n          getLogContext: () => ({ requestId: 'system' }),\n          getAuditContext: () => ({\n            requestId: 'system',\n            timestamp: new Date(),\n          }),\n        } as any),\n    );\n  }\n\n  /**\n   * Find all students with pagination and filters\n   * Supports search, grade filtering, nurse filtering, and active status\n   *\n   * OPTIMIZATION: Added eager loading to prevent N+1 queries\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-query.service.ts",
        "start": 41,
        "end": 63,
        "startLoc": {
          "line": 41,
          "column": 18,
          "position": 214
        },
        "endLoc": {
          "line": 63,
          "column": 6,
          "position": 339
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 38,
        "end": 58,
        "startLoc": {
          "line": 38,
          "column": 8,
          "position": 174
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 299
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": ".name);\n\n  constructor(\n    @InjectModel(Student)\n    private readonly studentModel: typeof Student,\n    @Optional() protected readonly requestContext?: RequestContextService,\n  ) {\n    super(\n      requestContext ||\n        ({\n          requestId: 'system',\n          userId: undefined,\n          getLogContext: () => ({ requestId: 'system' }),\n          getAuditContext: () => ({\n            requestId: 'system',\n            timestamp: new Date(),\n          }),\n        } as any),\n    );\n  }\n\n  /**\n   * Upload student photo\n   * Stores photo URL/path in student record and prepares for facial recognition indexing\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-photo.service.ts",
        "start": 34,
        "end": 58,
        "startLoc": {
          "line": 34,
          "column": 20,
          "position": 163
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 316
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 34,
        "end": 58,
        "startLoc": {
          "line": 34,
          "column": 23,
          "position": 146
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 299
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "): Promise<any> {\n    try {\n      this.validateUUID(studentId, 'Student ID');\n\n      // Verify student exists\n      const student = await this.studentModel.findByPk(studentId);\n      if (!student) {\n        throw new NotFoundException(`Student with ID ${studentId} not found`);\n      }\n\n      // Validate photo data",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-photo.service.ts",
        "start": 59,
        "end": 69,
        "startLoc": {
          "line": 59,
          "column": 15,
          "position": 333
        },
        "endLoc": {
          "line": 69,
          "column": 23,
          "position": 413
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 126,
        "end": 136,
        "startLoc": {
          "line": 126,
          "column": 18,
          "position": 852
        },
        "endLoc": {
          "line": 136,
          "column": 29,
          "position": 932
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ",\n    @Optional() protected readonly requestContext?: RequestContextService,\n  ) {\n    super(\n      requestContext ||\n        ({\n          requestId: 'system',\n          userId: undefined,\n          getLogContext: () => ({ requestId: 'system' }),\n          getAuditContext: () => ({\n            requestId: 'system',\n            timestamp: new Date(),\n          }),\n        } as any),\n    );\n  }\n\n  /**\n   * Get student health records with pagination\n   * Returns all health records including medications, allergies, immunizations, and visit logs\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-health-records.service.ts",
        "start": 40,
        "end": 60,
        "startLoc": {
          "line": 40,
          "column": 5,
          "position": 217
        },
        "endLoc": {
          "line": 60,
          "column": 6,
          "position": 342
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 38,
        "end": 58,
        "startLoc": {
          "line": 38,
          "column": 8,
          "position": 174
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 299
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "(\n    studentId: string,\n    page: number = 1,\n    limit: number = 20,\n  ): Promise<any> {\n    try {\n      this.validateUUID(studentId, 'Student ID');\n\n      // Verify student exists\n      await this.verifyStudentExists(studentId);\n\n      // Calculate offset for pagination\n      const offset = (page - 1) * limit;\n\n      // OPTIMIZATION: Eager load counselor and createdBy user relationships",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-health-records.service.ts",
        "start": 119,
        "end": 133,
        "startLoc": {
          "line": 119,
          "column": 30,
          "position": 706
        },
        "endLoc": {
          "line": 133,
          "column": 71,
          "position": 806
        }
      },
      "secondFile": {
        "name": "src/student/services/student-health-records.service.ts",
        "start": 61,
        "end": 75,
        "startLoc": {
          "line": 61,
          "column": 24,
          "position": 348
        },
        "endLoc": {
          "line": 75,
          "column": 40,
          "position": 448
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n  ) {\n    super(\n      requestContext ||\n        ({\n          requestId: 'system',\n          userId: undefined,\n          getLogContext: () => ({ requestId: 'system' }),\n          getAuditContext: () => ({\n            requestId: 'system',\n            timestamp: new Date(),\n          }),\n        } as any),\n    );\n  }\n\n  // ==================== CRUD Operations ====================",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-crud.service.ts",
        "start": 52,
        "end": 68,
        "startLoc": {
          "line": 52,
          "column": 14,
          "position": 364
        },
        "endLoc": {
          "line": 68,
          "column": 61,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 39,
        "end": 58,
        "startLoc": {
          "line": 39,
          "column": 22,
          "position": 191
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 299
        }
      }
    },
    {
      "format": "typescript",
      "lines": 35,
      "fragment": "async findAll(filterDto: StudentFilterDto): Promise<PaginatedResponse<Student>> {\n    try {\n      const { page = 1, limit = 20, search, grade, isActive, nurseId, gender } = filterDto;\n\n      const where: any = {};\n\n      // Apply filters\n      if (search) {\n        where[Op.or] = [\n          { firstName: { [Op.iLike]: `%${search}%` } },\n          { lastName: { [Op.iLike]: `%${search}%` } },\n          { studentNumber: { [Op.iLike]: `%${search}%` } },\n        ];\n      }\n\n      if (grade) {\n        where.grade = grade;\n      }\n\n      if (isActive !== undefined) {\n        where.isActive = isActive;\n      }\n\n      if (nurseId) {\n        where.nurseId = nurseId;\n      }\n\n      if (gender) {\n        where.gender = gender;\n      }\n\n      // Pagination\n      const offset = (page - 1) * limit;\n\n      // Execute query with eager loading",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-crud.service.ts",
        "start": 117,
        "end": 151,
        "startLoc": {
          "line": 117,
          "column": 3,
          "position": 766
        },
        "endLoc": {
          "line": 151,
          "column": 36,
          "position": 1078
        }
      },
      "secondFile": {
        "name": "src/student/services/student-query.service.ts",
        "start": 64,
        "end": 98,
        "startLoc": {
          "line": 64,
          "column": 3,
          "position": 342
        },
        "endLoc": {
          "line": 98,
          "column": 51,
          "position": 654
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "const { rows: data, count: total } = await this.studentModel.findAndCountAll({\n        where,\n        offset,\n        limit,\n        order: [\n          ['lastName', 'ASC'],\n          ['firstName', 'ASC'],\n        ],\n        include: [\n          {\n            model: User,\n            as: 'nurse',\n            attributes: ['id', 'firstName', 'lastName', 'email', 'role'],\n            required: false,\n          }",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-crud.service.ts",
        "start": 152,
        "end": 166,
        "startLoc": {
          "line": 152,
          "column": 7,
          "position": 1081
        },
        "endLoc": {
          "line": 166,
          "column": 2,
          "position": 1202
        }
      },
      "secondFile": {
        "name": "src/student/services/student-query.service.ts",
        "start": 99,
        "end": 112,
        "startLoc": {
          "line": 99,
          "column": 7,
          "position": 657
        },
        "endLoc": {
          "line": 112,
          "column": 55,
          "position": 777
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n        order: [\n          ['lastName', 'ASC'],\n          ['firstName', 'ASC'],\n        ],\n        include: [\n          {\n            model: User,\n            as: 'nurse',\n            attributes: ['id', 'firstName', 'lastName', 'email', 'role'],\n            required: false,\n          },\n        ],\n        attributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-crud.service.ts",
        "start": 155,
        "end": 168,
        "startLoc": {
          "line": 155,
          "column": 6,
          "position": 1120
        },
        "endLoc": {
          "line": 168,
          "column": 11,
          "position": 1210
        }
      },
      "secondFile": {
        "name": "src/student/services/student-query.service.ts",
        "start": 278,
        "end": 291,
        "startLoc": {
          "line": 278,
          "column": 2,
          "position": 1945
        },
        "endLoc": {
          "line": 291,
          "column": 2,
          "position": 2035
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "await this.studentModel.findAll({\n        where: {\n          isActive: true,\n          [Op.or]: [\n            { firstName: { [Op.iLike]: `%${query}%` } },\n            { lastName: { [Op.iLike]: `%${query}%` } },\n            { studentNumber: { [Op.iLike]: `%${query}%` } },\n          ],\n        },\n        order: [\n          ['lastName', 'ASC'],\n          ['firstName', 'ASC'],\n        ],\n        limit,\n      });\n\n      return",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-crud.service.ts",
        "start": 448,
        "end": 464,
        "startLoc": {
          "line": 448,
          "column": 2,
          "position": 3244
        },
        "endLoc": {
          "line": 464,
          "column": 7,
          "position": 3402
        }
      },
      "secondFile": {
        "name": "src/student/services/student-query.service.ts",
        "start": 141,
        "end": 156,
        "startLoc": {
          "line": 141,
          "column": 2,
          "position": 947
        },
        "endLoc": {
          "line": 156,
          "column": 2,
          "position": 1104
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ");\n\n    const nurse = await this.userModel.findOne({\n      where: {\n        id: nurseId,\n        role: UserRole.NURSE,\n        isActive: true,\n      } as any,\n    });\n\n    if (!nurse) {\n      throw new NotFoundException('Assigned nurse not found. Please select a valid, active nurse.');\n    }\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-crud.service.ts",
        "start": 561,
        "end": 574,
        "startLoc": {
          "line": 561,
          "column": 11,
          "position": 4177
        },
        "endLoc": {
          "line": 574,
          "column": 2,
          "position": 4266
        }
      },
      "secondFile": {
        "name": "src/student/services/student-validation.service.ts",
        "start": 108,
        "end": 122,
        "startLoc": {
          "line": 108,
          "column": 8,
          "position": 652
        },
        "endLoc": {
          "line": 122,
          "column": 5,
          "position": 742
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ",\n    @Optional() protected readonly requestContext: RequestContextService,\n    @Optional() private readonly eventEmitter: EventEmitter2,\n  ) {\n    super(\n      requestContext ||\n        ({\n          requestId: 'system',\n          userId: undefined,\n          getLogContext: () => ({ requestId: 'system' }),\n          getAuditContext: () => ({\n            requestId: 'system',\n            timestamp: new Date(),\n          }),\n        } as any),\n    );\n  }\n\n  /**\n   * Scan student barcode\n   * Validates barcode and returns student information\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-barcode.service.ts",
        "start": 31,
        "end": 52,
        "startLoc": {
          "line": 31,
          "column": 8,
          "position": 178
        },
        "endLoc": {
          "line": 52,
          "column": 6,
          "position": 318
        }
      },
      "secondFile": {
        "name": "src/student/services/student-crud.service.ts",
        "start": 50,
        "end": 58,
        "startLoc": {
          "line": 50,
          "column": 18,
          "position": 332
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 299
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ",\n    @Optional() protected readonly requestContext?: RequestContextService,\n  ) {\n    super(\n      requestContext ||\n        ({\n          requestId: 'system',\n          userId: undefined,\n          getLogContext: () => ({ requestId: 'system' }),\n          getAuditContext: () => ({\n            requestId: 'system',\n            timestamp: new Date(),\n          }),\n        } as any),\n    );\n  }\n\n  /**\n   * Import academic transcript\n   * Validates and stores transcript data with GPA calculations\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-academic.service.ts",
        "start": 43,
        "end": 63,
        "startLoc": {
          "line": 43,
          "column": 26,
          "position": 241
        },
        "endLoc": {
          "line": 63,
          "column": 6,
          "position": 366
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 38,
        "end": 58,
        "startLoc": {
          "line": 38,
          "column": 8,
          "position": 174
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 299
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "): Promise<any> {\n    try {\n      this.validateUUID(studentId, 'Student ID');\n\n      // Verify student exists\n      const student = await this.studentModel.findByPk(studentId);\n      if (!student) {\n        throw new NotFoundException(`Student with ID ${studentId} not found`);\n      }\n\n      // Validate transcript data",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-academic.service.ts",
        "start": 67,
        "end": 77,
        "startLoc": {
          "line": 67,
          "column": 3,
          "position": 389
        },
        "endLoc": {
          "line": 77,
          "column": 28,
          "position": 469
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 126,
        "end": 136,
        "startLoc": {
          "line": 126,
          "column": 18,
          "position": 852
        },
        "endLoc": {
          "line": 136,
          "column": 29,
          "position": 932
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "): Promise<any> {\n    try {\n      this.validateUUID(studentId, 'Student ID');\n\n      // Verify student exists\n      const student = await this.studentModel.findByPk(studentId);\n      if (!student) {\n        throw new NotFoundException(`Student with ID ${studentId} not found`);\n      }\n\n      // Get academic history from AcademicTranscriptService",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-academic.service.ts",
        "start": 153,
        "end": 163,
        "startLoc": {
          "line": 153,
          "column": 19,
          "position": 1105
        },
        "endLoc": {
          "line": 163,
          "column": 55,
          "position": 1185
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 126,
        "end": 136,
        "startLoc": {
          "line": 126,
          "column": 18,
          "position": 852
        },
        "endLoc": {
          "line": 136,
          "column": 29,
          "position": 932
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "): Promise<any> {\n    try {\n      this.validateUUID(studentId, 'Student ID');\n\n      // Verify student exists\n      const student = await this.studentModel.findByPk(studentId);\n      if (!student) {\n        throw new NotFoundException(`Student with ID ${studentId} not found`);\n      }\n\n      // Get performance trends from AcademicTranscriptService",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/services/student-academic.service.ts",
        "start": 212,
        "end": 222,
        "startLoc": {
          "line": 212,
          "column": 21,
          "position": 1593
        },
        "endLoc": {
          "line": 222,
          "column": 57,
          "position": 1673
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 126,
        "end": 136,
        "startLoc": {
          "line": 126,
          "column": 18,
          "position": 852
        },
        "endLoc": {
          "line": 136,
          "column": 29,
          "position": 932
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "dateOfBirth);\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n      age--;\n    }\n\n    return age;\n  }\n\n  /**\n   * Check if student is currently enrolled (active and not deleted)\n   * @returns true if student is active and not soft-deleted\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/models/student.model.ts",
        "start": 346,
        "end": 360,
        "startLoc": {
          "line": 346,
          "column": 2,
          "position": 1411
        },
        "endLoc": {
          "line": 360,
          "column": 6,
          "position": 1519
        }
      },
      "secondFile": {
        "name": "src/student/services/student-validation.service.ts",
        "start": 173,
        "end": 183,
        "startLoc": {
          "line": 173,
          "column": 2,
          "position": 1138
        },
        "endLoc": {
          "line": 183,
          "column": 2,
          "position": 1244
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    public readonly context: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      studentId: this.student.id,\n      changes",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/events/student.events.ts",
        "start": 95,
        "end": 106,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 380
        },
        "endLoc": {
          "line": 106,
          "column": 8,
          "position": 471
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 58,
        "end": 69,
        "startLoc": {
          "line": 58,
          "column": 17,
          "position": 168
        },
        "endLoc": {
          "line": 69,
          "column": 11,
          "position": 259
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      studentId: this.studentId,\n      graduationDate",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/events/student.events.ts",
        "start": 177,
        "end": 188,
        "startLoc": {
          "line": 177,
          "column": 7,
          "position": 862
        },
        "endLoc": {
          "line": 188,
          "column": 15,
          "position": 952
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 136,
        "end": 147,
        "startLoc": {
          "line": 136,
          "column": 5,
          "position": 623
        },
        "endLoc": {
          "line": 147,
          "column": 13,
          "position": 713
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      studentId: this.studentId,\n      healthRecordId",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/events/student.events.ts",
        "start": 222,
        "end": 233,
        "startLoc": {
          "line": 222,
          "column": 8,
          "position": 1111
        },
        "endLoc": {
          "line": 233,
          "column": 15,
          "position": 1201
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 136,
        "end": 147,
        "startLoc": {
          "line": 136,
          "column": 5,
          "position": 623
        },
        "endLoc": {
          "line": 147,
          "column": 13,
          "position": 713
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      studentId: this.studentId,\n      contactId",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/events/student.events.ts",
        "start": 259,
        "end": 270,
        "startLoc": {
          "line": 259,
          "column": 10,
          "position": 1334
        },
        "endLoc": {
          "line": 270,
          "column": 10,
          "position": 1424
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 136,
        "end": 147,
        "startLoc": {
          "line": 136,
          "column": 5,
          "position": 623
        },
        "endLoc": {
          "line": 147,
          "column": 13,
          "position": 713
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "?: Date,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      studentId: this.studentId,\n      immunizationType",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/events/student.events.ts",
        "start": 297,
        "end": 308,
        "startLoc": {
          "line": 297,
          "column": 8,
          "position": 1548
        },
        "endLoc": {
          "line": 308,
          "column": 17,
          "position": 1642
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 136,
        "end": 147,
        "startLoc": {
          "line": 136,
          "column": 13,
          "position": 619
        },
        "endLoc": {
          "line": 147,
          "column": 13,
          "position": 713
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ": string,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      studentId: this.studentId,\n      reason",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/events/student.events.ts",
        "start": 335,
        "end": 346,
        "startLoc": {
          "line": 335,
          "column": 7,
          "position": 1758
        },
        "endLoc": {
          "line": 346,
          "column": 7,
          "position": 1851
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 177,
        "end": 147,
        "startLoc": {
          "line": 177,
          "column": 2,
          "position": 859
        },
        "endLoc": {
          "line": 147,
          "column": 13,
          "position": 713
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    example: true,\n    required: false,\n    type: 'boolean',\n  })\n  @IsOptional()\n  @Transform(({ value }) => {\n    if (value === 'true') return true;\n    if (value === 'false') return false;\n    return value;\n  })\n  @IsBoolean({ message: 'HasAllergies must be a boolean'",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/dto/student-filter.dto.ts",
        "start": 102,
        "end": 113,
        "startLoc": {
          "line": 102,
          "column": 33,
          "position": 704
        },
        "endLoc": {
          "line": 113,
          "column": 33,
          "position": 804
        }
      },
      "secondFile": {
        "name": "src/student/dto/student-filter.dto.ts",
        "start": 66,
        "end": 77,
        "startLoc": {
          "line": 66,
          "column": 26,
          "position": 443
        },
        "endLoc": {
          "line": 77,
          "column": 29,
          "position": 543
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    example: true,\n    required: false,\n    type: 'boolean',\n  })\n  @IsOptional()\n  @Transform(({ value }) => {\n    if (value === 'true') return true;\n    if (value === 'false') return false;\n    return value;\n  })\n  @IsBoolean({ message: 'HasMedications must be a boolean'",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/dto/student-filter.dto.ts",
        "start": 117,
        "end": 128,
        "startLoc": {
          "line": 117,
          "column": 42,
          "position": 829
        },
        "endLoc": {
          "line": 128,
          "column": 35,
          "position": 929
        }
      },
      "secondFile": {
        "name": "src/student/dto/student-filter.dto.ts",
        "start": 66,
        "end": 77,
        "startLoc": {
          "line": 66,
          "column": 26,
          "position": 443
        },
        "endLoc": {
          "line": 77,
          "column": 29,
          "position": 543
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": "{\n  @ApiPropertyOptional({\n    description: 'Page number for pagination',\n    example: 1,\n    minimum: 1,\n    default: 1,\n  })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    description: 'Number of records per page',\n    example: 20,\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n  })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  limit?: number = 20;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/dto/mental-health-records.dto.ts",
        "start": 24,
        "end": 50,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 60
        },
        "endLoc": {
          "line": 50,
          "column": 2,
          "position": 239
        }
      },
      "secondFile": {
        "name": "src/student/dto/student-health-records.dto.ts",
        "start": 23,
        "end": 49,
        "startLoc": {
          "line": 23,
          "column": 2,
          "position": 60
        },
        "endLoc": {
          "line": 49,
          "column": 2,
          "position": 239
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n  })\n  @ApiResponse({\n    status: 401,\n    description: 'Unauthorized',\n  })\n  @ApiResponse({\n    status: 403,\n    description: 'Forbidden - Requires ADMIN or COUNSELOR role',\n  })\n  @ApiResponse({\n    status: 404,\n    description: 'Student not found',\n  })\n  @ApiResponse({\n    status: 409,\n    description: 'Student already has an active barcode'",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/controllers/student-barcode.controller.ts",
        "start": 50,
        "end": 66,
        "startLoc": {
          "line": 50,
          "column": 48,
          "position": 280
        },
        "endLoc": {
          "line": 66,
          "column": 40,
          "position": 375
        }
      },
      "secondFile": {
        "name": "src/student/controllers/student-waitlist.controller.ts",
        "start": 69,
        "end": 85,
        "startLoc": {
          "line": 69,
          "column": 47,
          "position": 307
        },
        "endLoc": {
          "line": 85,
          "column": 30,
          "position": 402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ");\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  // ==================== BASIC TESTS ====================\n\n  describe('Controller Definition', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should have studentService injected'",
      "tokens": 0,
      "firstFile": {
        "name": "src/student/__tests__/student.controller.spec.ts",
        "start": 96,
        "end": 110,
        "startLoc": {
          "line": 96,
          "column": 15,
          "position": 693
        },
        "endLoc": {
          "line": 110,
          "column": 38,
          "position": 776
        }
      },
      "secondFile": {
        "name": "src/user/__tests__/user.controller.spec.ts",
        "start": 99,
        "end": 113,
        "startLoc": {
          "line": 99,
          "column": 12,
          "position": 717
        },
        "endLoc": {
          "line": 113,
          "column": 35,
          "position": 800
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n): ValidationResult {\n  const errors: ValidationError[] = [];\n\n  if (!value) {\n    errors.push({\n      field: fieldName,\n      message: `${fieldName} is required`,\n      code: ValidationErrorCode.REQUIRED,\n    });\n  } else if (!allowedValues",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/validation/commonValidators.ts",
        "start": 272,
        "end": 282,
        "startLoc": {
          "line": 272,
          "column": 2,
          "position": 1916
        },
        "endLoc": {
          "line": 282,
          "column": 14,
          "position": 2000
        }
      },
      "secondFile": {
        "name": "src/shared/validation/commonValidators.ts",
        "start": 12,
        "end": 23,
        "startLoc": {
          "line": 12,
          "column": 5,
          "position": 48
        },
        "endLoc": {
          "line": 23,
          "column": 66,
          "position": 134
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "): Promise<ComplianceIssue[]> {\n    const issues: ComplianceIssue[] = [];\n    const modelsPath = path.join(projectPath, 'src', 'database', 'models');\n\n    if (!fs.existsSync(modelsPath)) {\n      return issues;\n    }\n\n    const modelFiles = fs\n      .readdirSync(modelsPath)\n      .filter((f) => f.endsWith('.model.ts'));\n\n    for (const file of modelFiles) {\n      const filePath = path.join(modelsPath, file);\n      const content = fs.readFileSync(filePath, 'utf8');\n\n      // Check for old association syntax",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/utils/sequelize-compliance-checker.ts",
        "start": 334,
        "end": 350,
        "startLoc": {
          "line": 334,
          "column": 3,
          "position": 2190
        },
        "endLoc": {
          "line": 350,
          "column": 36,
          "position": 2357
        }
      },
      "secondFile": {
        "name": "src/shared/utils/sequelize-compliance-checker.ts",
        "start": 191,
        "end": 207,
        "startLoc": {
          "line": 191,
          "column": 7,
          "position": 1205
        },
        "endLoc": {
          "line": 207,
          "column": 30,
          "position": 1372
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "export const isToday = (date: Date | string) => {\n  const today = new Date();\n  const compareDate = new Date(date);\n  return _.isEqual(\n    {\n      year: today.getFullYear(),\n      month: today.getMonth(),\n      date: today.getDate(),\n    },\n    {\n      year: compareDate.getFullYear(),\n      month: compareDate.getMonth(),\n      date: compareDate.getDate(),\n    },\n  );\n};\n\n/**\n * Checks if date is within last N days\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/utilities/date.ts",
        "start": 37,
        "end": 56,
        "startLoc": {
          "line": 37,
          "column": 1,
          "position": 25
        },
        "endLoc": {
          "line": 56,
          "column": 4,
          "position": 173
        }
      },
      "secondFile": {
        "name": "src/shared/utilities/date.utils.ts",
        "start": 49,
        "end": 87,
        "startLoc": {
          "line": 49,
          "column": 1,
          "position": 25
        },
        "endLoc": {
          "line": 87,
          "column": 4,
          "position": 173
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": "export const groupByPeriod = <T extends { date: Date | string }>(\n  items: T[],\n  period: 'day' | 'week' | 'month',\n) => {\n  return _.groupBy(items, (item: T) => {\n    const date = new Date(item.date);\n    switch (period) {\n      case 'day':\n        return date.toDateString();\n      case 'week': {\n        const weekStart = new Date(date);\n        weekStart.setDate(date.getDate() - date.getDay());\n        return weekStart.toDateString();\n      }\n      case 'month':\n        return `${date.getFullYear()}-${date.getMonth()}`;\n      default:\n        return date.toDateString();\n    }\n  });\n};\n\n/**\n * Calculates age from date of birth\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/utilities/date.ts",
        "start": 67,
        "end": 91,
        "startLoc": {
          "line": 67,
          "column": 1,
          "position": 266
        },
        "endLoc": {
          "line": 91,
          "column": 4,
          "position": 498
        }
      },
      "secondFile": {
        "name": "src/shared/utilities/date.utils.ts",
        "start": 128,
        "end": 174,
        "startLoc": {
          "line": 128,
          "column": 1,
          "position": 266
        },
        "endLoc": {
          "line": 174,
          "column": 4,
          "position": 498
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "export const calculateAge = (dateOfBirth: Date | string) => {\n  const birth = new Date(dateOfBirth);\n  const today = new Date();\n  let age = today.getFullYear() - birth.getFullYear();\n  const monthDiff = today.getMonth() - birth.getMonth();\n\n  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {\n    age--;\n  }\n\n  return age;\n};\n\nexport default {\n  isToday,\n  isWithinLastDays,\n  groupByPeriod,\n  calculateAge,\n};",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/utilities/date.ts",
        "start": 92,
        "end": 110,
        "startLoc": {
          "line": 92,
          "column": 1,
          "position": 500
        },
        "endLoc": {
          "line": 110,
          "column": 2,
          "position": 678
        }
      },
      "secondFile": {
        "name": "src/shared/utilities/date.utils.ts",
        "start": 175,
        "end": 193,
        "startLoc": {
          "line": 175,
          "column": 1,
          "position": 500
        },
        "endLoc": {
          "line": 193,
          "column": 2,
          "position": 678
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "export const filterEmergencyContactsByPriority = <\n  T extends { priority: string },\n>(\n  contacts: T[],\n  priority: string,\n) => {\n  return _.filter(contacts, { priority });\n};\n\nexport default {\n  groupBy,\n  uniqBy,\n  chunk,\n  intersection,\n  compact,\n  flatten,\n  flattenDeep,\n  groupMedicationsByStudent,\n  groupHealthRecordsByType,\n  filterActiveRecords,\n  sortByDateDesc,\n  sortByDateAsc,\n  groupAppointmentsByNurse,\n  groupStudentsByGrade,\n  filterEmergencyContactsByPriority,\n};",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/utilities/array.ts",
        "start": 137,
        "end": 162,
        "startLoc": {
          "line": 137,
          "column": 1,
          "position": 755
        },
        "endLoc": {
          "line": 162,
          "column": 2,
          "position": 894
        }
      },
      "secondFile": {
        "name": "src/shared/utilities/array.utils.ts",
        "start": 358,
        "end": 383,
        "startLoc": {
          "line": 358,
          "column": 1,
          "position": 755
        },
        "endLoc": {
          "line": 383,
          "column": 2,
          "position": 894
        }
      }
    },
    {
      "format": "typescript",
      "lines": 37,
      "fragment": "export const ALLOWED_SORT_FIELDS: Record<string, string[]> = {\n  inventory: [\n    'name',\n    'quantity',\n    'category',\n    'createdAt',\n    'updatedAt',\n    'expirationDate',\n  ],\n  healthRecords: ['date', 'type', 'createdAt', 'title', 'provider'],\n  students: ['firstName', 'lastName', 'grade', 'studentNumber', 'createdAt'],\n  medications: ['name', 'category', 'stockQuantity', 'expirationDate'],\n  appointments: ['scheduledAt', 'status', 'type', 'createdAt'],\n  users: ['firstName', 'lastName', 'email', 'role', 'createdAt'],\n  reports: ['createdAt', 'type', 'status'],\n};\n\n/**\n * Allowed sort orders for ORDER BY clauses\n *\n * @constant {ReadonlyArray<string>} ALLOWED_SORT_ORDERS\n * @description Whitelist of allowed sort direction values (ASC/DESC).\n * Prevents SQL injection in ORDER BY direction parameter.\n *\n * **Allowed Values:**\n * - `ASC` - Ascending order (uppercase)\n * - `DESC` - Descending order (uppercase)\n * - `asc` - Ascending order (lowercase)\n * - `desc` - Descending order (lowercase)\n *\n * @example\n * const isValid = ALLOWED_SORT_ORDERS.includes('ASC'); // true\n * const isInvalid = ALLOWED_SORT_ORDERS.includes('RANDOM()'); // false\n *\n * @security Prevents injection of SQL functions in sort order\n * @see {@link validateSortOrder} for validation function\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/sql-sanitizer.service.ts",
        "start": 168,
        "end": 204,
        "startLoc": {
          "line": 168,
          "column": 1,
          "position": 19
        },
        "endLoc": {
          "line": 204,
          "column": 4,
          "position": 192
        }
      },
      "secondFile": {
        "name": "src/shared/security/sqlSanitizer.ts",
        "start": 86,
        "end": 108,
        "startLoc": {
          "line": 86,
          "column": 1,
          "position": 19
        },
        "endLoc": {
          "line": 108,
          "column": 4,
          "position": 192
        }
      }
    },
    {
      "format": "typescript",
      "lines": 85,
      "fragment": "export function validateSortField(field: string, entityType: string): string {\n  const allowedFields = ALLOWED_SORT_FIELDS[entityType];\n\n  if (!allowedFields) {\n    logger.error('Invalid entity type for sort validation', { entityType });\n    throw new SqlInjectionError(\n      `Invalid entity type: ${entityType}`,\n      entityType,\n    );\n  }\n\n  if (!allowedFields.includes(field)) {\n    logger.warn('SQL injection attempt detected - invalid sort field', {\n      field,\n      entityType,\n      allowedFields,\n    });\n    throw new SqlInjectionError(\n      `Invalid sort field: ${field}. Allowed fields: ${allowedFields.join(', ')}`,\n      field,\n    );\n  }\n\n  return field;\n}\n\n/**\n * Validate sort order (ASC/DESC)\n *\n * @function validateSortOrder\n * @param {string} order - Sort order from user input (ASC/DESC/asc/desc)\n * @returns {('ASC' | 'DESC')} Validated and normalized sort order (uppercase)\n * @throws {SqlInjectionError} If order is not ASC or DESC\n *\n * @description\n * Validates and normalizes sort order parameter to prevent SQL injection in ORDER BY clauses.\n * Only accepts ASC or DESC (case-insensitive) and rejects any other input including SQL functions.\n *\n * **Validation Logic:**\n * 1. Convert input to uppercase\n * 2. Check if value is in ALLOWED_SORT_ORDERS whitelist\n * 3. Return normalized uppercase value (ASC or DESC)\n * 4. Throw SqlInjectionError if invalid\n *\n * **Attack Prevention:**\n * - Blocks SQL functions: RANDOM(), RAND(), NEWID()\n * - Blocks SQL keywords: SELECT, UNION, WHERE\n * - Blocks boolean logic: OR 1=1, AND 1=1\n * - Blocks comments: double dash, slash-star, star-slash\n *\n * @example\n * // Valid sort orders\n * const order1 = validateSortOrder('ASC');  // Returns: 'ASC'\n * const order2 = validateSortOrder('desc'); // Returns: 'DESC' (normalized)\n * const query = 'SELECT * FROM students ORDER BY name ' + order1;\n *\n * @example\n * // SQL injection attempt - blocked\n * try {\n *   const order = validateSortOrder('RANDOM()');\n * } catch (error) {\n *   console.log(error instanceof SqlInjectionError); // true\n *   console.log(error.attemptedValue); // 'RANDOM()'\n * }\n *\n * @example\n * // Case-insensitive validation\n * validateSortOrder('asc');  // Returns: 'ASC'\n * validateSortOrder('ASC');  // Returns: 'ASC'\n * validateSortOrder('Asc');  // Returns: 'ASC'\n *\n * @throws {SqlInjectionError} \"Invalid sort order: {order}\" - Not ASC or DESC\n *\n * @security\n * - Returns normalized uppercase value for consistency\n * - Logs all validation failures for monitoring\n * - Prevents database-specific randomization functions\n * - Fails closed: rejects anything except ASC/DESC\n *\n * **OWASP:** A03:2021 Injection - Prevents ORDER BY injection\n * **CWE:** CWE-89 SQL Injection - Whitelist validation\n *\n * @see {@link ALLOWED_SORT_ORDERS} for allowed values\n * @see {@link validateSortField} for field validation\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/sql-sanitizer.service.ts",
        "start": 352,
        "end": 436,
        "startLoc": {
          "line": 352,
          "column": 1,
          "position": 309
        },
        "endLoc": {
          "line": 436,
          "column": 4,
          "position": 488
        }
      },
      "secondFile": {
        "name": "src/shared/security/sqlSanitizer.ts",
        "start": 178,
        "end": 219,
        "startLoc": {
          "line": 178,
          "column": 1,
          "position": 306
        },
        "endLoc": {
          "line": 219,
          "column": 4,
          "position": 485
        }
      }
    },
    {
      "format": "typescript",
      "lines": 37,
      "fragment": "export function validateSortOrder(order: string): 'ASC' | 'DESC' {\n  const upperOrder = order.toUpperCase();\n\n  if (!ALLOWED_SORT_ORDERS.map((o) => o.toUpperCase()).includes(upperOrder)) {\n    logger.warn('SQL injection attempt detected - invalid sort order', {\n      order,\n    });\n    throw new SqlInjectionError(\n      `Invalid sort order: ${order}. Allowed: ASC, DESC`,\n      order,\n    );\n  }\n\n  return upperOrder as 'ASC' | 'DESC';\n}\n\n/**\n * Pagination parameters with safe defaults\n *\n * @interface PaginationParams\n * @description Validated pagination parameters for safe query construction.\n * Prevents resource exhaustion attacks through unbounded result sets.\n *\n * @property {number} page - Page number (1-indexed, validated  1)\n * @property {number} limit - Results per page (validated, capped at maxLimit)\n * @property {number} offset - SQL OFFSET value (calculated from page and limit)\n *\n * @example\n * const params: PaginationParams = {\n *   page: 2,\n *   limit: 50,\n *   offset: 50  // (2-1) * 50\n * };\n *\n * @security Prevents resource exhaustion DoS attacks\n * @see {@link validatePagination} for parameter validation\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/sql-sanitizer.service.ts",
        "start": 437,
        "end": 473,
        "startLoc": {
          "line": 437,
          "column": 1,
          "position": 490
        },
        "endLoc": {
          "line": 473,
          "column": 4,
          "position": 620
        }
      },
      "secondFile": {
        "name": "src/shared/security/sqlSanitizer.ts",
        "start": 220,
        "end": 243,
        "startLoc": {
          "line": 220,
          "column": 1,
          "position": 487
        },
        "endLoc": {
          "line": 243,
          "column": 4,
          "position": 617
        }
      }
    },
    {
      "format": "typescript",
      "lines": 123,
      "fragment": "export function validatePagination(\n  page?: number | string,\n  limit?: number | string,\n  maxLimit: number = 1000,\n): PaginationParams {\n  const validatedPage = parseInt(String(page || 1), 10);\n  const requestedLimit = parseInt(String(limit || 50), 10);\n\n  if (isNaN(validatedPage) || validatedPage < 1) {\n    throw new SqlInjectionError('Invalid page number', String(page));\n  }\n\n  if (isNaN(requestedLimit) || requestedLimit < 1) {\n    throw new SqlInjectionError('Invalid limit value', String(limit));\n  }\n\n  // Enforce maximum limit\n  const validatedLimit = Math.min(requestedLimit, maxLimit);\n\n  if (requestedLimit > maxLimit) {\n    logger.warn('Pagination limit exceeded maximum', {\n      requested: requestedLimit,\n      enforced: maxLimit,\n    });\n  }\n\n  return {\n    page: validatedPage,\n    limit: validatedLimit,\n    offset: (validatedPage - 1) * validatedLimit,\n  };\n}\n\n/**\n * Build safe LIKE pattern for search queries\n *\n * @function buildSafeLikePattern\n * @param {string} searchTerm - User search input\n * @param {('starts' | 'ends' | 'contains')} [matchType='contains'] - Pattern match type\n * @returns {string} Escaped LIKE pattern safe for parameterized queries\n *\n * @description\n * Escapes SQL LIKE special characters (%, _, \\) to prevent second-order SQL injection\n * attacks through search functionality. Returns safe pattern for use in parameterized\n * WHERE LIKE clauses.\n *\n * **IMPORTANT**: This function escapes the pattern, but you **MUST** still use\n * parameterized queries to prevent SQL injection. Never concatenate the result\n * directly into a SQL string.\n *\n * **Escaping Logic:**\n * 1. Escape backslash first (\\  \\\\)\n * 2. Escape percent wildcard (%  \\%)\n * 3. Escape underscore wildcard (_  \\_)\n * 4. Add wildcards based on match type\n *\n * **Match Types:**\n * - 'starts' - Prefix match: searchTerm%\n * - 'ends' - Suffix match: %searchTerm\n * - 'contains' - Substring match: %searchTerm% (default)\n *\n * **Attack Prevention:**\n * - **Second-Order SQL Injection**: Escapes stored malicious patterns\n * - **LIKE Wildcard Abuse**: Escapes % and _ to prevent unintended matches\n * - **Performance DoS**: Prevents %%%%% patterns causing slow queries\n *\n * @example\n * // Safe LIKE search (CORRECT - uses parameterized query)\n * const pattern = buildSafeLikePattern(userInput.search, 'contains');\n * const query = 'SELECT * FROM students WHERE name LIKE ?';\n * const results = await db.query(query, [pattern]);\n *\n * @example\n * // Prefix search (starts with)\n * const pattern = buildSafeLikePattern('John', 'starts');\n * // Returns: 'John%'\n * // Matches: John, Johnson, Johnny\n *\n * @example\n * // Suffix search (ends with)\n * const pattern = buildSafeLikePattern('son', 'ends');\n * // Returns: '%son'\n * // Matches: Johnson, Anderson, Wilson\n *\n * @example\n * // Contains search (default)\n * const pattern = buildSafeLikePattern('mit', 'contains');\n * // Returns: '%mit%'\n * // Matches: Smith, Admit, Commitment\n *\n * @example\n * // Escapes special LIKE characters\n * const pattern = buildSafeLikePattern('100% coverage', 'contains');\n * // Returns: '%100\\\\% coverage%'\n * // Matches exactly: \"100% coverage\" (not \"100X coverage\")\n *\n * @example\n * // Escapes underscores\n * const pattern = buildSafeLikePattern('test_case', 'contains');\n * // Returns: '%test\\\\_case%'\n * // Matches exactly: \"test_case\" (not \"testXcase\")\n *\n * @example\n * // Empty search term\n * const pattern = buildSafeLikePattern('', 'contains');\n * // Returns: '%'\n * // Matches: all records\n *\n * @security\n * - **ALWAYS** use with parameterized queries\n * - **NEVER** concatenate into SQL string:\n *    WRONG: 'SELECT * FROM users WHERE name LIKE ' + pattern\n *    RIGHT: db.query('SELECT * FROM users WHERE name LIKE ?', [pattern])\n * - Escaping prevents LIKE wildcards, but NOT SQL injection\n * - Consider adding minimum search length (e.g.,  3 chars) for performance\n * - Log searches with many wildcards (potential DoS indicator)\n *\n * **OWASP:** A03:2021 Injection - Defense against second-order SQL injection\n * **CWE:** CWE-89 SQL Injection - Pattern escaping mitigation\n *\n * @see {@link https://www.postgresql.org/docs/current/functions-matching.html|PostgreSQL LIKE}\n * @see {@link https://dev.mysql.com/doc/refman/8.0/en/string-comparison-functions.html#operator_like|MySQL LIKE}\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/sql-sanitizer.service.ts",
        "start": 560,
        "end": 682,
        "startLoc": {
          "line": 560,
          "column": 1,
          "position": 656
        },
        "endLoc": {
          "line": 682,
          "column": 4,
          "position": 945
        }
      },
      "secondFile": {
        "name": "src/shared/security/sqlSanitizer.ts",
        "start": 286,
        "end": 357,
        "startLoc": {
          "line": 286,
          "column": 1,
          "position": 653
        },
        "endLoc": {
          "line": 357,
          "column": 4,
          "position": 942
        }
      }
    },
    {
      "format": "typescript",
      "lines": 39,
      "fragment": "export function buildSafeLikePattern(\n  searchTerm: string,\n  matchType: 'starts' | 'ends' | 'contains' = 'contains',\n): string {\n  if (!searchTerm) return '%';\n\n  // Escape special LIKE characters\n  const escaped = searchTerm\n    .replace(/\\\\/g, '\\\\\\\\') // Escape backslash first\n    .replace(/%/g, '\\\\%') // Escape percent\n    .replace(/_/g, '\\\\_'); // Escape underscore\n\n  switch (matchType) {\n    case 'starts':\n      return `${escaped}%`;\n    case 'ends':\n      return `%${escaped}`;\n    case 'contains':\n    default:\n      return `%${escaped}%`;\n  }\n}\n\n/**\n * Default export containing all SQL sanitization utilities\n *\n * @description\n * Provides convenient access to all SQL injection prevention functions and classes.\n * Use named imports for better tree-shaking and IDE intelligence.\n *\n * @example\n * // Named imports (recommended)\n * import { validateSortField, buildSafeLikePattern } from './sql-sanitizer.service';\n *\n * @example\n * // Default import\n * import sqlSanitizer from './sql-sanitizer.service';\n * const field = sqlSanitizer.validateSortField('name', 'students');\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/sql-sanitizer.service.ts",
        "start": 683,
        "end": 721,
        "startLoc": {
          "line": 683,
          "column": 1,
          "position": 947
        },
        "endLoc": {
          "line": 721,
          "column": 4,
          "position": 1118
        }
      },
      "secondFile": {
        "name": "src/shared/security/sqlSanitizer.ts",
        "start": 358,
        "end": 381,
        "startLoc": {
          "line": 358,
          "column": 1,
          "position": 944
        },
        "endLoc": {
          "line": 381,
          "column": 7,
          "position": 1115
        }
      }
    },
    {
      "format": "typescript",
      "lines": 205,
      "fragment": "/**\n * LOC: EF7C0862D0\n * WC-GEN-322 | rateLimiting.ts - General utility functions and operations\n *\n * UPSTREAM (imports from):\n *   - logger.ts (shared/logging/logger.ts)\n *\n * DOWNSTREAM (imported by):\n *   - None (not imported)\n */\n\n/**\n * WC-GEN-322 | rateLimiting.ts - General utility functions and operations\n * Purpose: general utility functions and operations\n * Upstream: ../logging/logger | Dependencies: @hapi/hapi, redis, ../logging/logger\n * Downstream: Routes, services, other modules | Called by: Application components\n * Related: Similar modules, tests, documentation\n * Exports: types, constants, functions, default export | Key Services: Core functionality\n * Last Updated: 2025-10-17 | File Type: .ts\n * Critical Path: Module loading  Function execution  Response handling\n * LLM Context: general utility functions and operations, part of backend architecture\n */\n\n/**\n * Rate Limiting Utilities\n * Prevents brute force attacks and API abuse\n *\n * Security: OWASP API Security Top 10 - API4:2023 Unrestricted Resource Consumption\n * HIPAA: Protects against PHI data harvesting attacks\n */\n\nimport { Request, ResponseToolkit } from '@hapi/hapi';\nimport { createClient } from 'redis';\nimport { logger } from '../logging/logger';\nimport * as Boom from '@hapi/boom';\n\n// Redis client for distributed rate limiting\nlet redisClient: ReturnType<typeof createClient> | null = null;\n\n// In-memory fallback when Redis unavailable\nconst inMemoryStore = new Map<string, { count: number; resetAt: number }>();\n\n/**\n * Rate limit configuration presets\n */\nexport const RATE_LIMIT_CONFIGS = {\n  // Authentication endpoints - strict limits\n  auth: {\n    windowMs: 15 * 60 * 1000, // 15 minutes\n    maxRequests: 5, // 5 attempts\n    message:\n      'Too many authentication attempts. Please try again in 15 minutes.',\n    blockDuration: 15 * 60 * 1000,\n  },\n\n  // Communication endpoints - prevent spam\n  communication: {\n    windowMs: 60 * 1000, // 1 minute\n    maxRequests: 10, // 10 messages per minute\n    message:\n      'Message rate limit exceeded. Please wait before sending more messages.',\n    blockDuration: 5 * 60 * 1000,\n  },\n\n  // Emergency alert - very strict\n  emergencyAlert: {\n    windowMs: 60 * 60 * 1000, // 1 hour\n    maxRequests: 3, // 3 alerts per hour\n    message:\n      'Emergency alert rate limit exceeded. Contact system administrator.',\n    blockDuration: 60 * 60 * 1000,\n  },\n\n  // API general - moderate limits\n  api: {\n    windowMs: 60 * 1000, // 1 minute\n    maxRequests: 100, // 100 requests per minute\n    message: 'API rate limit exceeded. Please slow down your requests.',\n    blockDuration: 60 * 1000,\n  },\n};\n\nexport type RateLimitConfig = typeof RATE_LIMIT_CONFIGS.auth;\n\n/**\n * Initialize Redis client for distributed rate limiting\n */\nexport async function initializeRateLimiting(redisUrl?: string): Promise<void> {\n  if (!redisUrl) {\n    logger.warn(\n      'Redis URL not provided. Using in-memory rate limiting (not suitable for production)',\n    );\n    return;\n  }\n\n  try {\n    redisClient = createClient({ url: redisUrl });\n\n    redisClient.on('error', (err) => {\n      logger.error('Redis rate limiting error', err);\n    });\n\n    redisClient.on('connect', () => {\n      logger.info('Redis rate limiting connected');\n    });\n\n    await redisClient.connect();\n  } catch (error) {\n    logger.error('Failed to initialize Redis rate limiting', error);\n    redisClient = null;\n  }\n}\n\n/**\n * Get rate limit key for request\n * Uses IP + user ID for authenticated requests\n */\nfunction getRateLimitKey(request: Request, identifier: string): string {\n  const userId = (request.auth.credentials as any)?.userId;\n  const ip = request.info.remoteAddress;\n\n  // Use userId if authenticated, otherwise use IP\n  const userIdentifier = userId || ip;\n\n  return `ratelimit:${identifier}:${userIdentifier}`;\n}\n\n/**\n * Create rate limiting middleware for specific route\n */\nexport function createRateLimiter(identifier: string, config: RateLimitConfig) {\n  return async (request: Request, h: ResponseToolkit) => {\n    const key = getRateLimitKey(request, identifier);\n\n    try {\n      // For now, we'll use in-memory store (Redis implementation can be added later)\n      const now = Date.now();\n      const record = inMemoryStore.get(key);\n\n      // No record or expired window\n      if (!record || record.resetAt < now) {\n        inMemoryStore.set(key, { count: 1, resetAt: now + config.windowMs });\n        return h.continue;\n      }\n\n      // Increment count\n      record.count++;\n\n      const remaining = Math.max(0, config.maxRequests - record.count);\n\n      // Add rate limit headers to response\n      const response = request.response as any;\n      if (response && !response.isBoom) {\n        response.header('X-RateLimit-Limit', String(config.maxRequests));\n        response.header('X-RateLimit-Remaining', String(remaining));\n        response.header(\n          'X-RateLimit-Reset',\n          new Date(record.resetAt).toISOString(),\n        );\n      }\n\n      if (record.count > config.maxRequests) {\n        logger.warn('Rate limit exceeded', {\n          identifier,\n          userId: (request.auth.credentials as any)?.userId,\n          ip: request.info.remoteAddress,\n          path: request.path,\n        });\n\n        // Return 429 Too Many Requests\n        throw Boom.tooManyRequests(config.message, {\n          retryAfter: Math.ceil((record.resetAt - Date.now()) / 1000),\n        });\n      }\n\n      return h.continue;\n    } catch (error) {\n      if (Boom.isBoom(error)) {\n        throw error;\n      }\n\n      logger.error('Rate limiting check failed', error);\n      // Fail open on errors (allow request)\n      return h.continue;\n    }\n  };\n}\n\n/**\n * Apply rate limiting to specific routes\n * Use in route configuration\n */\nexport function applyRateLimit(identifier: string, config: RateLimitConfig) {\n  return {\n    assign: 'rateLimit',\n    method: createRateLimiter(identifier, config),\n  };\n}\n\nexport default {\n  RATE_LIMIT_CONFIGS,\n  initializeRateLimiting,\n  createRateLimiter,\n  applyRateLimit,\n};",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/rate-limiting.service.ts",
        "start": 1,
        "end": 205,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 205,
          "column": 2,
          "position": 1269
        }
      },
      "secondFile": {
        "name": "src/shared/security/rateLimiting.ts",
        "start": 1,
        "end": 205,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 205,
          "column": 2,
          "position": 1269
        }
      }
    },
    {
      "format": "typescript",
      "lines": 125,
      "fragment": "const ROLE_PERMISSIONS: Record<UserRole, Permission[]> = {\n  ADMIN: [\n    // Admins can manage everything\n    { resource: '*', action: 'manage' },\n  ],\n  NURSE: [\n    // Students\n    { resource: 'students', action: 'read' },\n    { resource: 'students', action: 'update' },\n    { resource: 'students', action: 'create' },\n    // Health Records\n    { resource: 'health-records', action: 'create' },\n    { resource: 'health-records', action: 'read' },\n    { resource: 'health-records', action: 'update' },\n    { resource: 'health-records', action: 'delete' },\n    // Medications\n    { resource: 'medications', action: 'create' },\n    { resource: 'medications', action: 'read' },\n    { resource: 'medications', action: 'update' },\n    { resource: 'medications', action: 'manage' },\n    // Appointments\n    { resource: 'appointments', action: 'create' },\n    { resource: 'appointments', action: 'read' },\n    { resource: 'appointments', action: 'update' },\n    { resource: 'appointments', action: 'delete' },\n    // Incidents\n    { resource: 'incidents', action: 'create' },\n    { resource: 'incidents', action: 'read' },\n    { resource: 'incidents', action: 'update' },\n    // Documents\n    { resource: 'documents', action: 'create' },\n    { resource: 'documents', action: 'read' },\n    { resource: 'documents', action: 'update' },\n    { resource: 'documents', action: 'delete' },\n    // Emergency Contacts\n    { resource: 'emergency-contacts', action: 'read' },\n    { resource: 'emergency-contacts', action: 'update' },\n    // Communications\n    { resource: 'communications', action: 'create' },\n    { resource: 'communications', action: 'read' },\n    // Inventory\n    { resource: 'inventory', action: 'read' },\n    { resource: 'inventory', action: 'update' },\n    // Reports\n    { resource: 'reports', action: 'read' },\n    { resource: 'reports', action: 'create' },\n  ],\n  SCHOOL_ADMIN: [\n    // School admins have similar permissions to nurses but with additional admin capabilities\n    { resource: 'students', action: 'manage' },\n    { resource: 'health-records', action: 'manage' },\n    { resource: 'medications', action: 'manage' },\n    { resource: 'appointments', action: 'manage' },\n    { resource: 'incidents', action: 'manage' },\n    { resource: 'documents', action: 'manage' },\n    { resource: 'emergency-contacts', action: 'manage' },\n    { resource: 'communications', action: 'manage' },\n    { resource: 'inventory', action: 'manage' },\n    { resource: 'reports', action: 'manage' },\n    { resource: 'users', action: 'read' },\n  ],\n  DISTRICT_ADMIN: [\n    // District admins can manage everything except system settings\n    { resource: '*', action: 'manage' },\n  ],\n  VIEWER: [\n    // Read-only access to basic information\n    { resource: 'students', action: 'read' },\n    { resource: 'health-records', action: 'read' },\n    { resource: 'appointments', action: 'read' },\n    { resource: 'documents', action: 'read' },\n    { resource: 'communications', action: 'read' },\n    { resource: 'reports', action: 'read' },\n  ],\n  COUNSELOR: [\n    // Counselors have read access to mental health records and can create appointments\n    { resource: 'students', action: 'read' },\n    { resource: 'health-records', action: 'read' },\n    { resource: 'appointments', action: 'create' },\n    { resource: 'appointments', action: 'read' },\n    { resource: 'appointments', action: 'update' },\n    { resource: 'incidents', action: 'read' },\n    { resource: 'documents', action: 'read' },\n    { resource: 'emergency-contacts', action: 'read' },\n    { resource: 'communications', action: 'create' },\n    { resource: 'communications', action: 'read' },\n  ],\n};\n\n/**\n * Check if user has required permission\n *\n * @function hasPermission\n * @param {UserRole} userRole - The role of the user making the request\n * @param {string} resource - The resource being accessed (e.g., 'students', 'medications', 'health-records')\n * @param {string} action - The action being performed ('create', 'read', 'update', 'delete', 'manage')\n * @returns {boolean} True if user has permission, false otherwise\n *\n * @description Checks if a user role has permission to perform a specific action on a resource.\n * Implements two-level permission checking:\n * 1. Wildcard check: If user has { resource: '*', action: 'manage' }, grant all access\n * 2. Specific check: Check for exact resource match with action or 'manage' permission\n *\n * Permission Matching Rules:\n * - Exact match: user has permission with same resource and action\n * - Manage permission: user has 'manage' action for the resource (implies all CRUD)\n * - Wildcard: user has '*' resource with 'manage' action (admin-level access)\n *\n * @security Core authorization function - all route permissions flow through here\n * @performance O(n) where n = number of permissions for user role (typically < 20)\n *\n * @example\n * // Check if nurse can read health records\n * if (hasPermission(UserRole.NURSE, 'health-records', 'read')) {\n *   // Allow access to health records\n * }\n *\n * @example\n * // Check admin wildcard permission\n * hasPermission(UserRole.ADMIN, 'any-resource', 'any-action'); // true (wildcard)\n *\n * @example\n * // Manage permission implies all actions\n * hasPermission(UserRole.NURSE, 'medications', 'update'); // true (has 'manage')\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/permission.utils.ts",
        "start": 134,
        "end": 258,
        "startLoc": {
          "line": 134,
          "column": 1,
          "position": 94
        },
        "endLoc": {
          "line": 258,
          "column": 4,
          "position": 1225
        }
      },
      "secondFile": {
        "name": "src/shared/security/permissionUtils.ts",
        "start": 34,
        "end": 130,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 92
        },
        "endLoc": {
          "line": 130,
          "column": 4,
          "position": 1223
        }
      }
    },
    {
      "format": "typescript",
      "lines": 93,
      "fragment": "export function hasPermission(\n  userRole: UserRole,\n  resource: string,\n  action: string,\n): boolean {\n  const permissions = ROLE_PERMISSIONS[userRole] || [];\n\n  // Check for wildcard permission (admin)\n  if (permissions.some((p) => p.resource === '*' && p.action === 'manage')) {\n    return true;\n  }\n\n  // Check for specific permission\n  return permissions.some(\n    (p) =>\n      p.resource === resource && (p.action === action || p.action === 'manage'),\n  );\n}\n\n/**\n * RBAC middleware factory for Hapi routes\n *\n * @function requirePermission\n * @param {string} resource - The resource being protected (e.g., 'students', 'medications')\n * @param {'create'|'read'|'update'|'delete'|'manage'} action - The action being performed\n * @returns {Function} Hapi pre-handler middleware function\n * @throws {Boom.unauthorized} When user is not authenticated (401)\n * @throws {Boom.forbidden} When user lacks required permission (403)\n *\n * @description Factory function that creates Hapi pre-handler middleware for permission-based\n * route protection. Validates that authenticated user has required permission before allowing\n * request to proceed to route handler.\n *\n * Middleware Flow:\n * 1. Extract user credentials from request.auth.credentials\n * 2. Verify user is authenticated\n * 3. Check if user.role has required permission via hasPermission()\n * 4. Return h.continue if authorized, throw Boom error if not\n *\n * Integration with Hapi:\n * - Use in route.options.pre array for pre-handler validation\n * - Runs before route handler executes\n * - Automatically handled by Hapi's lifecycle system\n * - Boom errors converted to appropriate HTTP responses\n *\n * @security Critical security middleware - validates all permission-based access\n * @compliance HIPAA - All PHI access routes must use this middleware\n *\n * @example\n * // Protect health records route\n * {\n *   method: 'GET',\n *   path: '/api/v1/health-records/{id}',\n *   options: {\n *     auth: 'jwt',\n *     pre: [\n *       { method: requirePermission('health-records', 'read') }\n *     ],\n *     handler: async (request, h) => {\n *       // User is authenticated and has health-records:read permission\n *       return getHealthRecord(request.params.id);\n *     }\n *   }\n * }\n *\n * @example\n * // Protect medication administration\n * {\n *   method: 'POST',\n *   path: '/api/v1/medications/administer',\n *   options: {\n *     auth: 'jwt',\n *     pre: [\n *       { method: requirePermission('medications', 'manage') }\n *     ],\n *     handler: administerMedication\n *   }\n * }\n *\n * @example\n * // Multiple pre-handlers for complex authorization\n * {\n *   method: 'DELETE',\n *   path: '/api/v1/students/{id}',\n *   options: {\n *     pre: [\n *       { method: requirePermission('students', 'delete') },\n *       { method: requireStudentAccess() } // Additional validation\n *     ],\n *     handler: deleteStudent\n *   }\n * }\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/permission.utils.ts",
        "start": 259,
        "end": 351,
        "startLoc": {
          "line": 259,
          "column": 1,
          "position": 1227
        },
        "endLoc": {
          "line": 351,
          "column": 4,
          "position": 1387
        }
      },
      "secondFile": {
        "name": "src/shared/security/permissionUtils.ts",
        "start": 131,
        "end": 156,
        "startLoc": {
          "line": 131,
          "column": 1,
          "position": 1225
        },
        "endLoc": {
          "line": 156,
          "column": 4,
          "position": 1385
        }
      }
    },
    {
      "format": "typescript",
      "lines": 80,
      "fragment": "export function requirePermission(\n  resource: string,\n  action: 'create' | 'read' | 'update' | 'delete' | 'manage',\n) {\n  return (request: Request, h: ResponseToolkit) => {\n    const credentials = request.auth.credentials as any;\n    const user = credentials?.user || credentials;\n\n    if (!user) {\n      throw Boom.unauthorized('Authentication required');\n    }\n\n    if (!hasPermission(user.role, resource, action)) {\n      throw Boom.forbidden(`Insufficient permissions to ${action} ${resource}`);\n    }\n\n    return h.continue;\n  };\n}\n\n/**\n * Check if user can access specific student data\n *\n * @async\n * @function canAccessStudent\n * @param {string} userId - ID of the user requesting access to student data\n * @param {UserRole} userRole - Role of the user (determines access level)\n * @param {string} studentId - ID of the student whose data is being accessed\n * @returns {Promise<boolean>} True if user can access this student's data, false otherwise\n *\n * @description Validates if a user has permission to access a specific student's data based on\n * their role and relationship to the student. Implements scope-based access control for\n * HIPAA and FERPA compliance.\n *\n * Access Rules by Role:\n * - ADMIN / DISTRICT_ADMIN: Full access to all students (unrestricted)\n * - SCHOOL_ADMIN: Access to students in assigned school(s) - scope controlled via database filtering\n * - NURSE: Access to all students (standard school nursing practice) - scope controlled via school assignment\n * - COUNSELOR: Access to assigned students - scope controlled via school relationships\n * - VIEWER: Limited read access to basic student info - scope controlled via permission level\n * - Others: No access\n *\n * Future Enhancements:\n * - StudentSchoolAssignment model for explicit school-based filtering (currently via WHERE clauses)\n * - StudentNurseAssignment for nurse-specific student assignments (optional feature)\n * - StudentCounselorAssignment for counselor relationships (optional feature)\n * - Parent/Guardian relationship validation for family member access (optional feature)\n * - Emergency access override with break-glass functionality (optional feature)\n *\n * @security Critical PHI access control - enforces minimum necessary principle\n * @compliance HIPAA - Validates authorized access to protected health information\n * @compliance FERPA - Enforces educational record privacy\n *\n * @performance Currently O(1) (no database lookups), optimized for fast authorization checks\n *\n * @example\n * // Check if school nurse can access student\n * const canAccess = await canAccessStudent(\n *   nurseId,\n *   UserRole.NURSE,\n *   studentId\n * );\n * if (canAccess) {\n *   // Allow access to student health records\n * }\n *\n * @example\n * // Admin always has access\n * await canAccessStudent(adminId, UserRole.ADMIN, studentId); // Always true\n *\n * @example\n * // Unknown role has no access\n * await canAccessStudent(userId, UserRole.VIEWER, studentId); // Returns true (scope controlled elsewhere)\n *\n * @future Implement StudentSchoolAssignment model for explicit school-based access control\n * @future Implement StudentNurseAssignment for optional nurse-student assignments\n * @future Implement StudentCounselorAssignment for counselor relationship management\n * @future Add parent/guardian relationship validation for family member access\n * @future Implement emergency access override with break-glass functionality\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/permission.utils.ts",
        "start": 352,
        "end": 431,
        "startLoc": {
          "line": 352,
          "column": 1,
          "position": 1389
        },
        "endLoc": {
          "line": 431,
          "column": 4,
          "position": 1570
        }
      },
      "secondFile": {
        "name": "src/shared/security/permissionUtils.ts",
        "start": 157,
        "end": 187,
        "startLoc": {
          "line": 157,
          "column": 1,
          "position": 1387
        },
        "endLoc": {
          "line": 187,
          "column": 4,
          "position": 1568
        }
      }
    },
    {
      "format": "typescript",
      "lines": 121,
      "fragment": "export async function canAccessStudent(\n  _userId: string,\n  userRole: UserRole,\n  _studentId: string,\n): Promise<boolean> {\n  // Admins and District Admins can access all students\n  if (userRole === UserRole.ADMIN || userRole === UserRole.DISTRICT_ADMIN) {\n    return true;\n  }\n\n  // School admins can access students in their school\n  // School-based access control is handled at the database query level via school filtering\n  if (userRole === UserRole.SCHOOL_ADMIN) {\n    return true;\n  }\n\n  // Nurses can access all students (standard practice in school nursing)\n  // School-level nurses have access to all students in their assigned school(s)\n  // Access scope is controlled via school filtering in database queries\n  if (userRole === UserRole.NURSE) {\n    return true;\n  }\n\n  // Counselors can access students they are assigned to\n  // Counselor-student relationships are managed through counselor assignments\n  // Access is validated through school-level permissions\n  if (userRole === UserRole.COUNSELOR) {\n    return true;\n  }\n\n  // Viewers have read-only access to basic student information\n  // Viewer access is controlled at the permission level (can only read, not modify)\n  if (userRole === UserRole.VIEWER) {\n    return true;\n  }\n\n  // No other roles should have direct student access\n  return false;\n}\n\n/**\n * Middleware to check student access authorization\n *\n * @function requireStudentAccess\n * @returns {Function} Hapi pre-handler middleware function\n * @throws {Boom.unauthorized} When user is not authenticated (401)\n * @throws {Boom.badRequest} When studentId is missing from request (400)\n * @throws {Boom.forbidden} When user cannot access the specified student (403)\n *\n * @description Creates Hapi pre-handler middleware that validates user has permission to access\n * a specific student's data. Extracts studentId from route params or request payload, then checks\n * access permissions via canAccessStudent().\n *\n * Middleware Flow:\n * 1. Extract user from request.auth.credentials\n * 2. Extract studentId from request.params or request.payload\n * 3. Verify user is authenticated\n * 4. Verify studentId is present\n * 5. Check access permission via canAccessStudent()\n * 6. Return h.continue if authorized, throw Boom error if not\n *\n * Student ID Extraction:\n * - First checks request.params.studentId (from URL path parameters)\n * - Falls back to request.payload.studentId (from POST/PUT body)\n * - Throws badRequest error if neither is present\n *\n * Use Cases:\n * - Protect student detail routes (GET /students/{studentId})\n * - Validate access before updating student data\n * - Enforce relationship-based access (parent viewing own child)\n * - Audit PHI access to specific students\n *\n * @security Critical middleware for student data protection\n * @compliance HIPAA - Validates authorized access to student PHI\n * @compliance FERPA - Enforces educational record privacy\n *\n * @example\n * // Protect student detail route\n * {\n *   method: 'GET',\n *   path: '/api/v1/students/{studentId}',\n *   options: {\n *     auth: 'jwt',\n *     pre: [\n *       { method: requireStudentAccess() }\n *     ],\n *     handler: async (request, h) => {\n *       // User is authorized to access this student\n *       return getStudentDetails(request.params.studentId);\n *     }\n *   }\n * }\n *\n * @example\n * // Protect student health record update\n * {\n *   method: 'PUT',\n *   path: '/api/v1/health-records',\n *   options: {\n *     pre: [\n *       { method: requirePermission('health-records', 'update') },\n *       { method: requireStudentAccess() } // Validates access to specific student\n *     ],\n *     handler: updateHealthRecord\n *   }\n * }\n *\n * @example\n * // Combine with permission check for layered security\n * {\n *   method: 'DELETE',\n *   path: '/api/v1/students/{studentId}',\n *   options: {\n *     pre: [\n *       { method: requirePermission('students', 'delete') }, // Check general permission\n *       { method: requireStudentAccess() }                   // Check student-specific access\n *     ],\n *     handler: deleteStudent\n *   }\n * }\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/permission.utils.ts",
        "start": 432,
        "end": 552,
        "startLoc": {
          "line": 432,
          "column": 1,
          "position": 1572
        },
        "endLoc": {
          "line": 552,
          "column": 4,
          "position": 1792
        }
      },
      "secondFile": {
        "name": "src/shared/security/permissionUtils.ts",
        "start": 188,
        "end": 235,
        "startLoc": {
          "line": 188,
          "column": 1,
          "position": 1570
        },
        "endLoc": {
          "line": 235,
          "column": 4,
          "position": 1790
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": "export function requireStudentAccess() {\n  return async (request: Request, h: ResponseToolkit) => {\n    const credentials = request.auth.credentials as any;\n    const user = credentials?.user || credentials;\n    const studentId =\n      request.params.studentId || (request.payload as any)?.studentId;\n\n    if (!user) {\n      throw Boom.unauthorized('Authentication required');\n    }\n\n    if (!studentId) {\n      throw Boom.badRequest('Student ID required');\n    }\n\n    const hasAccess = await canAccessStudent(\n      user.id,\n      user.role as UserRole,\n      studentId,\n    );\n\n    if (!hasAccess) {\n      throw Boom.forbidden('You do not have access to this student');\n    }\n\n    return h.continue;\n  };\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/permission.utils.ts",
        "start": 553,
        "end": 580,
        "startLoc": {
          "line": 553,
          "column": 1,
          "position": 1794
        },
        "endLoc": {
          "line": 580,
          "column": 2,
          "position": 2016
        }
      },
      "secondFile": {
        "name": "src/shared/security/permissionUtils.ts",
        "start": 236,
        "end": 263,
        "startLoc": {
          "line": 236,
          "column": 1,
          "position": 1792
        },
        "endLoc": {
          "line": 263,
          "column": 2,
          "position": 2014
        }
      }
    },
    {
      "format": "typescript",
      "lines": 147,
      "fragment": "/**\n * User profile interface for authentication context\n *\n * @interface UserProfile\n * @description Represents authenticated user information returned after successful\n * token validation. Contains essential user identity and authorization data.\n *\n * @property {string} userId - Unique user identifier (primary key)\n * @property {string} email - User email address (unique)\n * @property {string} role - User role for RBAC (e.g., 'admin', 'nurse', 'parent')\n * @property {boolean} isActive - Whether user account is active\n * @property {string[]} [permissions] - Optional granular permissions array\n * @property {string} [facilityId] - Optional facility/school identifier\n * @property {Date} [lastLoginAt] - Optional timestamp of last login\n *\n * @example\n * const userProfile: UserProfile = {\n *   userId: 'usr_123abc',\n *   email: 'nurse@school.edu',\n *   role: 'school_nurse',\n *   isActive: true,\n *   permissions: ['view_health_records', 'manage_medications'],\n *   facilityId: 'facility_xyz',\n *   lastLoginAt: new Date('2025-01-15T10:30:00Z')\n * };\n */\nexport interface UserProfile {\n  userId: string;\n  email: string;\n  role: string;\n  isActive: boolean;\n  permissions?: string[];\n  facilityId?: string;\n  lastLoginAt?: Date;\n}\n\n/**\n * JWT token payload interface (claims)\n *\n * @interface TokenPayload\n * @description Standard JWT claims plus custom claims for user identity.\n * Validated during token verification to ensure integrity.\n *\n * @property {string} userId - User identifier claim (custom claim)\n * @property {string} email - User email claim (custom claim)\n * @property {string} role - User role claim (custom claim)\n * @property {number} [iat] - Issued at time (standard JWT claim, Unix timestamp)\n * @property {number} [exp] - Expiration time (standard JWT claim, Unix timestamp)\n * @property {string} [aud] - Audience claim (standard JWT claim)\n * @property {string} [iss] - Issuer claim (standard JWT claim)\n *\n * @security Custom claims (userId, email, role) are validated against current\n * user data to detect stale tokens after user updates\n *\n * @example\n * const payload: TokenPayload = {\n *   userId: 'usr_123abc',\n *   email: 'nurse@school.edu',\n *   role: 'school_nurse',\n *   iat: 1704985800,\n *   exp: 1704989400,\n *   aud: 'white-cross-api',\n *   iss: 'white-cross-auth-service'\n * };\n */\nexport interface TokenPayload {\n  userId: string;\n  email: string;\n  role: string;\n  iat?: number;\n  exp?: number;\n  aud?: string;\n  iss?: string;\n}\n\n/**\n * Authentication service configuration\n *\n * @interface AuthenticationConfig\n * @description Configuration options for authentication service initialization.\n * Defines JWT signing parameters and user loading strategy.\n *\n * @property {string} jwtSecret - Secret key for JWT signing (HMAC) or private key (RSA)\n * @property {string} [jwtAudience] - Expected audience claim (API identifier)\n * @property {string} [jwtIssuer] - Expected issuer claim (auth service identifier)\n * @property {number} maxAgeSec - Token expiration time in seconds\n * @property {number} [timeSkewSec=30] - Clock skew tolerance in seconds (default: 30)\n * @property {Function} userLoader - Async function to load user by ID from database\n *\n * @security\n * - jwtSecret must be at least 32 characters for HMAC-SHA256\n * - Store jwtSecret in environment variables or secrets manager\n * - Use short maxAgeSec (15-60 minutes) for security\n * - timeSkewSec prevents false rejections from clock drift\n *\n * @example\n * const config: AuthenticationConfig = {\n *   jwtSecret: process.env.JWT_SECRET,\n *   jwtAudience: 'white-cross-api',\n *   jwtIssuer: 'white-cross-auth',\n *   maxAgeSec: 3600,\n *   timeSkewSec: 30,\n *   userLoader: async (userId) => await User.findByPk(userId)\n * };\n */\nexport interface AuthenticationConfig {\n  jwtSecret: string;\n  jwtAudience?: string;\n  jwtIssuer?: string;\n  maxAgeSec: number;\n  timeSkewSec?: number;\n  userLoader: (userId: string) => Promise<UserProfile | null>;\n}\n\n/**\n * Authentication operation result\n *\n * @interface AuthenticationResult\n * @description Result of authentication operation with success status,\n * user profile on success, or error message on failure.\n *\n * @property {boolean} success - Whether authentication succeeded\n * @property {UserProfile} [user] - Authenticated user profile (only if success=true)\n * @property {string} [error] - Error message (only if success=false)\n * @property {string} [token] - Original token string (only if success=true)\n *\n * @example\n * // Successful authentication\n * const result: AuthenticationResult = {\n *   success: true,\n *   user: { userId: 'usr_123', email: 'user@example.com', role: 'nurse', isActive: true },\n *   token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'\n * };\n *\n * @example\n * // Failed authentication\n * const result: AuthenticationResult = {\n *   success: false,\n *   error: 'Authentication token has expired'\n * };\n */\nexport interface AuthenticationResult {\n  success: boolean;\n  user?: UserProfile;\n  error?: string;\n  token?: string;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/security/authentication.service.ts",
        "start": 125,
        "end": 271,
        "startLoc": {
          "line": 125,
          "column": 1,
          "position": 30
        },
        "endLoc": {
          "line": 271,
          "column": 2,
          "position": 278
        }
      },
      "secondFile": {
        "name": "src/shared/security/authentication.types.ts",
        "start": 31,
        "end": 177,
        "startLoc": {
          "line": 31,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 177,
          "column": 2,
          "position": 251
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": ",\n      message: this.message,\n      context: this.context,\n      isRetryable: this.isRetryable,\n      timestamp: this.timestamp.toISOString(),\n      innerError: this.innerError\n        ? {\n            name: this.innerError.name,\n            message: this.innerError.message,\n          }\n        : undefined,\n      stack: process.env.NODE_ENV === 'development' ? this.stack : undefined,\n    };\n  }\n}\n\n/**\n * ValidationError - Input validation failures\n *\n * Used for:\n * - Invalid input parameters\n * - Schema validation failures\n * - Business rule violations\n * - Constraint violations\n *\n * isRetryable: false (validation errors won't succeed on retry)\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/errors/ServiceErrors.ts",
        "start": 88,
        "end": 114,
        "startLoc": {
          "line": 88,
          "column": 5,
          "position": 358
        },
        "endLoc": {
          "line": 114,
          "column": 4,
          "position": 479
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/exceptions/retryable.exception.ts",
        "start": 66,
        "end": 89,
        "startLoc": {
          "line": 66,
          "column": 10,
          "position": 332
        },
        "endLoc": {
          "line": 89,
          "column": 4,
          "position": 453
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "{\n  public readonly operation: string;\n  public readonly originalError: Error;\n\n  constructor(\n    operation: string,\n    originalError: Error,\n    context: Record<string, any> = {},\n  ) {\n    const message = `Database error during ${operation}`;\n    const fullContext = {\n      operation,\n      originalError: originalError.message,\n      originalErrorName: originalError.name,\n      ...context,\n    };\n\n    super('DATABASE_ERROR'",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/errors/ServiceErrors.ts",
        "start": 237,
        "end": 254,
        "startLoc": {
          "line": 237,
          "column": 2,
          "position": 1197
        },
        "endLoc": {
          "line": 254,
          "column": 17,
          "position": 1321
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/exceptions/retryable.exception.ts",
        "start": 90,
        "end": 108,
        "startLoc": {
          "line": 90,
          "column": 2,
          "position": 465
        },
        "endLoc": {
          "line": 108,
          "column": 8,
          "position": 591
        }
      }
    },
    {
      "format": "typescript",
      "lines": 51,
      "fragment": ";\n  }\n\n  /**\n   * Check if error is a connection error (highly retryable)\n   */\n  isConnectionError(): boolean {\n    const errorName = this.originalError.name.toLowerCase();\n    return (\n      errorName.includes('connection') ||\n      errorName.includes('econnrefused') ||\n      errorName.includes('enotfound')\n    );\n  }\n\n  /**\n   * Check if error is a timeout error (retryable)\n   */\n  isTimeoutError(): boolean {\n    const errorName = this.originalError.name.toLowerCase();\n    const errorMsg = this.originalError.message.toLowerCase();\n    return (\n      errorName.includes('timeout') ||\n      errorMsg.includes('timeout') ||\n      errorMsg.includes('timed out')\n    );\n  }\n\n  /**\n   * Check if error is a lock error (retryable with backoff)\n   */\n  isLockError(): boolean {\n    const errorMsg = this.originalError.message.toLowerCase();\n    return (\n      errorMsg.includes('lock') ||\n      errorMsg.includes('deadlock') ||\n      errorMsg.includes('could not obtain lock')\n    );\n  }\n}\n\n/**\n * TimeoutError - Operation timeout\n *\n * Used for:\n * - Long-running operations\n * - Network timeouts\n * - Resource acquisition timeouts\n *\n * isRetryable: true (timeouts may succeed on retry)\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/errors/ServiceErrors.ts",
        "start": 264,
        "end": 314,
        "startLoc": {
          "line": 264,
          "column": 2,
          "position": 1395
        },
        "endLoc": {
          "line": 314,
          "column": 4,
          "position": 1637
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/exceptions/retryable.exception.ts",
        "start": 117,
        "end": 165,
        "startLoc": {
          "line": 117,
          "column": 20,
          "position": 647
        },
        "endLoc": {
          "line": 165,
          "column": 4,
          "position": 889
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "{\n  public readonly operation: string;\n  public readonly timeout: number;\n\n  constructor(\n    operation: string,\n    timeout: number,\n    context: Record<string, any> = {},\n  ) {\n    const message = `Operation '${operation}' timed out after ${timeout}ms`;\n    const fullContext = { operation, timeout, ...context };\n\n    super('TIMEOUT_ERROR'",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/errors/ServiceErrors.ts",
        "start": 315,
        "end": 327,
        "startLoc": {
          "line": 315,
          "column": 2,
          "position": 1649
        },
        "endLoc": {
          "line": 327,
          "column": 16,
          "position": 1758
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/exceptions/retryable.exception.ts",
        "start": 166,
        "end": 179,
        "startLoc": {
          "line": 166,
          "column": 2,
          "position": 901
        },
        "endLoc": {
          "line": 179,
          "column": 8,
          "position": 1012
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n      timestamp: this.timestamp.toISOString(),\n      innerError: this.innerError\n        ? {\n            name: this.innerError.name,\n            message: this.innerError.message,\n          }\n        : undefined,\n      stack: process.env.NODE_ENV === 'development' ? this.stack : undefined,\n    };\n  }\n\n  /**\n   * Get HTTP status code for this error\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/errors/ErrorCode.ts",
        "start": 201,
        "end": 215,
        "startLoc": {
          "line": 201,
          "column": 8,
          "position": 1197
        },
        "endLoc": {
          "line": 215,
          "column": 6,
          "position": 1290
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/exceptions/retryable.exception.ts",
        "start": 69,
        "end": 80,
        "startLoc": {
          "line": 69,
          "column": 12,
          "position": 359
        },
        "endLoc": {
          "line": 80,
          "column": 2,
          "position": 450
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "enum ValidationErrorCode {\n  REQUIRED_FIELD = 'REQUIRED_FIELD',\n  INVALID_TYPE = 'INVALID_TYPE',\n  INVALID_VALUE = 'INVALID_VALUE',\n  TOO_SHORT = 'TOO_SHORT',\n  TOO_LONG = 'TOO_LONG',\n  TOO_SMALL = 'TOO_SMALL',\n  TOO_LARGE = 'TOO_LARGE',\n  INVALID_FORMAT = 'INVALID_FORMAT',\n  DUPLICATE_VALUE = 'DUPLICATE_VALUE',\n  INVALID_REFERENCE = 'INVALID_REFERENCE',\n  PERMISSION_DENIED = 'PERMISSION_DENIED',\n  BUSINESS_RULE_VIOLATION = 'BUSINESS_RULE_VIOLATION',\n}\n\n/**\n * Base service configuration options\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/base/BaseService.ts",
        "start": 29,
        "end": 46,
        "startLoc": {
          "line": 29,
          "column": 1,
          "position": 201
        },
        "endLoc": {
          "line": 46,
          "column": 4,
          "position": 306
        }
      },
      "secondFile": {
        "name": "src/shared/types/common.ts",
        "start": 6,
        "end": 21,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 7
        },
        "endLoc": {
          "line": 21,
          "column": 30,
          "position": 112
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "<T extends Model>(\n    model: ModelStatic<T>,\n    id: string,\n    userId?: string,\n  ): Promise<ServiceResponse<{ success: boolean }>> {\n    try {\n      const validation = this.validateId(id);\n      if (!validation.isValid) {\n        return {\n          success: false,\n          error: validation.errors[0]?.message || 'Invalid ID',\n        };\n      }\n\n      const entity = await model.findByPk(id);\n      if (!entity) {\n        return {\n          success: false,\n          error: 'Record not found',\n        };\n      }\n\n      await entity.update({ isActive: true",
      "tokens": 0,
      "firstFile": {
        "name": "src/shared/base/BaseService.ts",
        "start": 433,
        "end": 455,
        "startLoc": {
          "line": 433,
          "column": 11,
          "position": 3192
        },
        "endLoc": {
          "line": 455,
          "column": 5,
          "position": 3383
        }
      },
      "secondFile": {
        "name": "src/shared/base/BaseService.ts",
        "start": 398,
        "end": 420,
        "startLoc": {
          "line": 398,
          "column": 11,
          "position": 2898
        },
        "endLoc": {
          "line": 420,
          "column": 6,
          "position": 3089
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "(severity: string): number {\n    switch (severity) {\n      case 'CRITICAL':\n        return 2 * 60 * 1000; // 2 minutes\n      case 'HIGH':\n        return 5 * 60 * 1000; // 5 minutes\n      case 'MEDIUM':\n        return 15 * 60 * 1000; // 15 minutes\n      default:\n        return 30 * 60 * 1000; // 30 minutes\n    }\n  }\n\n  private async",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/healthcare/emergency-notification-system.service.ts",
        "start": 553,
        "end": 566,
        "startLoc": {
          "line": 553,
          "column": 31,
          "position": 4207
        },
        "endLoc": {
          "line": 566,
          "column": 6,
          "position": 4324
        }
      },
      "secondFile": {
        "name": "src/services/healthcare/emergency-notification-system.service.ts",
        "start": 540,
        "end": 553,
        "startLoc": {
          "line": 540,
          "column": 19,
          "position": 4089
        },
        "endLoc": {
          "line": 553,
          "column": 31,
          "position": 4206
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ", {\n          ...context,\n          patterns: matchedPatterns,\n          input: input.substring(0, 200),\n        });\n\n        return {\n          detected: true,\n          patterns: matchedPatterns,\n        };\n      }\n\n      return { detected: false };\n    } catch (error) {\n      this.logger.error('Error detecting XSS'",
      "tokens": 0,
      "firstFile": {
        "name": "src/security/services/threat-detection.service.ts",
        "start": 142,
        "end": 156,
        "startLoc": {
          "line": 142,
          "column": 23,
          "position": 1124
        },
        "endLoc": {
          "line": 156,
          "column": 22,
          "position": 1219
        }
      },
      "secondFile": {
        "name": "src/security/services/threat-detection.service.ts",
        "start": 97,
        "end": 111,
        "startLoc": {
          "line": 97,
          "column": 33,
          "position": 724
        },
        "endLoc": {
          "line": 111,
          "column": 32,
          "position": 819
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ", {\n          ...context,\n          patterns: matchedPatterns,\n          input: input.substring(0, 200),\n        });\n\n        return {\n          detected: true,\n          patterns: matchedPatterns,\n        };\n      }\n\n      return { detected: false };\n    } catch (error) {\n      this.logger.error('Error detecting command injection'",
      "tokens": 0,
      "firstFile": {
        "name": "src/security/services/threat-detection.service.ts",
        "start": 298,
        "end": 312,
        "startLoc": {
          "line": 298,
          "column": 37,
          "position": 2257
        },
        "endLoc": {
          "line": 312,
          "column": 36,
          "position": 2352
        }
      },
      "secondFile": {
        "name": "src/security/services/threat-detection.service.ts",
        "start": 97,
        "end": 111,
        "startLoc": {
          "line": 97,
          "column": 33,
          "position": 724
        },
        "endLoc": {
          "line": 111,
          "column": 32,
          "position": 819
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "include: [\n          {\n            model: this.studentMedicationModel,\n            as: 'studentMedication',\n            include: [\n              {\n                model: this.studentMedicationModel.associations.medication?.target,\n                as: 'medication',\n              },\n              {\n                model: this.studentMedicationModel.associations.student?.target,\n                as: 'student',\n              },\n            ],\n          },\n          {\n            model: this.medicationLogModel.associations.nurse?.target,\n            as: 'nurse',\n          },\n        ],\n        order",
      "tokens": 0,
      "firstFile": {
        "name": "src/report/services/medication-reports.service.ts",
        "start": 125,
        "end": 145,
        "startLoc": {
          "line": 125,
          "column": 9,
          "position": 954
        },
        "endLoc": {
          "line": 145,
          "column": 6,
          "position": 1087
        }
      },
      "secondFile": {
        "name": "src/report/services/medication-reports.service.ts",
        "start": 47,
        "end": 67,
        "startLoc": {
          "line": 47,
          "column": 9,
          "position": 423
        },
        "endLoc": {
          "line": 67,
          "column": 6,
          "position": 556
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "} = dto;\n      const whereClause: any = {};\n\n      if (startDate || endDate) {\n        whereClause.createdAt = {};\n        if (startDate && endDate) {\n          whereClause.createdAt = { [Op.between]: [startDate, endDate] };\n        } else if (startDate) {\n          whereClause.createdAt = { [Op.gte]: startDate };\n        } else if (endDate) {\n          whereClause.createdAt = { [Op.lte]: endDate };\n        }\n      }\n\n      // Get HIPAA-related audit logs",
      "tokens": 0,
      "firstFile": {
        "name": "src/report/services/compliance-reports.service.ts",
        "start": 29,
        "end": 43,
        "startLoc": {
          "line": 29,
          "column": 2,
          "position": 217
        },
        "endLoc": {
          "line": 43,
          "column": 32,
          "position": 378
        }
      },
      "secondFile": {
        "name": "src/report/services/health-reports.service.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 297
        },
        "endLoc": {
          "line": 49,
          "column": 3,
          "position": 458
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "<= $1` : ''}\n        GROUP BY \"studentId\"\n        ORDER BY count DESC\n        LIMIT $${startDate && endDate ? 3 : startDate || endDate ? 2 : 1}`,\n        {\n          bind: [startDate, endDate, limit].filter((v) => v !== undefined),\n          type: QueryTypes.SELECT,\n        },\n      );\n\n      // Fetch student details for incident visits",
      "tokens": 0,
      "firstFile": {
        "name": "src/report/services/attendance-reports.service.ts",
        "start": 76,
        "end": 86,
        "startLoc": {
          "line": 76,
          "column": 2,
          "position": 588
        },
        "endLoc": {
          "line": 86,
          "column": 45,
          "position": 668
        }
      },
      "secondFile": {
        "name": "src/report/services/attendance-reports.service.ts",
        "start": 43,
        "end": 53,
        "startLoc": {
          "line": 43,
          "column": 2,
          "position": 309
        },
        "endLoc": {
          "line": 53,
          "column": 43,
          "position": 389
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ".map(async (record: any) => {\n          const student = await this.studentModel.findByPk(record.studentId, {\n            attributes: ['id', 'firstName', 'lastName', 'studentNumber', 'grade'],\n          });\n          return {\n            studentId: record.studentId,\n            count: parseInt(String(record.count), 10),\n            student: student!,\n          };\n        }),\n      );\n\n      // Get students with chronic conditions",
      "tokens": 0,
      "firstFile": {
        "name": "src/report/services/attendance-reports.service.ts",
        "start": 88,
        "end": 100,
        "startLoc": {
          "line": 88,
          "column": 18,
          "position": 686
        },
        "endLoc": {
          "line": 100,
          "column": 40,
          "position": 805
        }
      },
      "secondFile": {
        "name": "src/report/services/attendance-reports.service.ts",
        "start": 55,
        "end": 67,
        "startLoc": {
          "line": 55,
          "column": 16,
          "position": 407
        },
        "endLoc": {
          "line": 67,
          "column": 36,
          "position": 526
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "<= $1` : ''}\n        GROUP BY \"studentId\"\n        ORDER BY count DESC\n        LIMIT $${startDate && endDate ? 3 : startDate || endDate ? 2 : 1}`,\n        {\n          bind: [startDate, endDate, limit].filter((v) => v !== undefined),\n          type: QueryTypes.SELECT,\n        },\n      );\n\n      // Fetch student details for appointment frequency",
      "tokens": 0,
      "firstFile": {
        "name": "src/report/services/attendance-reports.service.ts",
        "start": 114,
        "end": 124,
        "startLoc": {
          "line": 114,
          "column": 2,
          "position": 902
        },
        "endLoc": {
          "line": 124,
          "column": 51,
          "position": 982
        }
      },
      "secondFile": {
        "name": "src/report/services/attendance-reports.service.ts",
        "start": 43,
        "end": 53,
        "startLoc": {
          "line": 43,
          "column": 2,
          "position": 309
        },
        "endLoc": {
          "line": 53,
          "column": 43,
          "position": 389
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ".map(async (record: any) => {\n          const student = await this.studentModel.findByPk(record.studentId, {\n            attributes: ['id', 'firstName', 'lastName', 'studentNumber', 'grade'],\n          });\n          return {\n            studentId: record.studentId,\n            count: parseInt(String(record.count), 10),\n            student: student!,\n          };\n        }),\n      );\n\n      this",
      "tokens": 0,
      "firstFile": {
        "name": "src/report/services/attendance-reports.service.ts",
        "start": 126,
        "end": 138,
        "startLoc": {
          "line": 126,
          "column": 24,
          "position": 1000
        },
        "endLoc": {
          "line": 138,
          "column": 5,
          "position": 1119
        }
      },
      "secondFile": {
        "name": "src/report/services/attendance-reports.service.ts",
        "start": 55,
        "end": 67,
        "startLoc": {
          "line": 55,
          "column": 16,
          "position": 407
        },
        "endLoc": {
          "line": 67,
          "column": 36,
          "position": 526
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "extends Model {\n  @PrimaryKey\n  @Default(DataType.UUIDV4)\n  @Column(DataType.STRING)\n  declare id: string;\n\n  @Column({\n    type: DataType.STRING(255),\n    allowNull: false,\n  })\n  name!: string;\n\n  @Column({\n    type: DataType.ENUM",
      "tokens": 0,
      "firstFile": {
        "name": "src/report/models/report-schedule.model.ts",
        "start": 24,
        "end": 37,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 114
        },
        "endLoc": {
          "line": 37,
          "column": 5,
          "position": 201
        }
      },
      "secondFile": {
        "name": "src/report/models/report-template.model.ts",
        "start": 12,
        "end": 25,
        "startLoc": {
          "line": 12,
          "column": 2,
          "position": 81
        },
        "endLoc": {
          "line": 25,
          "column": 5,
          "position": 168
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ";\n\n  @Column({\n    type: DataType.STRING,\n    allowNull: true,\n  })\n  createdBy?: string;\n\n  @CreatedAt\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n  })\n  declare createdAt: Date;\n\n  @UpdatedAt\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n  })\n  declare updatedAt: Date;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/report/models/report-schedule.model.ts",
        "start": 120,
        "end": 141,
        "startLoc": {
          "line": 120,
          "column": 7,
          "position": 771
        },
        "endLoc": {
          "line": 141,
          "column": 2,
          "position": 886
        }
      },
      "secondFile": {
        "name": "src/report/models/report-template.model.ts",
        "start": 60,
        "end": 81,
        "startLoc": {
          "line": 60,
          "column": 8,
          "position": 425
        },
        "endLoc": {
          "line": 81,
          "column": 2,
          "position": 540
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "@Column({\n    type: DataType.ENUM(...(Object.values(OutputFormat) as string[])),\n    allowNull: false,\n  })\n  outputFormat!: OutputFormat;\n\n  @Column({\n    type: DataType.JSONB,\n    allowNull: true,\n  })\n  parameters?: Record<string, any>;\n\n  @Default",
      "tokens": 0,
      "firstFile": {
        "name": "src/report/models/report-execution.model.ts",
        "start": 45,
        "end": 57,
        "startLoc": {
          "line": 45,
          "column": 3,
          "position": 270
        },
        "endLoc": {
          "line": 57,
          "column": 8,
          "position": 364
        }
      },
      "secondFile": {
        "name": "src/report/models/report-schedule.model.ts",
        "start": 65,
        "end": 77,
        "startLoc": {
          "line": 65,
          "column": 3,
          "position": 409
        },
        "endLoc": {
          "line": 77,
          "column": 7,
          "position": 503
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ", async () => {\n      jest.spyOn(reflector, 'get').mockReturnValue('auth');\n\n      // Exceed rate limit\n      for (let i = 0; i < 5; i++) {\n        await guard.canActivate(mockExecutionContext);\n      }\n\n      try {\n        await guard.canActivate(mockExecutionContext);\n      } catch (error: any) {\n        expect(error",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/rate-limit.guard.spec.ts",
        "start": 101,
        "end": 112,
        "startLoc": {
          "line": 101,
          "column": 57,
          "position": 759
        },
        "endLoc": {
          "line": 112,
          "column": 6,
          "position": 865
        }
      },
      "secondFile": {
        "name": "src/middleware/security/rate-limit.guard.spec.ts",
        "start": 79,
        "end": 90,
        "startLoc": {
          "line": 79,
          "column": 57,
          "position": 587
        },
        "endLoc": {
          "line": 90,
          "column": 13,
          "position": 693
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n    };\n\n    mockExecutionContext = {\n      switchToHttp: () => ({\n        getRequest: () => mockRequest,\n        getResponse: () => mockResponse,\n      }),\n      getHandler: () => ({}),\n      getClass: () => ({}),\n    } as any;\n\n    guard = new CsrfGuard",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/csrf.guard.spec.ts",
        "start": 58,
        "end": 70,
        "startLoc": {
          "line": 58,
          "column": 2,
          "position": 397
        },
        "endLoc": {
          "line": 70,
          "column": 10,
          "position": 498
        }
      },
      "secondFile": {
        "name": "src/middleware/security/rate-limit.guard.spec.ts",
        "start": 35,
        "end": 47,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 226
        },
        "endLoc": {
          "line": 47,
          "column": 15,
          "position": 327
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "expect(result).toBe(true);\n      expect(mockResponse.cookie).toHaveBeenCalledWith(\n        'XSRF-TOKEN',\n        expect.any(String),\n        expect.objectContaining({\n          httpOnly: true,\n          secure: false, // test environment\n          sameSite: 'strict',\n        }),\n      );\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/csrf.guard.spec.ts",
        "start": 82,
        "end": 92,
        "startLoc": {
          "line": 82,
          "column": 7,
          "position": 581
        },
        "endLoc": {
          "line": 92,
          "column": 2,
          "position": 656
        }
      },
      "secondFile": {
        "name": "src/middleware/security/__tests__/csrf.guard.spec.ts",
        "start": 120,
        "end": 130,
        "startLoc": {
          "line": 120,
          "column": 7,
          "position": 875
        },
        "endLoc": {
          "line": 130,
          "column": 7,
          "position": 950
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "};\n      mockRequest.session = { id: 'session-2' };\n      mockRequest.headers['x-csrf-token'] = user1Token;\n\n      try {\n        await guard.canActivate(mockExecutionContext);\n        fail('Should have thrown CSRF validation error');\n      } catch (error: any) {\n        expect(error.getStatus()).toBe(HttpStatus.FORBIDDEN);\n      }\n    });\n\n    it('should accept token from same user and session'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/csrf.guard.spec.ts",
        "start": 254,
        "end": 266,
        "startLoc": {
          "line": 254,
          "column": 2,
          "position": 2011
        },
        "endLoc": {
          "line": 266,
          "column": 49,
          "position": 2112
        }
      },
      "secondFile": {
        "name": "src/middleware/security/csrf.guard.spec.ts",
        "start": 240,
        "end": 252,
        "startLoc": {
          "line": 240,
          "column": 2,
          "position": 1881
        },
        "endLoc": {
          "line": 252,
          "column": 45,
          "position": 1982
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n\n      mockRequest.method = 'POST';\n\n      try {\n        await guard.canActivate(mockExecutionContext);\n        fail('Should have thrown CSRF validation error');\n      } catch (error: any) {\n        expect(error.getStatus()).toBe(HttpStatus.FORBIDDEN);\n      }\n    });\n  });\n\n  describe('Authentication Requirements'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/security/csrf.guard.spec.ts",
        "start": 424,
        "end": 437,
        "startLoc": {
          "line": 424,
          "column": 2,
          "position": 3577
        },
        "endLoc": {
          "line": 437,
          "column": 30,
          "position": 3663
        }
      },
      "secondFile": {
        "name": "src/middleware/security/csrf.guard.spec.ts",
        "start": 400,
        "end": 412,
        "startLoc": {
          "line": 400,
          "column": 19,
          "position": 3363
        },
        "endLoc": {
          "line": 412,
          "column": 22,
          "position": 3448
        }
      }
    },
    {
      "format": "typescript",
      "lines": 45,
      "fragment": "} from 'express';\n\n/**\n * Metric types for categorization\n */\nexport enum MetricType {\n  COUNTER = 'counter',\n  GAUGE = 'gauge',\n  HISTOGRAM = 'histogram',\n  TIMER = 'timer',\n  RATE = 'rate',\n}\n\n/**\n * Healthcare-specific metric categories\n */\nexport enum HealthcareMetricCategory {\n  PATIENT_ACCESS = 'patient_access',\n  PHI_ACCESS = 'phi_access',\n  MEDICATION_ADMIN = 'medication_administration',\n  EMERGENCY_ACCESS = 'emergency_access',\n  AUDIT_EVENTS = 'audit_events',\n  COMPLIANCE = 'compliance',\n  SECURITY = 'security',\n  PERFORMANCE = 'performance',\n  USAGE = 'usage',\n}\n\n/**\n * Metric data structure\n */\nexport interface MetricData {\n  name: string;\n  type: MetricType;\n  category: HealthcareMetricCategory;\n  value: number;\n  timestamp: Date;\n  tags: Record<string, string>;\n  unit?: string;\n  description?: string;\n}\n\n/**\n * Configuration interface for metrics middleware\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 10,
        "end": 54,
        "startLoc": {
          "line": 10,
          "column": 2,
          "position": 36
        },
        "endLoc": {
          "line": 54,
          "column": 4,
          "position": 259
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/metrics.types.ts",
        "start": 9,
        "end": 53,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 11
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 234
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "class MetricsStore {\n  private metrics: MetricData[] = [];\n  private flushTimer?: NodeJS.Timeout;\n\n  constructor(\n    private batchSize: number,\n    private flushInterval: number,\n    private onFlush: (metrics: MetricData[]) => Promise<void>,\n  ) {\n    this.startFlushTimer();\n  }\n\n  public",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 127,
        "end": 139,
        "startLoc": {
          "line": 127,
          "column": 1,
          "position": 709
        },
        "endLoc": {
          "line": 139,
          "column": 7,
          "position": 807
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/metrics.store.ts",
        "start": 18,
        "end": 34,
        "startLoc": {
          "line": 18,
          "column": 2,
          "position": 23
        },
        "endLoc": {
          "line": 34,
          "column": 6,
          "position": 121
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "private async flush(): Promise<void> {\n    if (this.metrics.length === 0) return;\n\n    const metricsToFlush = [...this.metrics];\n    this.metrics = [];\n\n    try {\n      await this.onFlush(metricsToFlush);\n    } catch (error) {\n      console.error('[MetricsStore] Error flushing metrics:', error);\n      // Re-add metrics for retry (simple strategy)\n      this.metrics.unshift(...metricsToFlush);\n    }\n  }\n\n  public",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 155,
        "end": 170,
        "startLoc": {
          "line": 155,
          "column": 3,
          "position": 939
        },
        "endLoc": {
          "line": 170,
          "column": 7,
          "position": 1063
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/metrics.store.ts",
        "start": 61,
        "end": 80,
        "startLoc": {
          "line": 61,
          "column": 3,
          "position": 262
        },
        "endLoc": {
          "line": 80,
          "column": 6,
          "position": 386
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "class SystemMetricsCollector {\n  private memoryThreshold: number;\n  private cpuThreshold: number;\n  private lastCpuUsage: NodeJS.CpuUsage;\n\n  constructor(memoryThreshold: number, cpuThreshold: number) {\n    this.memoryThreshold = memoryThreshold;\n    this.cpuThreshold = cpuThreshold;\n    this.lastCpuUsage = process.cpuUsage();\n  }\n\n  public",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 185,
        "end": 196,
        "startLoc": {
          "line": 185,
          "column": 1,
          "position": 1146
        },
        "endLoc": {
          "line": 196,
          "column": 7,
          "position": 1238
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/metrics.system-collector.ts",
        "start": 22,
        "end": 41,
        "startLoc": {
          "line": 22,
          "column": 2,
          "position": 44
        },
        "endLoc": {
          "line": 41,
          "column": 6,
          "position": 136
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n    const totalMemory = os.totalmem();\n    const freeMemory = os.freemem();\n    const usedMemory = totalMemory - freeMemory;\n    const memoryUtilization = usedMemory / totalMemory;\n\n    metrics.push({\n      name: 'system.memory.heap_used',\n      type: MetricType.GAUGE,\n      category: HealthcareMetricCategory.PERFORMANCE,\n      value: memUsage.heapUsed,\n      timestamp: now,\n      tags: { ...tags, unit: 'bytes' },\n      unit: 'bytes',\n    });\n\n    metrics.push({\n      name: 'system.memory.utilization'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 202,
        "end": 219,
        "startLoc": {
          "line": 202,
          "column": 5,
          "position": 1319
        },
        "endLoc": {
          "line": 219,
          "column": 28,
          "position": 1469
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/metrics.system-collector.ts",
        "start": 47,
        "end": 64,
        "startLoc": {
          "line": 47,
          "column": 2,
          "position": 207
        },
        "endLoc": {
          "line": 64,
          "column": 27,
          "position": 357
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": ",\n      timestamp: now,\n      tags: { ...tags, unit: 'bytes' },\n      unit: 'bytes',\n    });\n\n    metrics.push({\n      name: 'system.memory.utilization',\n      type: MetricType.GAUGE,\n      category: HealthcareMetricCategory.PERFORMANCE,\n      value: memoryUtilization,\n      timestamp: now,\n      tags: { ...tags, unit: 'percent' },\n      unit: 'percent',\n    });\n\n    // CPU metrics\n    const currentCpuUsage = process.cpuUsage(this.lastCpuUsage);\n    const totalCpuTime = currentCpuUsage.user + currentCpuUsage.system;\n    const cpuUtilization = totalCpuTime / 1000000; // Convert to seconds\n    this.lastCpuUsage = process.cpuUsage();\n\n    metrics.push({\n      name: 'system.cpu.utilization'",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 212,
        "end": 235,
        "startLoc": {
          "line": 212,
          "column": 9,
          "position": 1418
        },
        "endLoc": {
          "line": 235,
          "column": 25,
          "position": 1615
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/metrics.system-collector.ts",
        "start": 87,
        "end": 110,
        "startLoc": {
          "line": 87,
          "column": 4,
          "position": 543
        },
        "endLoc": {
          "line": 110,
          "column": 18,
          "position": 740
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "const hrTime = process.hrtime();\n    const eventLoopLag = hrTime[0] * 1000 + hrTime[1] / 1000000;\n\n    metrics.push({\n      name: 'system.event_loop.lag',\n      type: MetricType.GAUGE,\n      category: HealthcareMetricCategory.PERFORMANCE,\n      value: eventLoopLag,\n      timestamp: now,\n      tags: { ...tags, unit: 'ms' },\n      unit: 'ms',\n    });\n\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 245,
        "end": 258,
        "startLoc": {
          "line": 245,
          "column": 5,
          "position": 1685
        },
        "endLoc": {
          "line": 258,
          "column": 7,
          "position": 1805
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/metrics.system-collector.ts",
        "start": 140,
        "end": 153,
        "startLoc": {
          "line": 140,
          "column": 5,
          "position": 976
        },
        "endLoc": {
          "line": 153,
          "column": 48,
          "position": 1096
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "public checkThresholds(\n    memoryUtilization: number,\n    cpuUtilization: number,\n  ): string[] {\n    const alerts: string[] = [];\n\n    if (memoryUtilization > this.memoryThreshold) {\n      alerts.push(\n        `Memory utilization ${(memoryUtilization * 100).toFixed(2)}% exceeds threshold ${(this.memoryThreshold * 100).toFixed(2)}%`,\n      );\n    }\n\n    if (cpuUtilization > this.cpuThreshold) {\n      alerts.push(\n        `CPU utilization ${(cpuUtilization * 100).toFixed(2)}% exceeds threshold ${(this.cpuThreshold * 100).toFixed(2)}%`,\n      );\n    }\n\n    return alerts;\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 261,
        "end": 281,
        "startLoc": {
          "line": 261,
          "column": 3,
          "position": 1815
        },
        "endLoc": {
          "line": 281,
          "column": 2,
          "position": 1996
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/metrics.system-collector.ts",
        "start": 195,
        "end": 215,
        "startLoc": {
          "line": 195,
          "column": 3,
          "position": 1303
        },
        "endLoc": {
          "line": 215,
          "column": 2,
          "position": 1484
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "private getClientIP(req: any): string {\n    return (\n      req.headers['x-forwarded-for']?.toString().split(',')[0] ||\n      req.headers['x-real-ip']?.toString() ||\n      req.ip ||\n      'unknown'\n    );\n  }\n\n  /**\n   * Calculate request size in bytes\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 380,
        "end": 391,
        "startLoc": {
          "line": 380,
          "column": 3,
          "position": 2757
        },
        "endLoc": {
          "line": 391,
          "column": 6,
          "position": 2834
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/tracing.middleware.ts",
        "start": 512,
        "end": 523,
        "startLoc": {
          "line": 512,
          "column": 3,
          "position": 3571
        },
        "endLoc": {
          "line": 523,
          "column": 6,
          "position": 3648
        }
      }
    },
    {
      "format": "typescript",
      "lines": 50,
      "fragment": "/**\n * Configuration interface for metrics middleware\n */\nexport interface IMetricsConfig {\n  enabled: boolean;\n  sampleRate: number;\n  enableHealthcareMetrics: boolean;\n  enablePerformanceMetrics: boolean;\n  enableUserMetrics: boolean;\n  enableErrorMetrics: boolean;\n  batchSize: number;\n  flushInterval: number;\n  retentionDays: number;\n  defaultTags: Record<string, string>;\n  excludePaths: string[];\n  enableAlerts: boolean;\n  alertThresholds: {\n    responseTime: number;\n    errorRate: number;\n    memoryUsage: number;\n    cpuUsage: number;\n  };\n}\n\n/**\n * Default configuration for metrics middleware\n */\nexport const DEFAULT_METRICS_CONFIG: IMetricsConfig = {\n  enabled: true,\n  sampleRate: 1.0,\n  enableHealthcareMetrics: true,\n  enablePerformanceMetrics: true,\n  enableUserMetrics: true,\n  enableErrorMetrics: true,\n  batchSize: 100,\n  flushInterval: 30000, // 30 seconds\n  retentionDays: 90,\n  defaultTags: {\n    service: 'white-cross-healthcare',\n    environment: process.env.NODE_ENV || 'development',\n  },\n  excludePaths: ['/health', '/metrics', '/favicon.ico'],\n  enableAlerts: true,\n  alertThresholds: {\n    responseTime: 2000, // 2 seconds\n    errorRate: 0.05, // 5%\n    memoryUsage: 0.85, // 85%\n    cpuUsage: 0.8, // 80%\n  },\n};",
      "tokens": 0,
      "firstFile": {
        "name": "src/middleware/monitoring/metrics.config.ts",
        "start": 9,
        "end": 58,
        "startLoc": {
          "line": 9,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 58,
          "column": 2,
          "position": 327
        }
      },
      "secondFile": {
        "name": "src/middleware/monitoring/metrics.middleware.ts",
        "start": 52,
        "end": 101,
        "startLoc": {
          "line": 52,
          "column": 1,
          "position": 259
        },
        "endLoc": {
          "line": 101,
          "column": 2,
          "position": 583
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "?: string,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      medicationId",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 119,
        "end": 129,
        "startLoc": {
          "line": 119,
          "column": 12,
          "position": 513
        },
        "endLoc": {
          "line": 129,
          "column": 13,
          "position": 598
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 177,
        "end": 187,
        "startLoc": {
          "line": 177,
          "column": 11,
          "position": 858
        },
        "endLoc": {
          "line": 187,
          "column": 10,
          "position": 943
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ": boolean,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      medicationId: this.medicationId,\n      studentId: this.studentId,\n      scheduledTime",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 164,
        "end": 176,
        "startLoc": {
          "line": 164,
          "column": 2,
          "position": 796
        },
        "endLoc": {
          "line": 176,
          "column": 14,
          "position": 898
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 222,
        "end": 131,
        "startLoc": {
          "line": 222,
          "column": 14,
          "position": 1108
        },
        "endLoc": {
          "line": 131,
          "column": 15,
          "position": 616
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      medicationId: this.medicationId,\n      studentId: this.studentId,\n      medicationName",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 260,
        "end": 271,
        "startLoc": {
          "line": 260,
          "column": 8,
          "position": 1423
        },
        "endLoc": {
          "line": 271,
          "column": 15,
          "position": 1510
        }
      },
      "secondFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 120,
        "end": 131,
        "startLoc": {
          "line": 120,
          "column": 15,
          "position": 529
        },
        "endLoc": {
          "line": 131,
          "column": 15,
          "position": 616
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ": Date,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      medicationId: this.medicationId,\n      studentId: this.studentId,\n      discontinuedBy",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 300,
        "end": 312,
        "startLoc": {
          "line": 300,
          "column": 20,
          "position": 1643
        },
        "endLoc": {
          "line": 312,
          "column": 15,
          "position": 1745
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 136,
        "end": 131,
        "startLoc": {
          "line": 136,
          "column": 2,
          "position": 620
        },
        "endLoc": {
          "line": 131,
          "column": 15,
          "position": 616
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ": Date,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      medicationId: this.medicationId,\n      studentId: this.studentId,\n      oldDosage",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 344,
        "end": 356,
        "startLoc": {
          "line": 344,
          "column": 14,
          "position": 1915
        },
        "endLoc": {
          "line": 356,
          "column": 10,
          "position": 2017
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 136,
        "end": 131,
        "startLoc": {
          "line": 136,
          "column": 2,
          "position": 620
        },
        "endLoc": {
          "line": 131,
          "column": 15,
          "position": 616
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ": boolean,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      studentId: this.studentId,\n      medicationId",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 390,
        "end": 401,
        "startLoc": {
          "line": 390,
          "column": 22,
          "position": 2205
        },
        "endLoc": {
          "line": 401,
          "column": 13,
          "position": 2298
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 222,
        "end": 147,
        "startLoc": {
          "line": 222,
          "column": 14,
          "position": 1108
        },
        "endLoc": {
          "line": 147,
          "column": 13,
          "position": 713
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "?: string,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      medicationId: this.medicationId,\n      studentId: this.studentId,\n      scheduledTime: this.scheduledTime.toISOString(),\n      isCritical",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 434,
        "end": 447,
        "startLoc": {
          "line": 434,
          "column": 7,
          "position": 2469
        },
        "endLoc": {
          "line": 447,
          "column": 11,
          "position": 2585
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 177,
        "end": 177,
        "startLoc": {
          "line": 177,
          "column": 11,
          "position": 858
        },
        "endLoc": {
          "line": 177,
          "column": 14,
          "position": 911
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ": true,\n  })\n  @IsBoolean()\n  @IsOptional()\n  isActive?: boolean;\n\n  @ApiPropertyOptional({\n    description: 'National Drug Code (11-digit format)',\n    example: '00406-0486-01',\n  })\n  @IsString()\n  @IsOptional()\n  ndc?: string;\n\n  @ApiPropertyOptional({\n    description: 'Whether this is a controlled substance',\n    example: false,\n    default",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/dto/create-medication.dto.ts",
        "start": 121,
        "end": 138,
        "startLoc": {
          "line": 121,
          "column": 8,
          "position": 656
        },
        "endLoc": {
          "line": 138,
          "column": 8,
          "position": 752
        }
      },
      "secondFile": {
        "name": "src/medication/dto/update-medication.dto.ts",
        "start": 93,
        "end": 110,
        "startLoc": {
          "line": 93,
          "column": 8,
          "position": 553
        },
        "endLoc": {
          "line": 110,
          "column": 2,
          "position": 649
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n\n  @ApiPropertyOptional({\n    description: 'Generic name of the medication',\n    example: 'Ibuprofen',\n  })\n  @IsString()\n  @IsOptional()\n  genericName?: string;\n\n  @ApiPropertyOptional({\n    description: 'Dosage form (Tablet, Capsule, Solution, etc.)',\n    example: 'Tablet',\n  })\n  @IsString()\n  @IsOptional()\n  dosageForm?: string;\n\n  @ApiPropertyOptional({\n    description: 'Manufacturer name',\n    example: 'ABC Pharmaceuticals'",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/dto/create-medication.dto.ts",
        "start": 160,
        "end": 180,
        "startLoc": {
          "line": 160,
          "column": 8,
          "position": 887
        },
        "endLoc": {
          "line": 180,
          "column": 22,
          "position": 997
        }
      },
      "secondFile": {
        "name": "src/medication/dto/update-medication.dto.ts",
        "start": 122,
        "end": 142,
        "startLoc": {
          "line": 122,
          "column": 12,
          "position": 725
        },
        "endLoc": {
          "line": 142,
          "column": 22,
          "position": 835
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ");\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  // ==================== BASIC TESTS ====================\n\n  describe('Controller Definition', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should have medicationService injected'",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/__tests__/medication.controller.spec.ts",
        "start": 101,
        "end": 115,
        "startLoc": {
          "line": 101,
          "column": 18,
          "position": 688
        },
        "endLoc": {
          "line": 115,
          "column": 41,
          "position": 771
        }
      },
      "secondFile": {
        "name": "src/user/__tests__/user.controller.spec.ts",
        "start": 99,
        "end": 113,
        "startLoc": {
          "line": 99,
          "column": 12,
          "position": 717
        },
        "endLoc": {
          "line": 113,
          "column": 35,
          "position": 800
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "(\n    alerts: InventoryAlert[],\n    reorderSuggestions?: ReorderSuggestion[],\n  ): Promise<void> {\n    try {\n      const adminEmails = this.configService\n        .get<string>('INVENTORY_ALERT_EMAILS', '')\n        .split(',')\n        .filter((e) => e.trim());\n\n      if",
      "tokens": 0,
      "firstFile": {
        "name": "src/inventory/services/inventory-notification.service.ts",
        "start": 157,
        "end": 167,
        "startLoc": {
          "line": 157,
          "column": 35,
          "position": 1250
        },
        "endLoc": {
          "line": 167,
          "column": 3,
          "position": 1338
        }
      },
      "secondFile": {
        "name": "src/inventory/services/inventory-notification.service.ts",
        "start": 87,
        "end": 96,
        "startLoc": {
          "line": 87,
          "column": 31,
          "position": 646
        },
        "endLoc": {
          "line": 96,
          "column": 6,
          "position": 733
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": "${alerts.length} Medication Inventory Alert(s)`;\n\n      // Send email notifications with delivery tracking\n      for (const email of adminEmails) {\n        try {\n          const delivery = await MessageDelivery.create({\n            recipientType: RecipientType.ADMINISTRATOR,\n            recipientId: 'system',\n            channel: DeliveryChannelType.EMAIL,\n            status: DeliveryStatus.PENDING,\n            contactInfo: email,\n            messageId: `inventory-alert-${Date.now()}`,\n          });\n\n          const result = await this.emailService.sendEmail(email, {\n            subject,\n            body: this.convertHtmlToText(htmlMessage),\n            html: htmlMessage,\n          });\n\n          await delivery.update({\n            status: result.success ? DeliveryStatus.SENT : DeliveryStatus.FAILED,\n            sentAt: new Date(),\n            deliveredAt: result.success ? new Date() : undefined,\n            externalId: result.messageId,\n            failureReason: result.error,\n          });\n\n          this.logger.log(`High priority inventory alert sent to: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/inventory/services/inventory-notification.service.ts",
        "start": 173,
        "end": 201,
        "startLoc": {
          "line": 173,
          "column": 17,
          "position": 1400
        },
        "endLoc": {
          "line": 201,
          "column": 41,
          "position": 1651
        }
      },
      "secondFile": {
        "name": "src/inventory/services/inventory-notification.service.ts",
        "start": 107,
        "end": 163,
        "startLoc": {
          "line": 107,
          "column": 12,
          "position": 855
        },
        "endLoc": {
          "line": 163,
          "column": 25,
          "position": 1217
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${Date.now()}`,\n          });\n\n          const result = await this.emailService.sendEmail(email, {\n            subject,\n            body: this.convertHtmlToText(htmlMessage),\n            html: htmlMessage,\n          });\n\n          await delivery.update({\n            status: result.success ? DeliveryStatus.SENT : DeliveryStatus.FAILED,\n            sentAt: new Date(),\n            deliveredAt: result.success ? new Date() : undefined,\n            externalId: result.messageId,\n            failureReason: result.error,\n          });\n\n          this.logger.log(`Disposal notification sent to: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/inventory/services/inventory-notification.service.ts",
        "start": 240,
        "end": 257,
        "startLoc": {
          "line": 240,
          "column": 11,
          "position": 1973
        },
        "endLoc": {
          "line": 257,
          "column": 33,
          "position": 2131
        }
      },
      "secondFile": {
        "name": "src/inventory/services/inventory-notification.service.ts",
        "start": 118,
        "end": 163,
        "startLoc": {
          "line": 118,
          "column": 18,
          "position": 948
        },
        "endLoc": {
          "line": 163,
          "column": 25,
          "position": 1217
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ";\n  }\n\n  /**\n   * Convert HTML to plain text (simple implementation)\n   */\n  private convertHtmlToText(html: string): string {\n    return html\n      .replace(/<[^>]*>/g, '') // Remove HTML tags\n      .replace(/&nbsp;/g, ' ')\n      .replace(/&lt;/g, '<')\n      .replace(/&gt;/g, '>')\n      .replace(/&amp;/g, '&')\n      .replace(/\\s+/g, ' ') // Normalize whitespace\n      .trim();\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/inventory/services/inventory-notification.service.ts",
        "start": 418,
        "end": 434,
        "startLoc": {
          "line": 418,
          "column": 8,
          "position": 3465
        },
        "endLoc": {
          "line": 434,
          "column": 2,
          "position": 3569
        }
      },
      "secondFile": {
        "name": "src/inventory/services/inventory-report.service.ts",
        "start": 215,
        "end": 231,
        "startLoc": {
          "line": 215,
          "column": 5,
          "position": 1944
        },
        "endLoc": {
          "line": 231,
          "column": 2,
          "position": 2048
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "protected async post<T = unknown>(\n    url: string,\n    data?: unknown,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.request<T>({ ...config, method: 'POST', url, data });\n  }\n\n  /**\n   * PUT request\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/integration/api-clients/enhanced-base-api-client.ts",
        "start": 140,
        "end": 150,
        "startLoc": {
          "line": 140,
          "column": 3,
          "position": 1070
        },
        "endLoc": {
          "line": 150,
          "column": 6,
          "position": 1156
        }
      },
      "secondFile": {
        "name": "src/integrations/clients/base-api.client.ts",
        "start": 396,
        "end": 412,
        "startLoc": {
          "line": 396,
          "column": 3,
          "position": 2233
        },
        "endLoc": {
          "line": 412,
          "column": 6,
          "position": 2319
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "protected async put<T = unknown>(\n    url: string,\n    data?: unknown,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.request<T>({ ...config, method: 'PUT', url, data });\n  }\n\n  /**\n   * DELETE request\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/integration/api-clients/enhanced-base-api-client.ts",
        "start": 151,
        "end": 161,
        "startLoc": {
          "line": 151,
          "column": 3,
          "position": 1159
        },
        "endLoc": {
          "line": 161,
          "column": 6,
          "position": 1245
        }
      },
      "secondFile": {
        "name": "src/integrations/clients/base-api.client.ts",
        "start": 413,
        "end": 428,
        "startLoc": {
          "line": 413,
          "column": 3,
          "position": 2322
        },
        "endLoc": {
          "line": 428,
          "column": 6,
          "position": 2408
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "} catch (error) {\n      this.logger.error(`Connection error for ${client.id}:`, error);\n      client.disconnect();\n    }\n  }\n\n  /**\n   * Handles client disconnection\n   * Updates presence and broadcasts offline status\n   *\n   * @param client - The disconnecting WebSocket client\n   */\n  handleDisconnect(client: AuthenticatedSocket): void {\n    const user = client.user;\n\n    if (user) {\n      // Set user presence to offline",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/websocket.gateway.ts",
        "start": 85,
        "end": 101,
        "startLoc": {
          "line": 85,
          "column": 5,
          "position": 503
        },
        "endLoc": {
          "line": 101,
          "column": 32,
          "position": 588
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/services/connection-manager.service.ts",
        "start": 65,
        "end": 81,
        "startLoc": {
          "line": 65,
          "column": 5,
          "position": 423
        },
        "endLoc": {
          "line": 81,
          "column": 5,
          "position": 508
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": "import {\n  ConnectedSocket,\n  MessageBody,\n  OnGatewayConnection,\n  OnGatewayDisconnect,\n  SubscribeMessage,\n  WebSocketGateway as NestWebSocketGateway,\n  WebSocketServer,\n} from '@nestjs/websockets';\nimport { Logger, UseFilters, UseGuards } from '@nestjs/common';\nimport { Server } from 'socket.io';\nimport type { AuthenticatedSocket } from './interfaces';\nimport {\n  ConversationEventDto,\n  MessageDeliveryDto,\n  MessageEventDto,\n  ReadReceiptDto,\n  TypingIndicatorDto,\n} from './dto';\nimport { WsJwtAuthGuard } from './guards';\nimport { WsExceptionFilter } from './filters/ws-exception.filter';\nimport { ConnectionManagerService } from './services/connection-manager.service';\nimport { MessageHandlerService } from './services/message-handler.service';\nimport { ConversationHandlerService } from './services/conversation-handler.service';\nimport { PresenceManagerService } from './services/presence-manager.service';\n\n@",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/websocket-refactored.gateway.ts",
        "start": 10,
        "end": 36,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 36,
          "column": 2,
          "position": 203
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/websocket.gateway.ts",
        "start": 18,
        "end": 43,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 2
        },
        "endLoc": {
          "line": 43,
          "column": 7,
          "position": 201
        }
      }
    },
    {
      "format": "typescript",
      "lines": 31,
      "fragment": "} from './services/presence-manager.service';\n\n@UseFilters(new WsExceptionFilter())\n@NestWebSocketGateway({\n  cors: {\n    origin: 'http://localhost:5173', // TODO: Use ConfigService for CORS_ORIGIN\n    credentials: true,\n    methods: ['GET', 'POST'],\n  },\n  path: '/socket.io',\n  transports: ['websocket', 'polling'],\n  pingTimeout: 60000,\n  pingInterval: 25000,\n})\nexport class WebSocketGateway implements OnGatewayConnection, OnGatewayDisconnect {\n  @WebSocketServer()\n  server!: Server;\n\n  private readonly logger = new Logger(WebSocketGateway.name);\n\n  constructor(\n    private readonly connectionManager: ConnectionManagerService,\n    private readonly messageHandler: MessageHandlerService,\n    private readonly conversationHandler: ConversationHandlerService,\n    private readonly presenceManager: PresenceManagerService,\n  ) {}\n\n  /**\n   * Handles new WebSocket connections\n   * Delegates to ConnectionManagerService\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/websocket-refactored.gateway.ts",
        "start": 34,
        "end": 64,
        "startLoc": {
          "line": 34,
          "column": 2,
          "position": 195
        },
        "endLoc": {
          "line": 64,
          "column": 6,
          "position": 398
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/websocket.gateway.ts",
        "start": 43,
        "end": 75,
        "startLoc": {
          "line": 43,
          "column": 2,
          "position": 209
        },
        "endLoc": {
          "line": 75,
          "column": 6,
          "position": 412
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "@UseGuards(WsJwtAuthGuard)\n  @SubscribeMessage('message:send')\n  async handleMessageSend(\n    @ConnectedSocket() client: AuthenticatedSocket,\n    @MessageBody() data: Partial<MessageEventDto>,\n  ): Promise<void> {\n    await this.messageHandler.handleMessageSend(client, this.server, data);\n  }\n\n  /**\n   * Handles message edit events\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/websocket-refactored.gateway.ts",
        "start": 137,
        "end": 148,
        "startLoc": {
          "line": 137,
          "column": 3,
          "position": 846
        },
        "endLoc": {
          "line": 148,
          "column": 6,
          "position": 929
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/websocket.gateway.ts",
        "start": 172,
        "end": 187,
        "startLoc": {
          "line": 172,
          "column": 3,
          "position": 907
        },
        "endLoc": {
          "line": 187,
          "column": 6,
          "position": 990
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "@UseGuards(WsJwtAuthGuard)\n  @SubscribeMessage('message:edit')\n  async handleMessageEdit(\n    @ConnectedSocket() client: AuthenticatedSocket,\n    @MessageBody() data: Partial<MessageEventDto>,\n  ): Promise<void> {\n    await this.messageHandler.handleMessageEdit(client, this.server, data);\n  }\n\n  /**\n   * Handles message delete events\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/websocket-refactored.gateway.ts",
        "start": 149,
        "end": 160,
        "startLoc": {
          "line": 149,
          "column": 3,
          "position": 932
        },
        "endLoc": {
          "line": 160,
          "column": 6,
          "position": 1015
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/websocket.gateway.ts",
        "start": 188,
        "end": 203,
        "startLoc": {
          "line": 188,
          "column": 3,
          "position": 993
        },
        "endLoc": {
          "line": 203,
          "column": 6,
          "position": 1076
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "@UseGuards(WsJwtAuthGuard)\n  @SubscribeMessage('message:delete')\n  async handleMessageDelete(\n    @ConnectedSocket() client: AuthenticatedSocket,\n    @MessageBody() data: Partial<MessageEventDto>,\n  ): Promise<void> {\n    await this.messageHandler.handleMessageDelete(client, this.server, data);\n  }\n\n  /**\n   * Handles message delivery confirmations\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/websocket-refactored.gateway.ts",
        "start": 161,
        "end": 172,
        "startLoc": {
          "line": 161,
          "column": 3,
          "position": 1018
        },
        "endLoc": {
          "line": 172,
          "column": 6,
          "position": 1101
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/websocket.gateway.ts",
        "start": 204,
        "end": 219,
        "startLoc": {
          "line": 204,
          "column": 3,
          "position": 1079
        },
        "endLoc": {
          "line": 219,
          "column": 6,
          "position": 1162
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "@UseGuards(WsJwtAuthGuard)\n  @SubscribeMessage('message:typing')\n  async handleTypingIndicator(\n    @ConnectedSocket() client: AuthenticatedSocket,\n    @MessageBody() data: Partial<TypingIndicatorDto>,\n  ): Promise<void> {\n    await this.messageHandler.handleTypingIndicator(client, data);\n  }\n\n  /**\n   * Handles conversation join events\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/websocket-refactored.gateway.ts",
        "start": 197,
        "end": 208,
        "startLoc": {
          "line": 197,
          "column": 3,
          "position": 1262
        },
        "endLoc": {
          "line": 208,
          "column": 6,
          "position": 1340
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/websocket.gateway.ts",
        "start": 252,
        "end": 267,
        "startLoc": {
          "line": 252,
          "column": 3,
          "position": 1333
        },
        "endLoc": {
          "line": 267,
          "column": 6,
          "position": 1411
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "@UseGuards(WsJwtAuthGuard)\n  @SubscribeMessage('conversation:join')\n  async handleConversationJoin(\n    @ConnectedSocket() client: AuthenticatedSocket,\n    @MessageBody() data: Partial<ConversationEventDto>,\n  ): Promise<void> {\n    await this.conversationHandler.handleConversationJoin(client, data);\n  }\n\n  /**\n   * Handles conversation leave events\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/websocket-refactored.gateway.ts",
        "start": 209,
        "end": 220,
        "startLoc": {
          "line": 209,
          "column": 3,
          "position": 1343
        },
        "endLoc": {
          "line": 220,
          "column": 6,
          "position": 1421
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/websocket.gateway.ts",
        "start": 268,
        "end": 283,
        "startLoc": {
          "line": 268,
          "column": 3,
          "position": 1414
        },
        "endLoc": {
          "line": 283,
          "column": 6,
          "position": 1492
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "@UseGuards(WsJwtAuthGuard)\n  @SubscribeMessage('conversation:leave')\n  async handleConversationLeave(\n    @ConnectedSocket() client: AuthenticatedSocket,\n    @MessageBody() data: Partial<ConversationEventDto>,\n  ): Promise<void> {\n    await this.conversationHandler.handleConversationLeave(client, data);\n  }\n\n  /**\n   * Handles presence update events\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/websocket/websocket-refactored.gateway.ts",
        "start": 221,
        "end": 232,
        "startLoc": {
          "line": 221,
          "column": 3,
          "position": 1424
        },
        "endLoc": {
          "line": 232,
          "column": 6,
          "position": 1502
        }
      },
      "secondFile": {
        "name": "src/infrastructure/websocket/websocket.gateway.ts",
        "start": 284,
        "end": 299,
        "startLoc": {
          "line": 284,
          "column": 3,
          "position": 1495
        },
        "endLoc": {
          "line": 299,
          "column": 6,
          "position": 1573
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "/**\n * Stream configuration for query operations\n */\nexport interface StreamConfig {\n  batchSize: number;\n  highWaterMark?: number;\n  objectMode?: boolean;\n  backpressureThreshold?: number;\n  transaction?: Transaction;\n}\n\n/**\n * Cursor pagination configuration\n */\nexport interface CursorPaginationConfig {\n  cursorField: string;\n  limit: number;\n  direction: 'forward' | 'backward';\n  cursor?: any",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/streaming/streaming-query.service.ts",
        "start": 30,
        "end": 48,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 116
        },
        "endLoc": {
          "line": 48,
          "column": 4,
          "position": 208
        }
      },
      "secondFile": {
        "name": "src/database/services/operations/interfaces.ts",
        "start": 181,
        "end": 199,
        "startLoc": {
          "line": 181,
          "column": 1,
          "position": 1016
        },
        "endLoc": {
          "line": 199,
          "column": 8,
          "position": 1108
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "@Process('send-notification')\n  async processNotification(job: Job<NotificationJobDto>): Promise<JobResult> {\n    const startTime = Date.now();\n    this.logger.log(\n      `Processing ${job.data.type} notification for recipient ${job.data.recipientId}`,\n    );\n\n    try {\n      await job.progress({\n        percentage: 20,\n        step: 'Preparing notification',\n      } as JobProgress);\n\n      // Route to appropriate notification handler",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 26,
        "end": 39,
        "startLoc": {
          "line": 26,
          "column": 3,
          "position": 146
        },
        "endLoc": {
          "line": 39,
          "column": 45,
          "position": 260
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 28,
        "end": 41,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 141
        },
        "endLoc": {
          "line": 41,
          "column": 54,
          "position": 255
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "switch (job.data.type) {\n        case NotificationType.PUSH:\n          await this.sendPushNotification(job);\n          break;\n        case NotificationType.EMAIL:\n          await this.sendEmailNotification(job);\n          break;\n        case NotificationType.SMS:\n          await this.sendSmsNotification(job);\n          break;\n        case NotificationType.IN_APP:\n          await this.sendInAppNotification(job);\n          break;\n        default",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 40,
        "end": 53,
        "startLoc": {
          "line": 40,
          "column": 7,
          "position": 263
        },
        "endLoc": {
          "line": 53,
          "column": 8,
          "position": 368
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 42,
        "end": 55,
        "startLoc": {
          "line": 42,
          "column": 7,
          "position": 258
        },
        "endLoc": {
          "line": 55,
          "column": 2,
          "position": 363
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ";\n      }\n\n      await job.progress({\n        percentage: 100,\n        step: 'Notification sent',\n      } as JobProgress);\n\n      const processingTime = Date.now() - startTime;\n      this.logger.log(\n        `Notification sent successfully: ${job.data.type} to ${job.data.recipientId} (${processingTime}ms)`,\n      );\n\n      return {\n        success: true,\n        data: {\n          notificationId: job.data.notificationId,\n          type: job.data.type,\n          sentAt: new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const err",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 54,
        "end": 82,
        "startLoc": {
          "line": 54,
          "column": 2,
          "position": 391
        },
        "endLoc": {
          "line": 82,
          "column": 4,
          "position": 610
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 54,
        "end": 82,
        "startLoc": {
          "line": 54,
          "column": 6,
          "position": 360
        },
        "endLoc": {
          "line": 82,
          "column": 13,
          "position": 579
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "@Process('index-message')\n  async processIndexing(job: Job<IndexingJobDto>): Promise<JobResult> {\n    const startTime = Date.now();\n    this.logger.log(`Processing ${job.data.operation} indexing for message ${job.data.messageId}`);\n\n    try {\n      await job.progress({\n        percentage: 30,\n        step: `${job.data.operation} index`,\n      } as JobProgress);\n\n      switch",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-indexing.processor.ts",
        "start": 32,
        "end": 43,
        "startLoc": {
          "line": 32,
          "column": 3,
          "position": 190
        },
        "endLoc": {
          "line": 43,
          "column": 7,
          "position": 307
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-indexing.processor.ts",
        "start": 28,
        "end": 39,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 138
        },
        "endLoc": {
          "line": 39,
          "column": 72,
          "position": 255
        }
      }
    },
    {
      "format": "typescript",
      "lines": 30,
      "fragment": "this.deleteMessageIndex(job.data.messageId);\n          break;\n      }\n\n      await job.progress({\n        percentage: 100,\n        step: 'Indexing completed',\n      } as JobProgress);\n\n      const processingTime = Date.now() - startTime;\n      this.logger.log(\n        `Indexing ${job.data.operation} completed for message ${job.data.messageId} (${processingTime}ms)`,\n      );\n\n      return {\n        success: true,\n        data: {\n          messageId: job.data.messageId,\n          operation: job.data.operation,\n          indexedAt: new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const err",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-indexing.processor.ts",
        "start": 51,
        "end": 80,
        "startLoc": {
          "line": 51,
          "column": 11,
          "position": 372
        },
        "endLoc": {
          "line": 80,
          "column": 4,
          "position": 605
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-indexing.processor.ts",
        "start": 48,
        "end": 77,
        "startLoc": {
          "line": 48,
          "column": 2,
          "position": 325
        },
        "endLoc": {
          "line": 77,
          "column": 13,
          "position": 558
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ": new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const err = error as Error;\n      this.logger.error(`Indexing failed: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-indexing.processor.ts",
        "start": 70,
        "end": 81,
        "startLoc": {
          "line": 70,
          "column": 10,
          "position": 522
        },
        "endLoc": {
          "line": 81,
          "column": 19,
          "position": 623
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 72,
        "end": 83,
        "startLoc": {
          "line": 72,
          "column": 7,
          "position": 527
        },
        "endLoc": {
          "line": 83,
          "column": 31,
          "position": 628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${err.message}`, err.stack);\n\n      return {\n        success: false,\n        error: {\n          message: err.message,\n          stack: err.stack,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    }\n  }\n\n  private async indexMessage",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-indexing.processor.ts",
        "start": 81,
        "end": 98,
        "startLoc": {
          "line": 81,
          "column": 19,
          "position": 624
        },
        "endLoc": {
          "line": 98,
          "column": 13,
          "position": 729
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 83,
        "end": 100,
        "startLoc": {
          "line": 83,
          "column": 31,
          "position": 629
        },
        "endLoc": {
          "line": 100,
          "column": 21,
          "position": 734
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "@Process('encrypt-decrypt')\n  async processEncryption(job: Job<EncryptionJobDto>): Promise<JobResult> {\n    const startTime = Date.now();\n    this.logger.log(`Processing ${job.data.operation} for message ${job.data.messageId}`);\n\n    try {\n      await job.progress({\n        percentage: 25,\n        step: `Starting ${job.data.operation}`,\n      } as JobProgress);\n\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-encryption.processor.ts",
        "start": 35,
        "end": 46,
        "startLoc": {
          "line": 35,
          "column": 3,
          "position": 232
        },
        "endLoc": {
          "line": 46,
          "column": 6,
          "position": 349
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-encryption.processor.ts",
        "start": 28,
        "end": 39,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 138
        },
        "endLoc": {
          "line": 39,
          "column": 47,
          "position": 255
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ");\n      }\n\n      await job.progress({\n        percentage: 100,\n        step: `${job.data.operation} completed`,\n      } as JobProgress);\n\n      const processingTime = Date.now() - startTime;\n      this.logger.log(\n        `${job.data.operation} completed for message ${job.data.messageId} (${processingTime}ms)`,\n      );\n\n      return {\n        success: true,\n        data: {\n          messageId: job.data.messageId,\n          operation: job.data.operation,\n          result,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const err",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-encryption.processor.ts",
        "start": 62,
        "end": 90,
        "startLoc": {
          "line": 62,
          "column": 8,
          "position": 521
        },
        "endLoc": {
          "line": 90,
          "column": 4,
          "position": 742
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-encryption.processor.ts",
        "start": 49,
        "end": 77,
        "startLoc": {
          "line": 49,
          "column": 6,
          "position": 352
        },
        "endLoc": {
          "line": 77,
          "column": 13,
          "position": 573
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const err = error as Error;\n      this.logger.error(\n        `",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-encryption.processor.ts",
        "start": 80,
        "end": 92,
        "startLoc": {
          "line": 80,
          "column": 7,
          "position": 666
        },
        "endLoc": {
          "line": 92,
          "column": 2,
          "position": 762
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 72,
        "end": 83,
        "startLoc": {
          "line": 72,
          "column": 2,
          "position": 534
        },
        "endLoc": {
          "line": 83,
          "column": 31,
          "position": 628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n\n      return {\n        success: false,\n        error: {\n          message: err.message,\n          stack: err.stack,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    }\n  }\n\n  private async encryptContent",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-encryption.processor.ts",
        "start": 94,
        "end": 111,
        "startLoc": {
          "line": 94,
          "column": 7,
          "position": 794
        },
        "endLoc": {
          "line": 111,
          "column": 15,
          "position": 888
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 83,
        "end": 100,
        "startLoc": {
          "line": 83,
          "column": 6,
          "position": 640
        },
        "endLoc": {
          "line": 100,
          "column": 21,
          "position": 734
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "const processingTime = Date.now() - startTime;\n      this.logger.log(\n        `Delivery confirmation processed: ${job.data.messageId} (${processingTime}ms)`,\n      );\n\n      return {\n        success: true,\n        data: {\n          messageId: job.data.messageId,\n          status: job.data.status,\n          confirmedAt: new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      this",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-delivery.processor.ts",
        "start": 252,
        "end": 272,
        "startLoc": {
          "line": 252,
          "column": 7,
          "position": 1964
        },
        "endLoc": {
          "line": 272,
          "column": 5,
          "position": 2133
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-delivery.processor.ts",
        "start": 120,
        "end": 140,
        "startLoc": {
          "line": 120,
          "column": 7,
          "position": 782
        },
        "endLoc": {
          "line": 140,
          "column": 6,
          "position": 951
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n          completedAt: new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const err",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-cleanup.processor.ts",
        "start": 74,
        "end": 85,
        "startLoc": {
          "line": 74,
          "column": 13,
          "position": 544
        },
        "endLoc": {
          "line": 85,
          "column": 4,
          "position": 631
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-cleanup.processor.ts",
        "start": 69,
        "end": 80,
        "startLoc": {
          "line": 69,
          "column": 7,
          "position": 476
        },
        "endLoc": {
          "line": 80,
          "column": 13,
          "position": 563
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ": new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const err = error as Error;\n      this.logger.error(`Cleanup failed: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-cleanup.processor.ts",
        "start": 75,
        "end": 86,
        "startLoc": {
          "line": 75,
          "column": 12,
          "position": 548
        },
        "endLoc": {
          "line": 86,
          "column": 18,
          "position": 649
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 72,
        "end": 83,
        "startLoc": {
          "line": 72,
          "column": 7,
          "position": 527
        },
        "endLoc": {
          "line": 83,
          "column": 31,
          "position": 628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${err.message}`, err.stack);\n\n      return {\n        success: false,\n        error: {\n          message: err.message,\n          stack: err.stack,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    }\n  }\n\n  private async cleanupOldMessages",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/message-cleanup.processor.ts",
        "start": 86,
        "end": 103,
        "startLoc": {
          "line": 86,
          "column": 18,
          "position": 650
        },
        "endLoc": {
          "line": 103,
          "column": 19,
          "position": 755
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 83,
        "end": 100,
        "startLoc": {
          "line": 83,
          "column": 31,
          "position": 629
        },
        "endLoc": {
          "line": 100,
          "column": 21,
          "position": 734
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "@Process('batch-send')\n  async processBatchMessage(job: Job<BatchMessageJobDto>): Promise<JobResult> {\n    const startTime = Date.now();\n    const totalRecipients = job.data.recipientIds.length;\n    this.logger.log(`Processing batch message job ${job.id} for ${totalRecipients} recipients`);\n\n    try {\n      const chunkSize = job.data.chunkSize || 10;\n      const chunkDelay = job.data.chunkDelay || 100;\n      let processedCount = 0;\n      let",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/batch-message-sending.processor.ts",
        "start": 35,
        "end": 45,
        "startLoc": {
          "line": 35,
          "column": 3,
          "position": 232
        },
        "endLoc": {
          "line": 45,
          "column": 4,
          "position": 364
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/batch-message.processor.ts",
        "start": 28,
        "end": 39,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 138
        },
        "endLoc": {
          "line": 39,
          "column": 32,
          "position": 271
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n\n        processedCount += chunk.length;\n        const percentage = Math.floor((processedCount / totalRecipients) * 100);\n\n        await job.progress({\n          percentage,\n          step: 'Sending messages',\n          currentStep: processedCount,\n          totalSteps: totalRecipients,\n        } as JobProgress);\n\n        // Delay between chunks to avoid overwhelming the system\n        if (i + chunkSize < totalRecipients) {\n          await this.delay(chunkDelay);\n        }\n      }\n\n      const processingTime = Date.now() - startTime;\n      this.logger.log(\n        `Batch message sent to ${totalRecipients} recipients: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/batch-message-sending.processor.ts",
        "start": 54,
        "end": 74,
        "startLoc": {
          "line": 54,
          "column": 8,
          "position": 483
        },
        "endLoc": {
          "line": 74,
          "column": 14,
          "position": 635
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/batch-message.processor.ts",
        "start": 44,
        "end": 63,
        "startLoc": {
          "line": 44,
          "column": 2,
          "position": 346
        },
        "endLoc": {
          "line": 63,
          "column": 14,
          "position": 496
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n          sentAt: new Date(),\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    } catch (error) {\n      const processingTime = Date.now() - startTime;\n      const err = error as Error;\n      this.logger.error(`Batch message failed: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/batch-message-sending.processor.ts",
        "start": 84,
        "end": 96,
        "startLoc": {
          "line": 84,
          "column": 13,
          "position": 701
        },
        "endLoc": {
          "line": 96,
          "column": 24,
          "position": 806
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/processors/message-notification.processor.ts",
        "start": 71,
        "end": 83,
        "startLoc": {
          "line": 71,
          "column": 5,
          "position": 492
        },
        "endLoc": {
          "line": 83,
          "column": 31,
          "position": 628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${err.message}`, err.stack);\n\n      return {\n        success: false,\n        error: {\n          message: err.message,\n          stack: err.stack,\n        },\n        metadata: {\n          processingTime,\n          attempts: job.attemptsMade,\n          completedAt: new Date(),\n        },\n      };\n    }\n  }\n\n  private async sendToRecipients",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/batch-message-sending.processor.ts",
        "start": 96,
        "end": 113,
        "startLoc": {
          "line": 96,
          "column": 24,
          "position": 807
        },
        "endLoc": {
          "line": 113,
          "column": 17,
          "position": 912
        }
      },
      "secondFile": {
        "name": "src/infrastructure/queue/message-notification.processor.ts",
        "start": 83,
        "end": 100,
        "startLoc": {
          "line": 83,
          "column": 31,
          "position": 629
        },
        "endLoc": {
          "line": 100,
          "column": 21,
          "position": 734
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "{\n  protected readonly logger: Logger;\n\n  constructor(processorName: string) {\n    this.logger = new Logger(processorName);\n  }\n\n  /**\n   * Common delay utility for simulating async operations\n   * @param ms - Milliseconds to delay\n   */\n  protected delay(ms: number): Promise<void> {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  /**\n   * Common job active handler\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/queue/base.processor.ts",
        "start": 15,
        "end": 32,
        "startLoc": {
          "line": 15,
          "column": 2,
          "position": 76
        },
        "endLoc": {
          "line": 32,
          "column": 6,
          "position": 170
        }
      },
      "secondFile": {
        "name": "src/infrastructure/jobs/base/base.processor.ts",
        "start": 12,
        "end": 26,
        "startLoc": {
          "line": 12,
          "column": 2,
          "position": 27
        },
        "endLoc": {
          "line": 26,
          "column": 2,
          "position": 119
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "}, 60000);\n\n    // Cleanup old metrics every hour\n    this.cleanupInterval = setInterval(() => {\n      this.cleanupOldMetrics();\n    }, 3600000);\n\n    this.logger.log('Performance metrics collection started');\n  }\n\n  /**\n   * Record HTTP request metrics\n   */\n  recordRequest(\n    endpoint: string,\n    method: string,\n    duration: number,\n    statusCode: number,",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 169,
        "end": 186,
        "startLoc": {
          "line": 169,
          "column": 5,
          "position": 1102
        },
        "endLoc": {
          "line": 186,
          "column": 2,
          "position": 1194
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 43,
        "end": 56,
        "startLoc": {
          "line": 43,
          "column": 5,
          "position": 342
        },
        "endLoc": {
          "line": 56,
          "column": 2,
          "position": 429
        }
      }
    },
    {
      "format": "typescript",
      "lines": 83,
      "fragment": "): void {\n    this.totalRequests++;\n\n    if (statusCode >= 400) {\n      this.totalErrors++;\n    }\n\n    const key = `${method}:${endpoint}`;\n    let metrics = this.requestMetrics.get(key);\n\n    if (!metrics) {\n      metrics = {\n        endpoint,\n        method,\n        count: 0,\n        totalDuration: 0,\n        avgDuration: 0,\n        minDuration: Infinity,\n        maxDuration: 0,\n        p50Duration: 0,\n        p95Duration: 0,\n        p99Duration: 0,\n        statusCodes: {},\n        errorCount: 0,\n        lastAccessed: new Date(),\n      };\n      this.requestMetrics.set(key, metrics);\n    }\n\n    metrics.count++;\n    metrics.totalDuration += duration;\n    metrics.avgDuration = metrics.totalDuration / metrics.count;\n    metrics.minDuration = Math.min(metrics.minDuration, duration);\n    metrics.maxDuration = Math.max(metrics.maxDuration, duration);\n    metrics.lastAccessed = new Date();\n    metrics.statusCodes[statusCode] = (metrics.statusCodes[statusCode] || 0) + 1;\n\n    if (statusCode >= 400) {\n      metrics.errorCount++;\n    }\n\n    // Update percentiles (approximate)\n    this.updateRequestPercentiles(metrics);\n\n    // Store duration for overall percentile calculation\n    this.requestDurations.push(duration);\n    if (this.requestDurations.length > 10000) {\n      this.requestDurations.shift();\n    }\n\n    // Trim endpoint metrics if too many\n    if (this.requestMetrics.size > this.MAX_ENDPOINT_METRICS) {\n      this.trimEndpointMetrics();\n    }\n  }\n\n  /**\n   * Update percentiles for request metrics\n   */\n  private updateRequestPercentiles(metrics: RequestMetrics): void {\n    const range = metrics.maxDuration - metrics.minDuration;\n    metrics.p50Duration = metrics.minDuration + range * 0.5;\n    metrics.p95Duration = metrics.minDuration + range * 0.95;\n    metrics.p99Duration = metrics.minDuration + range * 0.99;\n  }\n\n  /**\n   * Trim least accessed endpoint metrics\n   */\n  private trimEndpointMetrics(): void {\n    const entries = Array.from(this.requestMetrics.entries());\n    entries.sort((a, b) => a[1].lastAccessed.getTime() - b[1].lastAccessed.getTime());\n\n    // Remove oldest 10%\n    const toRemove = Math.floor(entries.length * 0.1);\n    for (let i = 0; i < toRemove; i++) {\n      this.requestMetrics.delete(entries[i][0]);\n    }\n  }\n\n  /**\n   * Record cache operation\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 187,
        "end": 269,
        "startLoc": {
          "line": 187,
          "column": 3,
          "position": 1197
        },
        "endLoc": {
          "line": 269,
          "column": 6,
          "position": 1891
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/services/request-metrics.service.ts",
        "start": 23,
        "end": 105,
        "startLoc": {
          "line": 23,
          "column": 7,
          "position": 163
        },
        "endLoc": {
          "line": 105,
          "column": 6,
          "position": 857
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": "): void {\n    switch (operation) {\n      case 'hit':\n        this.cacheMetrics.hits++;\n        if (duration) {\n          this.cacheMetrics.avgHitDuration =\n            (this.cacheMetrics.avgHitDuration + duration) / 2;\n        }\n        break;\n      case 'miss':\n        this.cacheMetrics.misses++;\n        if (duration) {\n          this.cacheMetrics.avgMissDuration =\n            (this.cacheMetrics.avgMissDuration + duration) / 2;\n        }\n        break;\n      case 'set':\n        this.cacheMetrics.sets++;\n        break;\n      case 'delete':\n        this.cacheMetrics.deletes++;\n        break;\n      case 'eviction':\n        this.cacheMetrics.evictions++;\n        break;\n    }\n\n    // Update hit rate\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 273,
        "end": 301,
        "startLoc": {
          "line": 273,
          "column": 3,
          "position": 1929
        },
        "endLoc": {
          "line": 301,
          "column": 6,
          "position": 2126
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/services/cache-metrics.service.ts",
        "start": 29,
        "end": 55,
        "startLoc": {
          "line": 29,
          "column": 7,
          "position": 166
        },
        "endLoc": {
          "line": 55,
          "column": 5,
          "position": 361
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "const memUsage = process.memoryUsage();\n    const memMetrics: MemoryMetrics = {\n      heapUsed: memUsage.heapUsed,\n      heapTotal: memUsage.heapTotal,\n      external: memUsage.external,\n      rss: memUsage.rss,\n      utilizationPercent: (memUsage.heapUsed / memUsage.heapTotal) * 100,\n      gcPauses: 0, // Would need gc-stats library\n      avgGcDuration: 0,\n    };\n\n    this.memoryMetricsHistory.push(memMetrics);\n    if (this.memoryMetricsHistory.length > this.MAX_HISTORY_POINTS) {\n      this.memoryMetricsHistory.shift();\n    }\n\n    // Collect connection pool metrics",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 317,
        "end": 333,
        "startLoc": {
          "line": 317,
          "column": 5,
          "position": 2235
        },
        "endLoc": {
          "line": 333,
          "column": 35,
          "position": 2383
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/services/system-metrics.service.ts",
        "start": 39,
        "end": 55,
        "startLoc": {
          "line": 39,
          "column": 5,
          "position": 260
        },
        "endLoc": {
          "line": 55,
          "column": 7,
          "position": 408
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ",\n          utilizationPercent: 0,\n          avgWaitTime: 0,\n          connectionErrors: 0,\n        };\n\n        if (poolMetrics.maxConnections > 0) {\n          poolMetrics.utilizationPercent =\n            (poolMetrics.totalConnections / poolMetrics.maxConnections) * 100;\n        }\n\n        this.poolMetricsHistory.push(poolMetrics);\n        if (this.poolMetricsHistory.length > this.MAX_HISTORY_POINTS) {\n          this.poolMetricsHistory.shift();\n        }\n      }",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 342,
        "end": 357,
        "startLoc": {
          "line": 342,
          "column": 2,
          "position": 2529
        },
        "endLoc": {
          "line": 357,
          "column": 2,
          "position": 2645
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/services/system-metrics.service.ts",
        "start": 87,
        "end": 103,
        "startLoc": {
          "line": 87,
          "column": 15,
          "position": 632
        },
        "endLoc": {
          "line": 103,
          "column": 7,
          "position": 749
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ",\n      },\n      queries: {\n        totalQueries: 0,\n        slowQueries: 0,\n        avgQueryTime: 0,\n        p50QueryTime: 0,\n        p95QueryTime: 0,\n        p99QueryTime: 0,\n        n1DetectionCount: 0,\n        queryDistribution: {\n          fast: 0,\n          medium: 0,\n          slow: 0,\n          verySlow: 0,\n        },\n      },\n      cache: {",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 390,
        "end": 407,
        "startLoc": {
          "line": 390,
          "column": 2,
          "position": 3012
        },
        "endLoc": {
          "line": 407,
          "column": 2,
          "position": 3119
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/services/performance-analyzer.service.ts",
        "start": 49,
        "end": 66,
        "startLoc": {
          "line": 49,
          "column": 10,
          "position": 403
        },
        "endLoc": {
          "line": 66,
          "column": 13,
          "position": 510
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ".collectSystemMetrics();\n    this.recordPerformanceSummary();\n    return this.performanceHistory[this.performanceHistory.length - 1];\n  }\n\n  /**\n   * Get performance trends\n   */\n  getPerformanceTrends(hours: number = 1): PerformanceTrend[] {\n    const trends: PerformanceTrend[] = [];\n    const cutoff = Date.now() - hours * 3600000;\n\n    const recentHistory = this.performanceHistory.filter(\n      (h) => h.timestamp.getTime() >= cutoff,",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 465,
        "end": 478,
        "startLoc": {
          "line": 465,
          "column": 5,
          "position": 3535
        },
        "endLoc": {
          "line": 478,
          "column": 2,
          "position": 3666
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/services/performance-analyzer.service.ts",
        "start": 83,
        "end": 95,
        "startLoc": {
          "line": 83,
          "column": 14,
          "position": 608
        },
        "endLoc": {
          "line": 95,
          "column": 2,
          "position": 737
        }
      }
    },
    {
      "format": "typescript",
      "lines": 95,
      "fragment": ");\n\n    if (recentHistory.length < 2) {\n      return trends;\n    }\n\n    const baseline = recentHistory[0];\n    const current = recentHistory[recentHistory.length - 1];\n\n    // Request performance trend\n    trends.push(this.calculateTrend('avgRequestDuration', baseline, current));\n    trends.push(this.calculateTrend('requestsPerSecond', baseline, current));\n    trends.push(this.calculateTrend('errorRate', baseline, current));\n\n    // Cache performance trend\n    trends.push(this.calculateTrend('cacheHitRate', baseline, current));\n\n    // Memory trend\n    trends.push(this.calculateTrend('memoryUtilization', baseline, current));\n\n    // Pool utilization trend\n    trends.push(this.calculateTrend('poolUtilization', baseline, current));\n\n    return trends;\n  }\n\n  /**\n   * Calculate performance trend\n   */\n  private calculateTrend(\n    metric: string,\n    baseline: PerformanceSummary,\n    current: PerformanceSummary,\n  ): PerformanceTrend {\n    let baselineValue = 0;\n    let currentValue = 0;\n\n    switch (metric) {\n      case 'avgRequestDuration':\n        baselineValue = baseline.requests.avgDuration;\n        currentValue = current.requests.avgDuration;\n        break;\n      case 'requestsPerSecond':\n        baselineValue = baseline.requests.perSecond;\n        currentValue = current.requests.perSecond;\n        break;\n      case 'errorRate':\n        baselineValue = baseline.requests.errorRate;\n        currentValue = current.requests.errorRate;\n        break;\n      case 'cacheHitRate':\n        baselineValue = baseline.cache.hitRate;\n        currentValue = current.cache.hitRate;\n        break;\n      case 'memoryUtilization':\n        baselineValue = baseline.memory.utilizationPercent;\n        currentValue = current.memory.utilizationPercent;\n        break;\n      case 'poolUtilization':\n        baselineValue = baseline.pool.utilizationPercent;\n        currentValue = current.pool.utilizationPercent;\n        break;\n    }\n\n    const percentChange = baselineValue !== 0 ? ((currentValue - baselineValue) / baselineValue) * 100 : 0;\n\n    let trend: 'improving' | 'degrading' | 'stable';\n    if (Math.abs(percentChange) < 5) {\n      trend = 'stable';\n    } else if (\n      (metric === 'avgRequestDuration' ||\n        metric === 'errorRate' ||\n        metric === 'memoryUtilization') &&\n      percentChange > 0\n    ) {\n      trend = 'degrading';\n    } else if (percentChange > 0) {\n      trend = 'improving';\n    } else {\n      trend = 'degrading';\n    }\n\n    return {\n      timestamp: current.timestamp,\n      metric,\n      value: currentValue,\n      baseline: baselineValue,\n      percentChange,\n      trend,\n    };\n  }\n\n  /**\n   * Get endpoint metrics\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 479,
        "end": 573,
        "startLoc": {
          "line": 479,
          "column": 5,
          "position": 3669
        },
        "endLoc": {
          "line": 573,
          "column": 6,
          "position": 4386
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/services/performance-analyzer.service.ts",
        "start": 95,
        "end": 189,
        "startLoc": {
          "line": 95,
          "column": 7,
          "position": 737
        },
        "endLoc": {
          "line": 189,
          "column": 6,
          "position": 1454
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "}\n\n  /**\n   * Get endpoint metrics\n   */\n  getEndpointMetrics(endpoint?: string, method?: string): RequestMetrics[] {\n    if (endpoint && method) {\n      const key = `${method}:${endpoint}`;\n      const metrics = this.requestMetrics.get(key);\n      return metrics ? [metrics] : [];\n    }\n\n    return Array.from(this.requestMetrics.values());\n  }\n\n  /**\n   * Get cache metrics\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 569,
        "end": 586,
        "startLoc": {
          "line": 569,
          "column": 3,
          "position": 4382
        },
        "endLoc": {
          "line": 586,
          "column": 6,
          "position": 4503
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/services/request-metrics.service.ts",
        "start": 101,
        "end": 118,
        "startLoc": {
          "line": 101,
          "column": 3,
          "position": 853
        },
        "endLoc": {
          "line": 118,
          "column": 6,
          "position": 974
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n  }\n\n  /**\n   * Get performance history\n   */\n  getPerformanceHistory(hours: number = 1): PerformanceSummary[] {\n    const cutoff = Date.now() - hours * 3600000;\n    return this.performanceHistory.filter((h) => h.timestamp.getTime() >= cutoff);\n  }\n\n  /**\n   * Reset all metrics\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 608,
        "end": 621,
        "startLoc": {
          "line": 608,
          "column": 2,
          "position": 4718
        },
        "endLoc": {
          "line": 621,
          "column": 6,
          "position": 4803
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/services/performance-analyzer.service.ts",
        "start": 184,
        "end": 197,
        "startLoc": {
          "line": 184,
          "column": 2,
          "position": 1447
        },
        "endLoc": {
          "line": 197,
          "column": 6,
          "position": 1532
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n    };\n  }\n\n  /**\n   * Cleanup on module destroy\n   */\n  async onModuleDestroy(): Promise<void> {\n    if (this.metricsCollectionInterval) {\n      clearInterval(this.metricsCollectionInterval);\n    }\n    if (this.cleanupInterval) {\n      clearInterval(this.cleanupInterval);\n    }\n    this.logger.log('Performance metrics service stopped');\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 660,
        "end": 676,
        "startLoc": {
          "line": 660,
          "column": 5,
          "position": 5166
        },
        "endLoc": {
          "line": 676,
          "column": 2,
          "position": 5254
        }
      },
      "secondFile": {
        "name": "src/infrastructure/monitoring/performance-metrics.service.ts",
        "start": 153,
        "end": 169,
        "startLoc": {
          "line": 153,
          "column": 8,
          "position": 1013
        },
        "endLoc": {
          "line": 169,
          "column": 2,
          "position": 1102
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "}\n\n  /**\n   * Emit cache event\n   * @private\n   */\n  private emitEvent(event: CacheEvent, key: string, metadata?: Record<string, any>): void {\n    this.eventEmitter.emit(event, {\n      event,\n      key,\n      timestamp: Date.now(),\n      metadata,\n    });\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/cache/cache-storage.service.ts",
        "start": 346,
        "end": 360,
        "startLoc": {
          "line": 346,
          "column": 3,
          "position": 2176
        },
        "endLoc": {
          "line": 360,
          "column": 2,
          "position": 2260
        }
      },
      "secondFile": {
        "name": "src/infrastructure/cache/cache.service.ts",
        "start": 488,
        "end": 502,
        "startLoc": {
          "line": 488,
          "column": 3,
          "position": 3688
        },
        "endLoc": {
          "line": 502,
          "column": 2,
          "position": 3772
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${fullKey}`);\n        this.logger.warn(error.message, {\n          key: fullKey,\n          amount,\n          redisStatus: 'disconnected',\n          recommendation: 'Check Redis connection configuration and ensure Redis server is running',\n        });\n        this.stats.errors++;\n        throw error;\n      }\n\n      const result = await redis.decrby",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/cache/cache-operations.service.ts",
        "start": 93,
        "end": 104,
        "startLoc": {
          "line": 93,
          "column": 46,
          "position": 579
        },
        "endLoc": {
          "line": 104,
          "column": 7,
          "position": 660
        }
      },
      "secondFile": {
        "name": "src/infrastructure/cache/cache-operations.service.ts",
        "start": 47,
        "end": 58,
        "startLoc": {
          "line": 47,
          "column": 46,
          "position": 255
        },
        "endLoc": {
          "line": 58,
          "column": 7,
          "position": 336
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\n  }\n\n  /**\n   * Emit cache event\n   * @private\n   */\n  private emitEvent(event: CacheEvent, key: string, metadata?: Record<string, any>): void {\n    this.eventEmitter.emit(event, {\n      event,\n      key,\n      timestamp: Date.now(),\n      metadata,\n    });\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/infrastructure/cache/cache-invalidation.service.ts",
        "start": 246,
        "end": 261,
        "startLoc": {
          "line": 246,
          "column": 2,
          "position": 1586
        },
        "endLoc": {
          "line": 261,
          "column": 2,
          "position": 1673
        }
      },
      "secondFile": {
        "name": "src/infrastructure/cache/cache.service.ts",
        "start": 487,
        "end": 502,
        "startLoc": {
          "line": 487,
          "column": 2,
          "position": 3685
        },
        "endLoc": {
          "line": 502,
          "column": 2,
          "position": 3772
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "if (dateFrom && dateTo) {\n        where.occurredAt = {\n          [Op.between]: [dateFrom, dateTo],\n        };\n      } else if (dateFrom) {\n        where.occurredAt = {\n          [Op.gte]: dateFrom,\n        };\n      } else if (dateTo) {\n        where.occurredAt = {\n          [Op.lte]: dateTo,\n        };\n      }\n\n      const reports = await this.incidentReportModel.findAll({\n        where,\n        attributes: ['id', 'type']",
      "tokens": 0,
      "firstFile": {
        "name": "src/incident-report/services/incident-statistics.service.ts",
        "start": 130,
        "end": 146,
        "startLoc": {
          "line": 130,
          "column": 7,
          "position": 1078
        },
        "endLoc": {
          "line": 146,
          "column": 2,
          "position": 1227
        }
      },
      "secondFile": {
        "name": "src/incident-report/services/incident-statistics.service.ts",
        "start": 32,
        "end": 50,
        "startLoc": {
          "line": 32,
          "column": 7,
          "position": 226
        },
        "endLoc": {
          "line": 50,
          "column": 2,
          "position": 378
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "(dateFrom?: Date, dateTo?: Date) {\n    try {\n      const where: any = {};\n\n      if (dateFrom && dateTo) {\n        where.occurredAt = {\n          [Op.between]: [dateFrom, dateTo],\n        };\n      } else if (dateFrom) {\n        where.occurredAt = {\n          [Op.gte]: dateFrom,\n        };\n      } else if (dateTo) {\n        where.occurredAt = {\n          [Op.lte]: dateTo,\n        };\n      }\n\n      const reports = await this.incidentReportModel.findAll({\n        where,\n        attributes: ['id', 'severity'",
      "tokens": 0,
      "firstFile": {
        "name": "src/incident-report/services/incident-statistics.service.ts",
        "start": 168,
        "end": 188,
        "startLoc": {
          "line": 168,
          "column": 23,
          "position": 1389
        },
        "endLoc": {
          "line": 188,
          "column": 11,
          "position": 1575
        }
      },
      "secondFile": {
        "name": "src/incident-report/services/incident-statistics.service.ts",
        "start": 126,
        "end": 50,
        "startLoc": {
          "line": 126,
          "column": 19,
          "position": 1040
        },
        "endLoc": {
          "line": 50,
          "column": 7,
          "position": 377
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "include: [\n        {\n          model: this.incidentReportModel.sequelize?.models.User,\n          as: 'student',\n          attributes: ['id', 'firstName', 'lastName'],\n        },\n        {\n          model: this.incidentReportModel.sequelize?.models.User,\n          as: 'reportedBy',\n          attributes: ['id', 'firstName', 'lastName'],\n        },\n      ],\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/incident-report/services/incident-read.service.ts",
        "start": 103,
        "end": 115,
        "startLoc": {
          "line": 103,
          "column": 7,
          "position": 703
        },
        "endLoc": {
          "line": 115,
          "column": 2,
          "position": 803
        }
      },
      "secondFile": {
        "name": "src/incident-report/services/incident-read.service.ts",
        "start": 64,
        "end": 76,
        "startLoc": {
          "line": 64,
          "column": 7,
          "position": 429
        },
        "endLoc": {
          "line": 76,
          "column": 6,
          "position": 529
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": "async getIncidentReports(filters: IncidentFiltersDto) {\n    const { page = 1, limit = 20, ...filterParams } = filters;\n    const offset = (page - 1) * limit;\n\n    const where: any = {};\n\n    if (filterParams.studentId) {\n      where.studentId = filterParams.studentId;\n    }\n\n    if (filterParams.reportedById) {\n      where.reportedById = filterParams.reportedById;\n    }\n\n    if (filterParams.type) {\n      where.type = filterParams.type;\n    }\n\n    if (filterParams.severity) {\n      where.severity = filterParams.severity;\n    }\n\n    if (filterParams.dateFrom && filterParams.dateTo) {\n      where.occurredAt = {\n        [Op.between]: [\n          new Date(filterParams.dateFrom),\n          new Date(filterParams.dateTo),",
      "tokens": 0,
      "firstFile": {
        "name": "src/incident-report/services/incident-core.service.ts",
        "start": 27,
        "end": 53,
        "startLoc": {
          "line": 27,
          "column": 3,
          "position": 221
        },
        "endLoc": {
          "line": 53,
          "column": 2,
          "position": 462
        }
      },
      "secondFile": {
        "name": "src/incident-report/services/incident-read.service.ts",
        "start": 34,
        "end": 58,
        "startLoc": {
          "line": 34,
          "column": 3,
          "position": 145
        },
        "endLoc": {
          "line": 58,
          "column": 2,
          "position": 383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "},\n        },\n        include: [\n          {\n            association: 'student',\n            attributes: [\n              'id',\n              'studentNumber',\n              'firstName',\n              'lastName',\n              'grade',\n            ],\n            required: false,\n          },\n          {\n            association: 'reporter',\n            attributes: ['id', 'firstName', 'lastName', 'email', 'role'],\n            required: false,\n          },\n        ],\n        order: [['occurredAt', 'DESC']],\n      });\n\n      // Group incidents by student ID",
      "tokens": 0,
      "firstFile": {
        "name": "src/incident-report/services/incident-core.service.ts",
        "start": 464,
        "end": 487,
        "startLoc": {
          "line": 464,
          "column": 2,
          "position": 3202
        },
        "endLoc": {
          "line": 487,
          "column": 33,
          "position": 3333
        }
      },
      "secondFile": {
        "name": "src/incident-report/services/incident-core.service.ts",
        "start": 413,
        "end": 436,
        "startLoc": {
          "line": 413,
          "column": 2,
          "position": 2870
        },
        "endLoc": {
          "line": 436,
          "column": 30,
          "position": 3001
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "})\n  @ApiQuery({\n    name: 'dateFrom',\n    required: false,\n    type: String,\n    description: 'Start date filter (ISO string)',\n  })\n  @ApiQuery({\n    name: 'dateTo',\n    required: false,\n    type: String,\n    description: 'End date filter (ISO string)',\n  })\n  @ApiResponse({ status: 200, description: 'Returns incident counts grouped by severity'",
      "tokens": 0,
      "firstFile": {
        "name": "src/incident-report/controllers/incident-query.controller.ts",
        "start": 120,
        "end": 133,
        "startLoc": {
          "line": 120,
          "column": 2,
          "position": 895
        },
        "endLoc": {
          "line": 133,
          "column": 46,
          "position": 989
        }
      },
      "secondFile": {
        "name": "src/incident-report/controllers/incident-query.controller.ts",
        "start": 98,
        "end": 111,
        "startLoc": {
          "line": 98,
          "column": 2,
          "position": 691
        },
        "endLoc": {
          "line": 111,
          "column": 42,
          "position": 785
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ": string;\n  administeredByRole?: string;\n  facility?: string;\n  siteOfAdministration?: string;\n  routeOfAdministration?: string;\n  dosageAmount?: string;\n  expirationDate?: Date;\n  reactions?: string;\n  adverseEvents?: Record<string, unknown>;\n  exemptionStatus?: boolean;\n  exemptionReason?: string;\n  exemptionDocument?: string;\n  vfcEligibility?: boolean;\n  visProvided?: boolean;\n  visDate?: Date;\n  consentObtained?: boolean;\n  consentBy?: string;\n  notes?: string;\n  seriesComplete",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/vaccination/vaccination.dto.ts",
        "start": 54,
        "end": 72,
        "startLoc": {
          "line": 54,
          "column": 2,
          "position": 331
        },
        "endLoc": {
          "line": 72,
          "column": 15,
          "position": 479
        }
      },
      "secondFile": {
        "name": "src/health-record/vaccination/vaccination.dto.ts",
        "start": 21,
        "end": 39,
        "startLoc": {
          "line": 21,
          "column": 15,
          "position": 96
        },
        "endLoc": {
          "line": 39,
          "column": 2,
          "position": 243
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ": [\n          { dose: 1, age: '2 months', timing: 'At 2 months' },\n          { dose: 2, age: '4 months', timing: 'At 4 months' },\n          { dose: 3, age: '6 months', timing: 'At 6 months' },\n          { dose: 4, age: '15-18 months', timing: 'At 15-18 months' },\n          {\n            dose: 5,\n            age: '4-6 years',\n            timing: 'At 4-6 years (before school entry)',\n          },\n        ],\n      },\n      {",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/vaccination/vaccination-schedule.helper.ts",
        "start": 215,
        "end": 227,
        "startLoc": {
          "line": 215,
          "column": 6,
          "position": 1459
        },
        "endLoc": {
          "line": 227,
          "column": 2,
          "position": 1592
        }
      },
      "secondFile": {
        "name": "src/health-record/vaccination/vaccination-schedule.helper.ts",
        "start": 131,
        "end": 143,
        "startLoc": {
          "line": 131,
          "column": 10,
          "position": 760
        },
        "endLoc": {
          "line": 143,
          "column": 6,
          "position": 893
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ": [\n          { dose: 1, age: '2 months', timing: 'At 2 months' },\n          { dose: 2, age: '4 months', timing: 'At 4 months' },\n          { dose: 3, age: '6-18 months', timing: 'At 6-18 months' },\n          {\n            dose: 4,\n            age: '4-6 years',\n            timing: 'At 4-6 years (before school entry)',\n          },\n        ],\n      },\n      {",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/vaccination/vaccination-schedule.helper.ts",
        "start": 230,
        "end": 241,
        "startLoc": {
          "line": 230,
          "column": 6,
          "position": 1610
        },
        "endLoc": {
          "line": 241,
          "column": 2,
          "position": 1720
        }
      },
      "secondFile": {
        "name": "src/health-record/vaccination/vaccination-schedule.helper.ts",
        "start": 145,
        "end": 156,
        "startLoc": {
          "line": 145,
          "column": 10,
          "position": 907
        },
        "endLoc": {
          "line": 156,
          "column": 4,
          "position": 1017
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\n\n  constructor(\n    @InjectModel(Student)\n    private readonly studentModel: typeof Student,\n    @InjectModel(Vaccination)\n    private readonly vaccinationModel: typeof Vaccination,\n    @InjectModel(Allergy)\n    private readonly allergyModel: typeof Allergy,\n    @InjectModel(ChronicCondition)\n    private readonly chronicConditionModel: typeof ChronicCondition,\n    @InjectModel(VitalSigns)\n    private readonly vitalSignsModel: typeof VitalSigns,\n    @InjectModel(ClinicVisit)\n    private readonly clinicVisitModel: typeof ClinicVisit,\n    @",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/statistics/statistics.service.ts",
        "start": 21,
        "end": 36,
        "startLoc": {
          "line": 21,
          "column": 2,
          "position": 170
        },
        "endLoc": {
          "line": 36,
          "column": 2,
          "position": 298
        }
      },
      "secondFile": {
        "name": "src/health-record/validation/validation.service.ts",
        "start": 127,
        "end": 142,
        "startLoc": {
          "line": 127,
          "column": 2,
          "position": 604
        },
        "endLoc": {
          "line": 142,
          "column": 2,
          "position": 732
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ",\n      });\n\n      return auditLogs.map((log) => {\n        const changes = log.changes;\n        return {\n          correlationId: changes?.correlationId || log.id || '',\n          timestamp: log.createdAt || new Date(),\n          userId: log.userId || undefined,\n          studentId: log.entityId || undefined,\n          operation: changes?.operation || 'UNKNOWN',\n          dataTypes: changes?.dataTypes || [],\n          recordCount: changes?.recordCount || 1,\n          sensitivityLevel: changes?.sensitivityLevel || 'PHI',\n          ipAddress: changes?.ipAddress || log.ipAddress || '',\n          userAgent: changes?.userAgent || log.userAgent || '',\n          success: changes?.success !== false,\n        };\n      });\n    } catch (error) {\n      this.logger.error('Failed to search PHI access logs:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/phi-access-logger.service.ts",
        "start": 399,
        "end": 419,
        "startLoc": {
          "line": 399,
          "column": 4,
          "position": 2937
        },
        "endLoc": {
          "line": 419,
          "column": 36,
          "position": 3178
        }
      },
      "secondFile": {
        "name": "src/health-record/services/phi-access-logger.service.ts",
        "start": 305,
        "end": 325,
        "startLoc": {
          "line": 305,
          "column": 7,
          "position": 2189
        },
        "endLoc": {
          "line": 325,
          "column": 45,
          "position": 2430
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\n    }\n\n    // Execute query with pagination\n    const { rows: records, count: total } =\n      await this.healthRecordModel.findAndCountAll({\n        where: whereClause,\n        include: [{ model: this.studentModel, as: 'student' }],\n        order: [['recordDate', 'DESC']],\n        limit,\n        offset,\n      });\n\n    // PHI Access Audit Log\n    this.logger.log(\n      `PHI Access: Health records retrieved for student ",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/health-record-crud.service.ts",
        "start": 81,
        "end": 96,
        "startLoc": {
          "line": 81,
          "column": 2,
          "position": 482
        },
        "endLoc": {
          "line": 96,
          "column": 51,
          "position": 593
        }
      },
      "secondFile": {
        "name": "src/health-record/services/health-record-summary.service.ts",
        "start": 143,
        "end": 158,
        "startLoc": {
          "line": 143,
          "column": 5,
          "position": 963
        },
        "endLoc": {
          "line": 158,
          "column": 55,
          "position": 1074
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": ";\n    }\n    if (filters.dateFrom || filters.dateTo) {\n      whereClause.recordDate = {};\n      if (filters.dateFrom) {\n        whereClause.recordDate[Op.gte] = filters.dateFrom;\n      }\n      if (filters.dateTo) {\n        whereClause.recordDate[Op.lte] = filters.dateTo;\n      }\n    }\n    if (filters.provider) {\n      whereClause.provider = { [Op.iLike]: `%${filters.provider}%` };\n    }\n\n    // Execute query with pagination\n    const { rows: records, count: total } =\n      await this.healthRecordModel.findAndCountAll({\n        where: whereClause,\n        include: [{ model: this.studentModel, as: 'student' }],\n        order: [['recordDate', 'DESC']],\n        limit,\n        offset,\n      });\n\n    // PHI Access Audit Log\n    this.logger.log(\n      `PHI Access: All health records retrieved, count: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/services/health-record-crud.service.ts",
        "start": 284,
        "end": 311,
        "startLoc": {
          "line": 284,
          "column": 10,
          "position": 1875
        },
        "endLoc": {
          "line": 311,
          "column": 51,
          "position": 2120
        }
      },
      "secondFile": {
        "name": "src/health-record/services/health-record-crud.service.ts",
        "start": 69,
        "end": 158,
        "startLoc": {
          "line": 69,
          "column": 5,
          "position": 348
        },
        "endLoc": {
          "line": 158,
          "column": 55,
          "position": 1074
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "import { Injectable, Logger } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/sequelize';\nimport { Op } from 'sequelize';\nimport { Student } from '../../database/models/student.model';\nimport { Vaccination } from '../../database/models/vaccination.model';\nimport { Allergy } from '../../database/models/allergy.model';\nimport { ChronicCondition } from '../../database/models/chronic-condition.model';\nimport { VitalSigns } from '../../database/models/vital-signs.model';\nimport { ClinicVisit } from '../../database/models/clinic-visit.model';\n\n@Injectable()\nexport class SearchService",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/search/search.service.ts",
        "start": 8,
        "end": 19,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 19,
          "column": 14,
          "position": 133
        }
      },
      "secondFile": {
        "name": "src/health-record/validation/validation.service.ts",
        "start": 8,
        "end": 19,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 19,
          "column": 18,
          "position": 133
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ".name);\n\n  constructor(\n    @InjectModel(Student)\n    private readonly studentModel: typeof Student,\n    @InjectModel(Vaccination)\n    private readonly vaccinationModel: typeof Vaccination,\n    @InjectModel(Allergy)\n    private readonly allergyModel: typeof Allergy,\n    @InjectModel(ChronicCondition)\n    private readonly chronicConditionModel: typeof ChronicCondition,\n    @InjectModel(VitalSigns)\n    private readonly vitalSignsModel: typeof VitalSigns,\n    @InjectModel(ClinicVisit)\n    private readonly clinicVisitModel: typeof ClinicVisit,\n  ) {}\n\n  async searchHealthRecords",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/search/search.service.ts",
        "start": 20,
        "end": 37,
        "startLoc": {
          "line": 20,
          "column": 14,
          "position": 151
        },
        "endLoc": {
          "line": 37,
          "column": 20,
          "position": 291
        }
      },
      "secondFile": {
        "name": "src/health-record/statistics/statistics.service.ts",
        "start": 21,
        "end": 144,
        "startLoc": {
          "line": 21,
          "column": 18,
          "position": 167
        },
        "endLoc": {
          "line": 144,
          "column": 21,
          "position": 741
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        status: 'ACTIVE',\n      },\n      include: [{ model: Student, attributes: ['firstName', 'lastName'] }],\n    });\n\n    return conditions.map((c) => ({\n      ...c.toJSON(),\n      studentName: `${c.student?.firstName} ${c.student?.lastName}`,\n    }));\n  }\n\n  /**\n   * Search by CVX code\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/search/search.service.ts",
        "start": 334,
        "end": 348,
        "startLoc": {
          "line": 334,
          "column": 2,
          "position": 2781
        },
        "endLoc": {
          "line": 348,
          "column": 6,
          "position": 2888
        }
      },
      "secondFile": {
        "name": "src/health-record/search/search.service.ts",
        "start": 312,
        "end": 326,
        "startLoc": {
          "line": 312,
          "column": 2,
          "position": 2562
        },
        "endLoc": {
          "line": 326,
          "column": 6,
          "position": 2669
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "};\n\n    // Add date range if specified\n    if (filters?.dateFrom || filters?.dateTo) {\n      whereClause.diagnosedDate = {};\n      if (filters.dateFrom) {\n        whereClause.diagnosedDate[Op.gte] = new Date(filters.dateFrom);\n      }\n      if (filters.dateTo) {\n        whereClause.diagnosedDate[Op.lte] = new Date(filters.dateTo);\n      }\n    }\n\n    // Search across multiple fields\n    whereClause[Op.or] = [\n      { condition",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/search/search.service.ts",
        "start": 592,
        "end": 607,
        "startLoc": {
          "line": 592,
          "column": 2,
          "position": 5381
        },
        "endLoc": {
          "line": 607,
          "column": 10,
          "position": 5512
        }
      },
      "secondFile": {
        "name": "src/health-record/search/search.service.ts",
        "start": 550,
        "end": 565,
        "startLoc": {
          "line": 550,
          "column": 2,
          "position": 4949
        },
        "endLoc": {
          "line": 565,
          "column": 9,
          "position": 5080
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "Injectable, Logger, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/sequelize';\nimport { Op } from 'sequelize';\nimport { Student } from '../../database/models/student.model';\nimport { Vaccination } from '../../database/models/vaccination.model';\nimport { Allergy } from '../../database/models/allergy.model';\nimport { ChronicCondition } from '../../database/models/chronic-condition.model';\nimport { VitalSigns } from '../../database/models/vital-signs.model';\nimport { ClinicVisit } from '../../database/models/clinic-visit.model';\n\n@Injectable()\nexport class ImportExportService",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/import-export/import-export.service.ts",
        "start": 8,
        "end": 19,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 10
        },
        "endLoc": {
          "line": 19,
          "column": 20,
          "position": 139
        }
      },
      "secondFile": {
        "name": "src/health-record/statistics/statistics.service.ts",
        "start": 8,
        "end": 19,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 7
        },
        "endLoc": {
          "line": 19,
          "column": 18,
          "position": 133
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ";\n\n  constructor(\n    @InjectModel(Student)\n    private readonly studentModel: typeof Student,\n    @InjectModel(Vaccination)\n    private readonly vaccinationModel: typeof Vaccination,\n    @InjectModel(Allergy)\n    private readonly allergyModel: typeof Allergy,\n    @InjectModel(ChronicCondition)\n    private readonly chronicConditionModel: typeof ChronicCondition,\n    @InjectModel(VitalSigns)\n    private readonly vitalSignsModel: typeof VitalSigns,\n    @InjectModel(ClinicVisit)\n    private readonly clinicVisitModel: typeof ClinicVisit,\n  ) {}\n\n  async importRecords",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/import-export/import-export.service.ts",
        "start": 23,
        "end": 40,
        "startLoc": {
          "line": 23,
          "column": 2,
          "position": 190
        },
        "endLoc": {
          "line": 40,
          "column": 14,
          "position": 327
        }
      },
      "secondFile": {
        "name": "src/health-record/validation/validation.service.ts",
        "start": 127,
        "end": 144,
        "startLoc": {
          "line": 127,
          "column": 2,
          "position": 604
        },
        "endLoc": {
          "line": 144,
          "column": 21,
          "position": 741
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "};\n\n    if (studentId) {\n      whereClause.studentId = studentId;\n    }\n\n    return await this.chronicConditionModel.findAll({\n      where: whereClause,\n      include: [\n        {\n          model: Student,\n          attributes: ['id', 'firstName', 'lastName'],\n        },\n      ],\n      order: [\n        ['nextReviewDate'",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/chronic-condition/chronic-condition.service.ts",
        "start": 192,
        "end": 207,
        "startLoc": {
          "line": 192,
          "column": 5,
          "position": 1437
        },
        "endLoc": {
          "line": 207,
          "column": 17,
          "position": 1531
        }
      },
      "secondFile": {
        "name": "src/health-record/chronic-condition/chronic-condition.service.ts",
        "start": 55,
        "end": 69,
        "startLoc": {
          "line": 55,
          "column": 2,
          "position": 409
        },
        "endLoc": {
          "line": 69,
          "column": 9,
          "position": 502
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ";\n    }\n\n    return await this.chronicConditionModel.findAll({\n      where: whereClause,\n      include: [\n        {\n          model: Student,\n          attributes: ['id', 'firstName', 'lastName'],\n        },\n      ],\n      order: [\n        ['status', 'ASC'],\n        ['nextReviewDate', 'ASC'],\n        ['createdAt', 'DESC'],\n      ],\n    });\n  }\n\n  /**\n   * Get conditions requiring review\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/chronic-condition/chronic-condition.service.ts",
        "start": 269,
        "end": 290,
        "startLoc": {
          "line": 269,
          "column": 12,
          "position": 2082
        },
        "endLoc": {
          "line": 290,
          "column": 6,
          "position": 2194
        }
      },
      "secondFile": {
        "name": "src/health-record/chronic-condition/chronic-condition.service.ts",
        "start": 57,
        "end": 76,
        "startLoc": {
          "line": 57,
          "column": 10,
          "position": 429
        },
        "endLoc": {
          "line": 76,
          "column": 6,
          "position": 541
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${createDto.studentId} by user ${user.id}`,\n    );\n\n    // Verify student exists\n    const student = await this.studentModel.findByPk(createDto.studentId);\n    if (!student) {\n      throw new BadRequestException(\n        `Student with ID ${createDto.studentId} not found`,\n      );\n    }\n\n    const allergy",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/allergy/allergy.service.ts",
        "start": 101,
        "end": 112,
        "startLoc": {
          "line": 101,
          "column": 31,
          "position": 768
        },
        "endLoc": {
          "line": 112,
          "column": 8,
          "position": 850
        }
      },
      "secondFile": {
        "name": "src/health-record/chronic-condition/chronic-condition.service.ts",
        "start": 122,
        "end": 133,
        "startLoc": {
          "line": 122,
          "column": 41,
          "position": 907
        },
        "endLoc": {
          "line": 133,
          "column": 10,
          "position": 989
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "},\n          active: true,\n        },\n        include: [\n          {\n            model: Student,\n            attributes: ['id', 'firstName', 'lastName'],\n          },\n        ],\n        order: [\n          ['severity', 'DESC'],\n          ['createdAt', 'DESC'],\n        ],\n      });\n\n      // Group allergies by student ID",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/allergy/allergy.service.ts",
        "start": 377,
        "end": 392,
        "startLoc": {
          "line": 377,
          "column": 2,
          "position": 2782
        },
        "endLoc": {
          "line": 392,
          "column": 33,
          "position": 2870
        }
      },
      "secondFile": {
        "name": "src/health-record/allergy/allergy.service.ts",
        "start": 334,
        "end": 349,
        "startLoc": {
          "line": 334,
          "column": 2,
          "position": 2493
        },
        "endLoc": {
          "line": 349,
          "column": 30,
          "position": 2581
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ");\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  // ==================== BASIC TESTS ====================\n\n  describe('Controller Definition', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should have healthRecordService injected'",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/__tests__/health-record.controller.spec.ts",
        "start": 127,
        "end": 141,
        "startLoc": {
          "line": 127,
          "column": 5,
          "position": 868
        },
        "endLoc": {
          "line": 141,
          "column": 43,
          "position": 951
        }
      },
      "secondFile": {
        "name": "src/user/__tests__/user.controller.spec.ts",
        "start": 99,
        "end": 113,
        "startLoc": {
          "line": 99,
          "column": 12,
          "position": 717
        },
        "endLoc": {
          "line": 113,
          "column": 35,
          "position": 800
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ", async () => {\n      // Arrange\n      mockService.getAllHealthRecords.mockResolvedValue({\n        records: [],\n        pagination: { page: 1, limit: 20, total: 0, pages: 0 },\n      });\n\n      // Act\n      const result = await controller.findAll(\n        1,\n        20,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        \"O'Brien\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/__tests__/health-record.controller.spec.ts",
        "start": 926,
        "end": 941,
        "startLoc": {
          "line": 926,
          "column": 45,
          "position": 6353
        },
        "endLoc": {
          "line": 941,
          "column": 10,
          "position": 6464
        }
      },
      "secondFile": {
        "name": "src/health-record/__tests__/health-record.controller.spec.ts",
        "start": 280,
        "end": 295,
        "startLoc": {
          "line": 280,
          "column": 50,
          "position": 1798
        },
        "endLoc": {
          "line": 295,
          "column": 10,
          "position": 1909
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "super(\n      requestContext ||\n        ({\n          requestId: 'system',\n          userId: undefined,\n          getLogContext: () => ({ requestId: 'system' }),\n          getAuditContext: () => ({\n            requestId: 'system',\n            timestamp: new Date(),\n          }),\n        } as any),\n    );\n  }\n\n  // ==================== Lazy Service Resolution ====================",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/services/health-domain-facade.service.ts",
        "start": 61,
        "end": 75,
        "startLoc": {
          "line": 61,
          "column": 5,
          "position": 285
        },
        "endLoc": {
          "line": 75,
          "column": 69,
          "position": 385
        }
      },
      "secondFile": {
        "name": "src/student/services/student-waitlist.service.ts",
        "start": 41,
        "end": 58,
        "startLoc": {
          "line": 41,
          "column": 5,
          "position": 199
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 299
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "{\n  @ApiProperty({\n    description: 'School ID to filter by',\n    example: '123e4567-e89b-12d3-a456-426614174000',\n    required: false,\n  })\n  @IsOptional()\n  @IsUUID('4')\n  schoolId?: string;\n\n  @ApiProperty({\n    description: 'Grade level to filter by',\n    enum: GradeLevel,\n    required: false,\n  })\n  @IsOptional()\n  @IsEnum(GradeLevel)\n  gradeLevel?: GradeLevel;\n\n  @ApiProperty({\n    description: 'Days overdue threshold (default: 0)'",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/dto/schedule.dto.ts",
        "start": 321,
        "end": 341,
        "startLoc": {
          "line": 321,
          "column": 2,
          "position": 1733
        },
        "endLoc": {
          "line": 341,
          "column": 38,
          "position": 1851
        }
      },
      "secondFile": {
        "name": "src/health-domain/dto/schedule.dto.ts",
        "start": 198,
        "end": 218,
        "startLoc": {
          "line": 198,
          "column": 2,
          "position": 1009
        },
        "endLoc": {
          "line": 218,
          "column": 32,
          "position": 1127
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ";\n\n  @ApiPropertyOptional()\n  @IsOptional()\n  @IsDate()\n  @Type(() => Date)\n  dateFrom?: Date;\n\n  @ApiPropertyOptional()\n  @IsOptional()\n  @IsDate()\n  @Type(() => Date)\n  dateTo?: Date;\n\n  @ApiPropertyOptional()\n  @IsOptional()\n  @IsString()\n  cvxCode",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/dto/filters.dto.ts",
        "start": 71,
        "end": 88,
        "startLoc": {
          "line": 71,
          "column": 12,
          "position": 508
        },
        "endLoc": {
          "line": 88,
          "column": 8,
          "position": 608
        }
      },
      "secondFile": {
        "name": "src/health-domain/dto/filters.dto.ts",
        "start": 13,
        "end": 30,
        "startLoc": {
          "line": 13,
          "column": 17,
          "position": 148
        },
        "endLoc": {
          "line": 30,
          "column": 9,
          "position": 248
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n  ): Promise<EmergencyContact> {\n    if (!this.emergencyContactModel.sequelize) {\n      throw new Error('Database connection not available');\n    }\n    const transaction = await this.emergencyContactModel.sequelize.transaction({\n      isolationLevel: Transaction.ISOLATION_LEVELS.SERIALIZABLE,\n    });\n\n    try {\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/emergency-contact/services/contact-management.service.ts",
        "start": 206,
        "end": 216,
        "startLoc": {
          "line": 206,
          "column": 26,
          "position": 1169
        },
        "endLoc": {
          "line": 216,
          "column": 6,
          "position": 1252
        }
      },
      "secondFile": {
        "name": "src/emergency-contact/services/contact-management.service.ts",
        "start": 114,
        "end": 124,
        "startLoc": {
          "line": 114,
          "column": 26,
          "position": 604
        },
        "endLoc": {
          "line": 124,
          "column": 39,
          "position": 687
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ";\n\n  @ApiPropertyOptional({\n    description: 'Notification channels (sms, email, voice)',\n    example: ['sms', 'email'],\n    type: [String],\n  })\n  @IsOptional()\n  @IsArray()\n  @ArrayMinSize(1)\n  @IsString({ each: true })\n  notificationChannels?: NotificationChannel[];\n\n  @ApiPropertyOptional({\n    description: 'Whether contact is authorized to pick up student',\n    example: true,\n  })\n  @IsOptional()\n  @IsBoolean()\n  canPickupStudent?: boolean;\n\n  @ApiPropertyOptional({\n    description: 'Additional notes (maximum 1000 characters)'",
      "tokens": 0,
      "firstFile": {
        "name": "src/emergency-contact/dto/create-emergency-contact.dto.ts",
        "start": 111,
        "end": 133,
        "startLoc": {
          "line": 111,
          "column": 23,
          "position": 653
        },
        "endLoc": {
          "line": 133,
          "column": 45,
          "position": 793
        }
      },
      "secondFile": {
        "name": "src/emergency-contact/dto/update-emergency-contact.dto.ts",
        "start": 121,
        "end": 143,
        "startLoc": {
          "line": 121,
          "column": 19,
          "position": 698
        },
        "endLoc": {
          "line": 143,
          "column": 19,
          "position": 838
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n    example: '123e4567-e89b-12d3-a456-426614174000',\n  })\n  @IsString()\n  @IsNotEmpty()\n  uploadedBy: string;\n\n  @ApiPropertyOptional({\n    description: 'Student ID for student-specific documents',\n    example: '123e4567-e89b-12d3-a456-426614174001',\n  })\n  @IsUUID('4')\n  @IsOptional()\n  studentId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Searchable tags (maximum 10)'",
      "tokens": 0,
      "firstFile": {
        "name": "src/document/dto/create-document.dto.ts",
        "start": 98,
        "end": 114,
        "startLoc": {
          "line": 98,
          "column": 26,
          "position": 527
        },
        "endLoc": {
          "line": 114,
          "column": 31,
          "position": 616
        }
      },
      "secondFile": {
        "name": "src/document/dto/create-from-template.dto.ts",
        "start": 23,
        "end": 39,
        "startLoc": {
          "line": 23,
          "column": 32,
          "position": 139
        },
        "endLoc": {
          "line": 39,
          "column": 46,
          "position": 228
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "(\n    options: {\n      entityType: string;\n      entityId: string;\n      action: 'CREATE' | 'UPDATE' | 'READ' | 'DELETE';\n      changedFields?: string[];\n      userId?: string;\n      userName?: string;\n      ipAddress?: string;\n      userAgent?: string;\n      metadata?: Record<string, unknown>;\n    },\n    transaction?: any,\n  ): Promise<void> {",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/audit.service.ts",
        "start": 220,
        "end": 233,
        "startLoc": {
          "line": 220,
          "column": 13,
          "position": 1359
        },
        "endLoc": {
          "line": 233,
          "column": 2,
          "position": 1477
        }
      },
      "secondFile": {
        "name": "src/database/interfaces/audit/audit-logger.interface.ts",
        "start": 97,
        "end": 110,
        "startLoc": {
          "line": 97,
          "column": 2,
          "position": 483
        },
        "endLoc": {
          "line": 110,
          "column": 2,
          "position": 600
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ");\n  }\n\n  /**\n   * Log PHI access for HIPAA compliance\n   * Used by model hooks to track PHI field modifications\n   */\n  async logPHIAccess(\n    options: {\n      entityType: string;\n      entityId: string;\n      action: 'CREATE' | 'UPDATE' | 'READ' | 'DELETE';\n      changedFields?: string[];\n      userId?: string;\n      userName?: string;\n      ipAddress?: string;\n      userAgent?: string;\n      metadata?: Record<string, unknown>;\n    },\n    transaction?: any,\n  ): Promise<void> {\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/services/audit-logging.service.ts",
        "start": 350,
        "end": 371,
        "startLoc": {
          "line": 350,
          "column": 2,
          "position": 2271
        },
        "endLoc": {
          "line": 371,
          "column": 6,
          "position": 2406
        }
      },
      "secondFile": {
        "name": "src/database/services/audit.service.ts",
        "start": 213,
        "end": 234,
        "startLoc": {
          "line": 213,
          "column": 9,
          "position": 1345
        },
        "endLoc": {
          "line": 234,
          "column": 7,
          "position": 1480
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ": string;\n  studentId: string;\n  measurementDate: Date;\n  temperature?: number;\n  temperatureUnit?: string; // F or C\n  heartRate?: number;\n  respiratoryRate?: number;\n  bloodPressureSystolic?: number;\n  bloodPressureDiastolic?: number;\n  oxygenSaturation?: number;\n  weight?: number;\n  weightUnit?: string; // lbs or kg\n  height?: number;\n  heightUnit?: string; // inches or cm\n  bmi?: number;\n  pain?: number; // 0-10 scale\n  isAbnormal: boolean;\n  abnormalFlags?: string[]; // Array of abnormal vital types\n  measuredBy?: string;\n  notes?: string;\n  createdAt?",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/vital-signs.model.ts",
        "start": 18,
        "end": 38,
        "startLoc": {
          "line": 18,
          "column": 2,
          "position": 97
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 265
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/interfaces/vital-signs.repository.interface.ts",
        "start": 10,
        "end": 30,
        "startLoc": {
          "line": 10,
          "column": 3,
          "position": 43
        },
        "endLoc": {
          "line": 30,
          "column": 2,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 36,
      "fragment": "/**\n * Vaccine type enumeration\n */\nexport enum VaccineType {\n  COVID_19 = 'COVID_19',\n  FLU = 'FLU',\n  MEASLES = 'MEASLES',\n  MUMPS = 'MUMPS',\n  RUBELLA = 'RUBELLA',\n  MMR = 'MMR',\n  POLIO = 'POLIO',\n  HEPATITIS_A = 'HEPATITIS_A',\n  HEPATITIS_B = 'HEPATITIS_B',\n  VARICELLA = 'VARICELLA',\n  TETANUS = 'TETANUS',\n  DIPHTHERIA = 'DIPHTHERIA',\n  PERTUSSIS = 'PERTUSSIS',\n  TDAP = 'TDAP',\n  DTAP = 'DTAP',\n  HIB = 'HIB',\n  PNEUMOCOCCAL = 'PNEUMOCOCCAL',\n  ROTAVIRUS = 'ROTAVIRUS',\n  MENINGOCOCCAL = 'MENINGOCOCCAL',\n  HPV = 'HPV',\n  OTHER = 'OTHER',\n}\n\n/**\n * Site of administration enumeration\n */\nexport enum SiteOfAdministration {\n  ARM_LEFT = 'ARM_LEFT',\n  ARM_RIGHT = 'ARM_RIGHT',\n  THIGH_LEFT = 'THIGH_LEFT',\n  THIGH_RIGHT = 'THIGH_RIGHT',\n  DELTOID_LEFT",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/vaccination.model.ts",
        "start": 18,
        "end": 53,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 81
        },
        "endLoc": {
          "line": 53,
          "column": 13,
          "position": 305
        }
      },
      "secondFile": {
        "name": "src/health-record/interfaces/vaccination.interface.ts",
        "start": 10,
        "end": 45,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 45,
          "column": 13,
          "position": 227
        }
      }
    },
    {
      "format": "typescript",
      "lines": 33,
      "fragment": ",\n  BUTTOCK_LEFT = 'BUTTOCK_LEFT',\n  BUTTOCK_RIGHT = 'BUTTOCK_RIGHT',\n  ORAL = 'ORAL',\n  NASAL = 'NASAL',\n  OTHER = 'OTHER',\n}\n\n/**\n * Route of administration enumeration\n */\nexport enum RouteOfAdministration {\n  INTRAMUSCULAR = 'INTRAMUSCULAR',\n  SUBCUTANEOUS = 'SUBCUTANEOUS',\n  INTRADERMAL = 'INTRADERMAL',\n  ORAL = 'ORAL',\n  INTRANASAL = 'INTRANASAL',\n  INTRAVENOUS = 'INTRAVENOUS',\n  OTHER = 'OTHER',\n}\n\n/**\n * Compliance status enumeration\n */\nexport enum ComplianceStatus {\n  COMPLIANT = 'COMPLIANT',\n  OVERDUE = 'OVERDUE',\n  PARTIALLY_COMPLIANT = 'PARTIALLY_COMPLIANT',\n  EXEMPT = 'EXEMPT',\n  NON_COMPLIANT = 'NON_COMPLIANT',\n}\n\nexport interface VaccinationAttributes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/vaccination.model.ts",
        "start": 54,
        "end": 86,
        "startLoc": {
          "line": 54,
          "column": 16,
          "position": 318
        },
        "endLoc": {
          "line": 86,
          "column": 22,
          "position": 489
        }
      },
      "secondFile": {
        "name": "src/health-record/interfaces/vaccination.interface.ts",
        "start": 44,
        "end": 76,
        "startLoc": {
          "line": 44,
          "column": 14,
          "position": 224
        },
        "endLoc": {
          "line": 76,
          "column": 12,
          "position": 395
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "@ForeignKey(() => require('./student.model').Student)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'students',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'CASCADE',\n  })\n  @Index",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/vaccination.model.ts",
        "start": 178,
        "end": 189,
        "startLoc": {
          "line": 178,
          "column": 3,
          "position": 1092
        },
        "endLoc": {
          "line": 189,
          "column": 7,
          "position": 1173
        }
      },
      "secondFile": {
        "name": "src/database/models/vital-signs.model.ts",
        "start": 110,
        "end": 121,
        "startLoc": {
          "line": 110,
          "column": 3,
          "position": 776
        },
        "endLoc": {
          "line": 121,
          "column": 10,
          "position": 857
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ") {\n      const saltRounds = parseInt(process.env.BCRYPT_SALT_ROUNDS || '12', 10);\n\n      // Validate salt rounds\n      if (saltRounds < 10 || saltRounds > 14) {\n        throw new Error(\n          `SECURITY WARNING: bcrypt salt rounds must be between 10 and 14. Current: ${saltRounds}`,\n        );\n      }\n\n      user.password = await bcrypt.hash(user.password, saltRounds);\n      user.passwordChangedAt",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/user.model.ts",
        "start": 563,
        "end": 574,
        "startLoc": {
          "line": 563,
          "column": 2,
          "position": 3992
        },
        "endLoc": {
          "line": 574,
          "column": 18,
          "position": 4094
        }
      },
      "secondFile": {
        "name": "src/database/models/user.model.ts",
        "start": 546,
        "end": 557,
        "startLoc": {
          "line": 546,
          "column": 9,
          "position": 3844
        },
        "endLoc": {
          "line": 557,
          "column": 19,
          "position": 3946
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "requiresPasswordChange(): boolean {\n    if (this.mustChangePassword) {\n      return true;\n    }\n\n    if (this.lastPasswordChange) {\n      const ninetyDaysAgo = new Date(Date.now() - 90 * 24 * 60 * 60 * 1000);\n      return this.lastPasswordChange < ninetyDaysAgo;\n    }\n\n    return false;\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/user.model.ts",
        "start": 661,
        "end": 673,
        "startLoc": {
          "line": 661,
          "column": 3,
          "position": 4739
        },
        "endLoc": {
          "line": 673,
          "column": 2,
          "position": 4844
        }
      },
      "secondFile": {
        "name": "src/user/entities/user.entity.ts",
        "start": 372,
        "end": 385,
        "startLoc": {
          "line": 372,
          "column": 3,
          "position": 2239
        },
        "endLoc": {
          "line": 385,
          "column": 2,
          "position": 2346
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'treatment_plans'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/treatment-plan.model.ts",
        "start": 23,
        "end": 37,
        "startLoc": {
          "line": 23,
          "column": 13,
          "position": 139
        },
        "endLoc": {
          "line": 37,
          "column": 18,
          "position": 228
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 10,
          "position": 122
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'threat_detections'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/threat-detection.model.ts",
        "start": 22,
        "end": 36,
        "startLoc": {
          "line": 22,
          "column": 2,
          "position": 127
        },
        "endLoc": {
          "line": 36,
          "column": 20,
          "position": 216
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 10,
          "position": 122
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ": ConfigValueType;\n  subCategory?: string;\n  description?: string;\n  defaultValue?: string;\n  validValues?: string[];\n  minValue?: number;\n  maxValue?: number;\n  isPublic?: boolean;\n  isEditable?: boolean;\n  requiresRestart?: boolean;\n  scope?",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/system-config.model.ts",
        "start": 104,
        "end": 114,
        "startLoc": {
          "line": 104,
          "column": 2,
          "position": 557
        },
        "endLoc": {
          "line": 114,
          "column": 2,
          "position": 638
        }
      },
      "secondFile": {
        "name": "src/database/models/system-config.model.ts",
        "start": 79,
        "end": 89,
        "startLoc": {
          "line": 79,
          "column": 10,
          "position": 391
        },
        "endLoc": {
          "line": 89,
          "column": 2,
          "position": 472
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'sync_states'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/sync-state.model.ts",
        "start": 20,
        "end": 34,
        "startLoc": {
          "line": 20,
          "column": 13,
          "position": 111
        },
        "endLoc": {
          "line": 34,
          "column": 14,
          "position": 201
        }
      },
      "secondFile": {
        "name": "src/database/models/threat-detection.model.ts",
        "start": 22,
        "end": 35,
        "startLoc": {
          "line": 22,
          "column": 11,
          "position": 126
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "export enum SyncActionType {\n  CREATE = 'CREATE',\n  UPDATE = 'UPDATE',\n  DELETE = 'DELETE',\n  READ = 'READ',\n}\n\nexport enum SyncEntityType {\n  STUDENT = 'STUDENT',\n  HEALTH_RECORD = 'HEALTH_RECORD',\n  MEDICATION = 'MEDICATION',\n  INCIDENT = 'INCIDENT',\n  VACCINATION = 'VACCINATION',\n  APPOINTMENT = 'APPOINTMENT',\n  SCREENING = 'SCREENING',\n  ALLERGY = 'ALLERGY',\n  CHRONIC_CONDITION = 'CHRONIC_CONDITION',\n}\n\nexport enum SyncPriority {\n  HIGH = 'HIGH',\n  NORMAL = 'NORMAL',\n  LOW = 'LOW',\n}\n\nexport enum ConflictResolution {\n  CLIENT_WINS = 'CLIENT_WINS',\n  SERVER_WINS = 'SERVER_WINS',\n  NEWEST_WINS = 'NEWEST_WINS',\n  MERGE = 'MERGE',\n  MANUAL = 'MANUAL',\n}\n\nexport interface",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/sync-queue-item.model.ts",
        "start": 16,
        "end": 49,
        "startLoc": {
          "line": 16,
          "column": 1,
          "position": 73
        },
        "endLoc": {
          "line": 49,
          "column": 10,
          "position": 287
        }
      },
      "secondFile": {
        "name": "src/mobile/enums/sync.enum.ts",
        "start": 5,
        "end": 38,
        "startLoc": {
          "line": 5,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 38,
          "column": 5,
          "position": 217
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ";\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'suppliers'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/supplier.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 8,
          "position": 125
        },
        "endLoc": {
          "line": 35,
          "column": 12,
          "position": 211
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 7,
          "position": 125
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "@BelongsTo(() => require('./school.model').School, {\n    foreignKey: 'schoolId',\n    as: 'school',\n  })\n  declare school?: School;\n\n  @BelongsTo(() => require('./district.model').District, {\n    foreignKey: 'districtId',\n    as: 'district',\n  })\n  declare district?: District;\n\n  // One-to-many relationships\n  @HasMany(() => require('./health-record.model'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/student.model.ts",
        "start": 452,
        "end": 465,
        "startLoc": {
          "line": 452,
          "column": 3,
          "position": 2731
        },
        "endLoc": {
          "line": 465,
          "column": 24,
          "position": 2840
        }
      },
      "secondFile": {
        "name": "src/database/models/user.model.ts",
        "start": 464,
        "end": 477,
        "startLoc": {
          "line": 464,
          "column": 3,
          "position": 3268
        },
        "endLoc": {
          "line": 477,
          "column": 22,
          "position": 3377
        }
      }
    },
    {
      "format": "typescript",
      "lines": 32,
      "fragment": "/**\n   * Get student's full name\n   * @returns Full name in \"Last, First\" format\n   */\n  getFullName(): string {\n    return `${this.lastName}, ${this.firstName}`;\n  }\n\n  /**\n   * Get student's age based on date of birth\n   * @returns Age in years\n   */\n  getAge(): number {\n    const today = new Date();\n    const birthDate = new Date(this.dateOfBirth);\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n\n    if (\n      monthDiff < 0 ||\n      (monthDiff === 0 && today.getDate() < birthDate.getDate())\n    ) {\n      age--;\n    }\n\n    return age;\n  }\n\n  /**\n   * Check if student is currently enrolled (active)\n   * @returns true if student is active\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/student.model.ts",
        "start": 537,
        "end": 568,
        "startLoc": {
          "line": 537,
          "column": 3,
          "position": 3430
        },
        "endLoc": {
          "line": 568,
          "column": 6,
          "position": 3617
        }
      },
      "secondFile": {
        "name": "src/student/models/student.model.ts",
        "start": 332,
        "end": 183,
        "startLoc": {
          "line": 332,
          "column": 3,
          "position": 1337
        },
        "endLoc": {
          "line": 183,
          "column": 2,
          "position": 1244
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "@Column({\n    type: DataType.UUID,\n  })\n  updatedBy?: string;\n\n  @Column({\n    type: DataType.DATE,\n  })\n  declare createdAt: Date;\n\n  @Column({\n    type: DataType.DATE,\n  })\n  declare updatedAt: Date;\n\n  @BelongsTo",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/student-medication.model.ts",
        "start": 164,
        "end": 179,
        "startLoc": {
          "line": 164,
          "column": 3,
          "position": 977
        },
        "endLoc": {
          "line": 179,
          "column": 10,
          "position": 1064
        }
      },
      "secondFile": {
        "name": "src/database/models/student.model.ts",
        "start": 369,
        "end": 384,
        "startLoc": {
          "line": 369,
          "column": 3,
          "position": 2242
        },
        "endLoc": {
          "line": 384,
          "column": 7,
          "position": 2329
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "name: string;\n  code: string;\n  districtId: string;\n  address?: string;\n  city?: string;\n  state?: string;\n  zipCode?: string;\n  phone?: string;\n  email?: string;\n  principal?: string;\n  totalEnrollment?: number;\n  isActive?: boolean;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/school.model.ts",
        "start": 54,
        "end": 66,
        "startLoc": {
          "line": 54,
          "column": 3,
          "position": 287
        },
        "endLoc": {
          "line": 66,
          "column": 2,
          "position": 379
        }
      },
      "secondFile": {
        "name": "src/database/models/school.model.ts",
        "start": 34,
        "end": 46,
        "startLoc": {
          "line": 34,
          "column": 3,
          "position": 165
        },
        "endLoc": {
          "line": 46,
          "column": 10,
          "position": 258
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "export enum ReportType {\n  HEALTH_TRENDS = 'health_trends',\n  MEDICATION_USAGE = 'medication_usage',\n  INCIDENT_STATISTICS = 'incident_statistics',\n  ATTENDANCE_CORRELATION = 'attendance_correlation',\n  COMPLIANCE = 'compliance',\n  DASHBOARD = 'dashboard',\n  PERFORMANCE = 'performance',\n  CUSTOM = 'custom',\n}\n\nexport enum OutputFormat {\n  PDF = 'pdf',\n  EXCEL = 'excel',\n  CSV = 'csv',\n  JSON = 'json',\n}\n\nexport interface",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/report-template.model.ts",
        "start": 15,
        "end": 33,
        "startLoc": {
          "line": 15,
          "column": 1,
          "position": 69
        },
        "endLoc": {
          "line": 33,
          "column": 10,
          "position": 189
        }
      },
      "secondFile": {
        "name": "src/report/constants/report.constants.ts",
        "start": 6,
        "end": 24,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 24,
          "column": 5,
          "position": 123
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'report_templates'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/report-template.model.ts",
        "start": 42,
        "end": 56,
        "startLoc": {
          "line": 42,
          "column": 10,
          "position": 268
        },
        "endLoc": {
          "line": 56,
          "column": 19,
          "position": 358
        }
      },
      "secondFile": {
        "name": "src/database/models/threat-detection.model.ts",
        "start": 22,
        "end": 35,
        "startLoc": {
          "line": 22,
          "column": 11,
          "position": 126
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @Column({\n    type: DataType.STRING(255),\n    allowNull: false,\n  })\n  name: string;\n\n  @Column({",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/report-schedule.model.ts",
        "start": 75,
        "end": 87,
        "startLoc": {
          "line": 75,
          "column": 1,
          "position": 479
        },
        "endLoc": {
          "line": 87,
          "column": 2,
          "position": 558
        }
      },
      "secondFile": {
        "name": "src/database/models/vendor.model.ts",
        "start": 66,
        "end": 78,
        "startLoc": {
          "line": 66,
          "column": 1,
          "position": 388
        },
        "endLoc": {
          "line": 78,
          "column": 9,
          "position": 467
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ";\n\n  @AllowNull\n  @Column({\n    type: DataType.UUID,\n  })\n  createdBy?: string;\n\n  @Column(DataType.DATE)\n  declare createdAt?: Date;\n\n  @Column(DataType.DATE)\n  declare updatedAt?: Date;\n\n  // Hooks for HIPAA compliance\n  @BeforeCreate\n  @BeforeUpdate\n  static async auditPHIAccess(instance: ReportSchedule",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/report-schedule.model.ts",
        "start": 182,
        "end": 199,
        "startLoc": {
          "line": 182,
          "column": 7,
          "position": 1160
        },
        "endLoc": {
          "line": 199,
          "column": 15,
          "position": 1253
        }
      },
      "secondFile": {
        "name": "src/database/models/report-template.model.ts",
        "start": 128,
        "end": 145,
        "startLoc": {
          "line": 128,
          "column": 8,
          "position": 808
        },
        "endLoc": {
          "line": 145,
          "column": 15,
          "position": 901
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ";\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'remediation_actions'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/remediation-action.model.ts",
        "start": 42,
        "end": 56,
        "startLoc": {
          "line": 42,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 56,
          "column": 22,
          "position": 345
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 7,
          "position": 125
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 36,
      "fragment": "export enum NotificationPriority {\n  CRITICAL = 'CRITICAL', // Immediate delivery, sound, vibration\n  HIGH = 'HIGH', // High priority, sound\n  NORMAL = 'NORMAL', // Normal delivery\n  LOW = 'LOW', // Low priority, no sound\n}\n\nexport enum NotificationCategory {\n  MEDICATION = 'MEDICATION',\n  APPOINTMENT = 'APPOINTMENT',\n  INCIDENT = 'INCIDENT',\n  SCREENING = 'SCREENING',\n  IMMUNIZATION = 'IMMUNIZATION',\n  MESSAGE = 'MESSAGE',\n  EMERGENCY = 'EMERGENCY',\n  REMINDER = 'REMINDER',\n  ALERT = 'ALERT',\n  SYSTEM = 'SYSTEM',\n}\n\nexport enum NotificationStatus {\n  PENDING = 'PENDING',\n  SCHEDULED = 'SCHEDULED',\n  SENDING = 'SENDING',\n  DELIVERED = 'DELIVERED',\n  FAILED = 'FAILED',\n  EXPIRED = 'EXPIRED',\n}\n\nexport enum DeliveryStatus {\n  SUCCESS = 'SUCCESS',\n  FAILED = 'FAILED',\n  INVALID_TOKEN = 'INVALID_TOKEN',\n  RATE_LIMITED = 'RATE_LIMITED',\n  TIMEOUT = 'TIMEOUT',\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/push-notification.model.ts",
        "start": 16,
        "end": 51,
        "startLoc": {
          "line": 16,
          "column": 1,
          "position": 73
        },
        "endLoc": {
          "line": 51,
          "column": 2,
          "position": 322
        }
      },
      "secondFile": {
        "name": "src/mobile/enums/notification.enum.ts",
        "start": 13,
        "end": 48,
        "startLoc": {
          "line": 13,
          "column": 1,
          "position": 64
        },
        "endLoc": {
          "line": 48,
          "column": 2,
          "position": 313
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "@Column({\n    type: DataType.UUID,\n    allowNull: false,\n  })\n  createdBy: string;\n\n  @Column(DataType.DATE)\n  declare createdAt?: Date;\n\n  @Column(DataType.DATE)\n  declare updatedAt?: Date;\n\n  // Hooks for HIPAA compliance\n  @BeforeCreate\n  @BeforeUpdate\n  static async auditPHIAccess(instance: PushNotification",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/push-notification.model.ts",
        "start": 400,
        "end": 415,
        "startLoc": {
          "line": 400,
          "column": 3,
          "position": 2443
        },
        "endLoc": {
          "line": 415,
          "column": 17,
          "position": 2535
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 80,
        "end": 95,
        "startLoc": {
          "line": 80,
          "column": 3,
          "position": 482
        },
        "endLoc": {
          "line": 95,
          "column": 8,
          "position": 574
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ": string;\n\n  @ForeignKey(() => require('./student.model').Student)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'students',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'CASCADE',\n  })\n  @Index\n  studentId: string;\n\n  @AllowNull",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 139,
        "end": 155,
        "startLoc": {
          "line": 139,
          "column": 3,
          "position": 968
        },
        "endLoc": {
          "line": 155,
          "column": 11,
          "position": 1067
        }
      },
      "secondFile": {
        "name": "src/database/models/vital-signs.model.ts",
        "start": 108,
        "end": 195,
        "startLoc": {
          "line": 108,
          "column": 2,
          "position": 769
        },
        "endLoc": {
          "line": 195,
          "column": 6,
          "position": 1184
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: Date;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'policy_documents'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/policy-document.model.ts",
        "start": 42,
        "end": 56,
        "startLoc": {
          "line": 42,
          "column": 11,
          "position": 255
        },
        "endLoc": {
          "line": 56,
          "column": 19,
          "position": 345
        }
      },
      "secondFile": {
        "name": "src/database/models/remediation-action.model.ts",
        "start": 42,
        "end": 35,
        "startLoc": {
          "line": 42,
          "column": 11,
          "position": 255
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'phi_disclosures'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/phi-disclosure.model.ts",
        "start": 76,
        "end": 90,
        "startLoc": {
          "line": 76,
          "column": 6,
          "position": 495
        },
        "endLoc": {
          "line": 90,
          "column": 18,
          "position": 585
        }
      },
      "secondFile": {
        "name": "src/database/models/threat-detection.model.ts",
        "start": 22,
        "end": 35,
        "startLoc": {
          "line": 22,
          "column": 11,
          "position": 126
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id?: string;\n\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n  })\n  studentId: string;\n\n  @Column({\n    type: DataType.STRING",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/phi-disclosure.model.ts",
        "start": 125,
        "end": 138,
        "startLoc": {
          "line": 125,
          "column": 1,
          "position": 782
        },
        "endLoc": {
          "line": 138,
          "column": 7,
          "position": 867
        }
      },
      "secondFile": {
        "name": "src/database/models/treatment-plan.model.ts",
        "start": 61,
        "end": 74,
        "startLoc": {
          "line": 61,
          "column": 1,
          "position": 362
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 447
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'message_templates'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/message-template.model.ts",
        "start": 40,
        "end": 54,
        "startLoc": {
          "line": 40,
          "column": 12,
          "position": 224
        },
        "endLoc": {
          "line": 54,
          "column": 20,
          "position": 313
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 10,
          "position": 122
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ";\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare createdAt: Date;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare updatedAt: Date;\n\n  // Hooks for HIPAA compliance",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/message-read.model.ts",
        "start": 131,
        "end": 147,
        "startLoc": {
          "line": 131,
          "column": 4,
          "position": 700
        },
        "endLoc": {
          "line": 147,
          "column": 30,
          "position": 794
        }
      },
      "secondFile": {
        "name": "src/database/models/message.model.ts",
        "start": 305,
        "end": 321,
        "startLoc": {
          "line": 305,
          "column": 2,
          "position": 1989
        },
        "endLoc": {
          "line": 321,
          "column": 11,
          "position": 2083
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ";\n\n  @BelongsTo(() => Message, { foreignKey: 'messageId', as: 'message' })\n  declare message?: Message;\n\n  @BelongsTo(() => require('./user.model').User, {\n    foreignKey: 'userId',\n    as: 'user',\n  })\n  declare user?: any;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare createdAt: Date;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare updatedAt: Date;\n\n  // Hooks for HIPAA compliance\n  @BeforeCreate\n  @BeforeUpdate\n  static async auditPHIAccess(instance: MessageReaction",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/message-reaction.model.ts",
        "start": 125,
        "end": 153,
        "startLoc": {
          "line": 125,
          "column": 7,
          "position": 612
        },
        "endLoc": {
          "line": 153,
          "column": 16,
          "position": 811
        }
      },
      "secondFile": {
        "name": "src/database/models/message-read.model.ts",
        "start": 122,
        "end": 150,
        "startLoc": {
          "line": 122,
          "column": 5,
          "position": 613
        },
        "endLoc": {
          "line": 150,
          "column": 12,
          "position": 812
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ": any;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare createdAt?: Date;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare updatedAt?: Date;\n\n  // Hooks for HIPAA compliance\n  @BeforeCreate\n  @BeforeUpdate\n  static async auditPHIAccess(instance: MessageDelivery",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/message-delivery.model.ts",
        "start": 184,
        "end": 203,
        "startLoc": {
          "line": 184,
          "column": 8,
          "position": 1119
        },
        "endLoc": {
          "line": 203,
          "column": 16,
          "position": 1236
        }
      },
      "secondFile": {
        "name": "src/database/models/message-template.model.ts",
        "start": 140,
        "end": 159,
        "startLoc": {
          "line": 140,
          "column": 2,
          "position": 874
        },
        "endLoc": {
          "line": 159,
          "column": 16,
          "position": 991
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @Column({\n    type: DataType.STRING(255),\n    allowNull: false,\n  })\n  name: string;\n\n  @Column(DataType.STRING(255))\n  genericName",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/medication.model.ts",
        "start": 137,
        "end": 150,
        "startLoc": {
          "line": 137,
          "column": 1,
          "position": 900
        },
        "endLoc": {
          "line": 150,
          "column": 12,
          "position": 988
        }
      },
      "secondFile": {
        "name": "src/database/models/vendor.model.ts",
        "start": 66,
        "end": 79,
        "startLoc": {
          "line": 66,
          "column": 1,
          "position": 388
        },
        "endLoc": {
          "line": 79,
          "column": 12,
          "position": 476
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ": string;\n  studentId: string;\n  recordType: string; // condition, allergy, surgery, hospitalization, family_history\n  condition: string;\n  diagnosisCode?: string; // ICD-10 code\n  diagnosisDate?: Date;\n  resolvedDate?: Date;\n  isActive: boolean;\n  severity?: string; // mild, moderate, severe, critical\n  category?: string; // chronic, acute, genetic, infectious, etc.\n  treatment?: string;\n  medication?: string;\n  notes?: string;\n  isFamilyHistory: boolean;\n  familyRelation?: string; // if family history: mother, father, sibling, etc.\n  isCritical: boolean;\n  requiresMonitoring: boolean;\n  createdAt?",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/medical-history.model.ts",
        "start": 15,
        "end": 32,
        "startLoc": {
          "line": 15,
          "column": 2,
          "position": 76
        },
        "endLoc": {
          "line": 32,
          "column": 2,
          "position": 214
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/interfaces/medical-history.repository.interface.ts",
        "start": 10,
        "end": 27,
        "startLoc": {
          "line": 10,
          "column": 3,
          "position": 40
        },
        "endLoc": {
          "line": 27,
          "column": 2,
          "position": 178
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": boolean;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'medical_history'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/medical-history.model.ts",
        "start": 31,
        "end": 45,
        "startLoc": {
          "line": 31,
          "column": 19,
          "position": 207
        },
        "endLoc": {
          "line": 45,
          "column": 18,
          "position": 296
        }
      },
      "secondFile": {
        "name": "src/database/models/supplier.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 9,
          "position": 122
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id?: string;\n\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n  })\n  studentId: string;\n\n  @Column({\n    type: DataType.ENUM",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/medical-history.model.ts",
        "start": 84,
        "end": 97,
        "startLoc": {
          "line": 84,
          "column": 1,
          "position": 510
        },
        "endLoc": {
          "line": 97,
          "column": 5,
          "position": 595
        }
      },
      "secondFile": {
        "name": "src/database/models/treatment-plan.model.ts",
        "start": 61,
        "end": 74,
        "startLoc": {
          "line": 61,
          "column": 1,
          "position": 362
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 447
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ": LicenseStatus;\n  maxUsers?: number;\n  maxSchools?: number;\n  features: string[];\n  issuedTo?: string;\n  districtId?: string;\n  notes?: string;\n  issuedAt: Date;\n  activatedAt?: Date;\n  expiresAt?: Date;\n  deactivatedAt?: Date;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/license.model.ts",
        "start": 71,
        "end": 82,
        "startLoc": {
          "line": 71,
          "column": 2,
          "position": 323
        },
        "endLoc": {
          "line": 82,
          "column": 2,
          "position": 408
        }
      },
      "secondFile": {
        "name": "src/database/models/license.model.ts",
        "start": 50,
        "end": 61,
        "startLoc": {
          "line": 50,
          "column": 7,
          "position": 191
        },
        "endLoc": {
          "line": 61,
          "column": 10,
          "position": 277
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ": string;\n  studentId: string;\n  testType: string; // blood_test, urinalysis, culture, etc.\n  testName: string;\n  testCode?: string; // LOINC code\n  orderedDate: Date;\n  collectionDate?: Date;\n  resultDate?: Date;\n  result: string;\n  resultValue?: number;\n  resultUnit?: string;\n  referenceRange?: string;\n  isAbnormal: boolean;\n  abnormalFlags?: string[]; // high, low, critical, etc.\n  interpretation?: string;\n  status: string; // pending, completed, reviewed, cancelled\n  orderedBy?: string;\n  performedBy?: string;\n  reviewedBy?: string;\n  reviewedDate?: Date;\n  labName?: string;\n  notes?: string;\n  createdAt?",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/lab-results.model.ts",
        "start": 15,
        "end": 37,
        "startLoc": {
          "line": 15,
          "column": 2,
          "position": 76
        },
        "endLoc": {
          "line": 37,
          "column": 2,
          "position": 254
        }
      },
      "secondFile": {
        "name": "src/health-domain/repositories/interfaces/lab-results.repository.interface.ts",
        "start": 10,
        "end": 32,
        "startLoc": {
          "line": 10,
          "column": 3,
          "position": 40
        },
        "endLoc": {
          "line": 32,
          "column": 2,
          "position": 218
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\n  notes?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'lab_results'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/lab-results.model.ts",
        "start": 35,
        "end": 50,
        "startLoc": {
          "line": 35,
          "column": 7,
          "position": 242
        },
        "endLoc": {
          "line": 50,
          "column": 14,
          "position": 336
        }
      },
      "secondFile": {
        "name": "src/database/models/phi-disclosure.model.ts",
        "start": 75,
        "end": 35,
        "startLoc": {
          "line": 75,
          "column": 5,
          "position": 491
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id?: string;\n\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n  })\n  studentId: string;\n\n  @Column({\n    type: DataType.ENUM(\n      'blood_test'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/lab-results.model.ts",
        "start": 86,
        "end": 100,
        "startLoc": {
          "line": 86,
          "column": 1,
          "position": 534
        },
        "endLoc": {
          "line": 100,
          "column": 13,
          "position": 623
        }
      },
      "secondFile": {
        "name": "src/database/models/treatment-plan.model.ts",
        "start": 61,
        "end": 98,
        "startLoc": {
          "line": 61,
          "column": 1,
          "position": 362
        },
        "endLoc": {
          "line": 98,
          "column": 12,
          "position": 599
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ": string;\n  notes?: string;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'inventory_transactions'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/inventory-transaction.model.ts",
        "start": 34,
        "end": 47,
        "startLoc": {
          "line": 34,
          "column": 14,
          "position": 202
        },
        "endLoc": {
          "line": 47,
          "column": 25,
          "position": 283
        }
      },
      "secondFile": {
        "name": "src/database/models/maintenance-log.model.ts",
        "start": 33,
        "end": 46,
        "startLoc": {
          "line": 33,
          "column": 2,
          "position": 194
        },
        "endLoc": {
          "line": 46,
          "column": 19,
          "position": 275
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @ForeignKey(() => require('./inventory-item.model').InventoryItem)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n  })\n  inventoryItemId: string;\n\n  @Column({\n    type: DataType.STRING(50),\n    validate: {\n      isIn: [Object.values(InventoryTransactionType",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/inventory-transaction.model.ts",
        "start": 76,
        "end": 92,
        "startLoc": {
          "line": 76,
          "column": 1,
          "position": 442
        },
        "endLoc": {
          "line": 92,
          "column": 25,
          "position": 564
        }
      },
      "secondFile": {
        "name": "src/database/models/maintenance-log.model.ts",
        "start": 75,
        "end": 91,
        "startLoc": {
          "line": 75,
          "column": 1,
          "position": 434
        },
        "endLoc": {
          "line": 91,
          "column": 16,
          "position": 556
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ": string;\n\n  @Column(DataType.TEXT)\n  notes?: string;\n\n  @Column(DataType.DATE)\n  declare createdAt: Date;\n\n  // Relationships\n  @BelongsTo(() => require('./inventory-item.model').InventoryItem)\n  declare inventoryItem?: any;\n\n  // Hooks for HIPAA compliance\n  @BeforeCreate\n  @BeforeUpdate\n  static async auditPHIAccess(instance: InventoryTransaction",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/inventory-transaction.model.ts",
        "start": 122,
        "end": 137,
        "startLoc": {
          "line": 122,
          "column": 14,
          "position": 748
        },
        "endLoc": {
          "line": 137,
          "column": 21,
          "position": 841
        }
      },
      "secondFile": {
        "name": "src/database/models/maintenance-log.model.ts",
        "start": 118,
        "end": 133,
        "startLoc": {
          "line": 118,
          "column": 2,
          "position": 719
        },
        "endLoc": {
          "line": 133,
          "column": 15,
          "position": 812
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @Column({\n    type: DataType.STRING(255),\n    allowNull: false,\n  })\n  name: string;\n\n  @Column({\n    type: DataType.STRING(255",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/inventory-item.model.ts",
        "start": 81,
        "end": 94,
        "startLoc": {
          "line": 81,
          "column": 1,
          "position": 472
        },
        "endLoc": {
          "line": 94,
          "column": 4,
          "position": 561
        }
      },
      "secondFile": {
        "name": "src/database/models/vendor.model.ts",
        "start": 66,
        "end": 88,
        "startLoc": {
          "line": 66,
          "column": 1,
          "position": 388
        },
        "endLoc": {
          "line": 88,
          "column": 3,
          "position": 568
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n\n  @Default(true)\n  @Column(DataType.BOOLEAN)\n  isActive: boolean;\n\n  @Column(DataType.DATE)\n  declare createdAt: Date;\n\n  @Column(DataType.DATE)\n  declare updatedAt: Date;\n\n  // Relationships\n  @HasMany(() => require('./inventory-transaction.model'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/inventory-item.model.ts",
        "start": 132,
        "end": 145,
        "startLoc": {
          "line": 132,
          "column": 7,
          "position": 799
        },
        "endLoc": {
          "line": 145,
          "column": 32,
          "position": 878
        }
      },
      "secondFile": {
        "name": "src/database/models/vendor.model.ts",
        "start": 108,
        "end": 121,
        "startLoc": {
          "line": 108,
          "column": 7,
          "position": 670
        },
        "endLoc": {
          "line": 121,
          "column": 25,
          "position": 749
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": "studentId: string;\n  reportedById: string;\n  type: IncidentType;\n  severity: IncidentSeverity;\n  status: IncidentStatus;\n  description: string;\n  location: string;\n  witnesses: string[];\n  actionsTaken: string;\n  parentNotified: boolean;\n  parentNotificationMethod?: string;\n  parentNotifiedAt?: Date;\n  parentNotifiedBy?: string;\n  followUpRequired: boolean;\n  followUpNotes?: string;\n  attachments: string[];\n  evidencePhotos: string[];\n  evidenceVideos: string[];\n  insuranceClaimNumber?: string;\n  insuranceClaimStatus?: InsuranceClaimStatus;\n  legalComplianceStatus: ComplianceStatus;\n  occurredAt: Date;\n  createdBy?: string;\n  updatedBy?: string;\n  followUpActions",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/incident-report.model.ts",
        "start": 64,
        "end": 88,
        "startLoc": {
          "line": 64,
          "column": 3,
          "position": 389
        },
        "endLoc": {
          "line": 88,
          "column": 16,
          "position": 573
        }
      },
      "secondFile": {
        "name": "src/database/seeds/incidents.seed.ts",
        "start": 15,
        "end": 39,
        "startLoc": {
          "line": 15,
          "column": 3,
          "position": 44
        },
        "endLoc": {
          "line": 39,
          "column": 2,
          "position": 227
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @ForeignKey(() => require('./student.model').Student)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'students',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'RESTRICT'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/incident-report.model.ts",
        "start": 197,
        "end": 212,
        "startLoc": {
          "line": 197,
          "column": 1,
          "position": 1342
        },
        "endLoc": {
          "line": 212,
          "column": 11,
          "position": 1454
        }
      },
      "secondFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 135,
        "end": 150,
        "startLoc": {
          "line": 135,
          "column": 1,
          "position": 936
        },
        "endLoc": {
          "line": 150,
          "column": 10,
          "position": 1048
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n\n  @ForeignKey(() => require('./user.model').User)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'users',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'RESTRICT',\n  })\n  reportedById",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/incident-report.model.ts",
        "start": 214,
        "end": 227,
        "startLoc": {
          "line": 214,
          "column": 7,
          "position": 1466
        },
        "endLoc": {
          "line": 227,
          "column": 13,
          "position": 1551
        }
      },
      "secondFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 185,
        "end": 198,
        "startLoc": {
          "line": 185,
          "column": 4,
          "position": 1303
        },
        "endLoc": {
          "line": 198,
          "column": 13,
          "position": 1388
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ";\n\n  @Column({\n    type: DataType.UUID,\n  })\n  createdBy?: string;\n\n  @Column({\n    type: DataType.UUID,\n  })\n  updatedBy?: string;\n\n  @Column({\n    type: DataType.DATE,\n  })\n  declare createdAt: Date;\n\n  @Column({\n    type: DataType.DATE,\n  })\n  declare updatedAt: Date;\n\n  @BelongsTo(() => require('./student.model').Student,",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/incident-report.model.ts",
        "start": 364,
        "end": 386,
        "startLoc": {
          "line": 364,
          "column": 5,
          "position": 2462
        },
        "endLoc": {
          "line": 386,
          "column": 2,
          "position": 2594
        }
      },
      "secondFile": {
        "name": "src/database/models/student-medication.model.ts",
        "start": 157,
        "end": 179,
        "startLoc": {
          "line": 157,
          "column": 7,
          "position": 945
        },
        "endLoc": {
          "line": 179,
          "column": 2,
          "position": 1077
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ": string;\n  notes?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'immunizations'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/immunization.model.ts",
        "start": 26,
        "end": 41,
        "startLoc": {
          "line": 26,
          "column": 15,
          "position": 160
        },
        "endLoc": {
          "line": 41,
          "column": 16,
          "position": 257
        }
      },
      "secondFile": {
        "name": "src/database/models/lab-results.model.ts",
        "start": 35,
        "end": 35,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 239
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id?: string;\n\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n  })\n  studentId: string;\n\n  @Column({\n    type: DataType.STRING(255",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/immunization.model.ts",
        "start": 68,
        "end": 81,
        "startLoc": {
          "line": 68,
          "column": 1,
          "position": 407
        },
        "endLoc": {
          "line": 81,
          "column": 4,
          "position": 494
        }
      },
      "secondFile": {
        "name": "src/database/models/treatment-plan.model.ts",
        "start": 61,
        "end": 138,
        "startLoc": {
          "line": 61,
          "column": 1,
          "position": 362
        },
        "endLoc": {
          "line": 138,
          "column": 3,
          "position": 869
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": string;\n\n  @Column(DataType.TEXT)\n  notes?: string;\n\n  @Column(DataType.DATE)\n  declare createdAt?: Date;\n\n  @Column(DataType.DATE)\n  declare updatedAt?: Date;\n\n  // Hooks for HIPAA compliance\n  @BeforeCreate\n  @BeforeUpdate\n  static async auditPHIAccess(instance: Immunization",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/immunization.model.ts",
        "start": 117,
        "end": 131,
        "startLoc": {
          "line": 117,
          "column": 15,
          "position": 723
        },
        "endLoc": {
          "line": 131,
          "column": 13,
          "position": 806
        }
      },
      "secondFile": {
        "name": "src/database/models/lab-results.model.ts",
        "start": 175,
        "end": 189,
        "startLoc": {
          "line": 175,
          "column": 2,
          "position": 1089
        },
        "endLoc": {
          "line": 189,
          "column": 11,
          "position": 1172
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'health_screenings'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/health-screening.model.ts",
        "start": 22,
        "end": 36,
        "startLoc": {
          "line": 22,
          "column": 12,
          "position": 126
        },
        "endLoc": {
          "line": 36,
          "column": 20,
          "position": 215
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 10,
          "position": 122
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id?: string;\n\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n  })\n  studentId: string;\n\n  @Column({\n    type: DataType.STRING(100",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/health-screening.model.ts",
        "start": 63,
        "end": 76,
        "startLoc": {
          "line": 63,
          "column": 1,
          "position": 365
        },
        "endLoc": {
          "line": 76,
          "column": 4,
          "position": 452
        }
      },
      "secondFile": {
        "name": "src/database/models/treatment-plan.model.ts",
        "start": 61,
        "end": 138,
        "startLoc": {
          "line": 61,
          "column": 1,
          "position": 362
        },
        "endLoc": {
          "line": 138,
          "column": 3,
          "position": 869
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @ForeignKey(() => require('./student.model').Student)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'students',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'CASCADE',\n  })\n  studentId: string;\n\n  @Column({\n    type: DataType.ENUM",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/health-record.model.ts",
        "start": 177,
        "end": 197,
        "startLoc": {
          "line": 177,
          "column": 1,
          "position": 1253
        },
        "endLoc": {
          "line": 197,
          "column": 5,
          "position": 1392
        }
      },
      "secondFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 135,
        "end": 124,
        "startLoc": {
          "line": 135,
          "column": 1,
          "position": 936
        },
        "endLoc": {
          "line": 124,
          "column": 5,
          "position": 876
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "getDaysUntilFollowUp(): number | null {\n    if (\n      !this.followUpRequired ||\n      !this.followUpDate ||\n      this.followUpCompleted\n    ) {\n      return null;\n    }\n    const diff = this.followUpDate.getTime() - new Date().getTime();\n    return Math.ceil(diff / (1000 * 60 * 60 * 24));\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/health-record.model.ts",
        "start": 417,
        "end": 428,
        "startLoc": {
          "line": 417,
          "column": 3,
          "position": 2593
        },
        "endLoc": {
          "line": 428,
          "column": 2,
          "position": 2706
        }
      },
      "secondFile": {
        "name": "src/database/models/mental-health-record.model.ts",
        "start": 496,
        "end": 510,
        "startLoc": {
          "line": 496,
          "column": 3,
          "position": 2317
        },
        "endLoc": {
          "line": 510,
          "column": 6,
          "position": 2432
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'growth_tracking'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/growth-tracking.model.ts",
        "start": 27,
        "end": 41,
        "startLoc": {
          "line": 27,
          "column": 11,
          "position": 169
        },
        "endLoc": {
          "line": 41,
          "column": 18,
          "position": 258
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 10,
          "position": 122
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id?: string;\n\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n  })\n  studentId: string;\n\n  @Column({\n    type: DataType.DATE",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/growth-tracking.model.ts",
        "start": 65,
        "end": 78,
        "startLoc": {
          "line": 65,
          "column": 1,
          "position": 392
        },
        "endLoc": {
          "line": 78,
          "column": 5,
          "position": 477
        }
      },
      "secondFile": {
        "name": "src/database/models/treatment-plan.model.ts",
        "start": 61,
        "end": 74,
        "startLoc": {
          "line": 61,
          "column": 1,
          "position": 362
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 447
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'emergency_broadcasts'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/emergency-broadcast.model.ts",
        "start": 43,
        "end": 57,
        "startLoc": {
          "line": 43,
          "column": 16,
          "position": 270
        },
        "endLoc": {
          "line": 57,
          "column": 23,
          "position": 360
        }
      },
      "secondFile": {
        "name": "src/database/models/threat-detection.model.ts",
        "start": 22,
        "end": 35,
        "startLoc": {
          "line": 22,
          "column": 11,
          "position": 126
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n  })\n  city?: string;\n\n  @AllowNull(true)\n  @Column({\n    type: DataType.STRING(2),\n    allowNull: true,\n    comment: 'State code (2-letter abbreviation)',\n  })\n  state?: string;\n\n  @AllowNull(true)\n  @Column({\n    type: DataType.STRING(10),\n    allowNull: true,\n    comment: 'ZIP code of the district'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/district.model.ts",
        "start": 140,
        "end": 156,
        "startLoc": {
          "line": 140,
          "column": 37,
          "position": 903
        },
        "endLoc": {
          "line": 156,
          "column": 27,
          "position": 1006
        }
      },
      "secondFile": {
        "name": "src/database/models/school.model.ts",
        "start": 166,
        "end": 182,
        "startLoc": {
          "line": 166,
          "column": 35,
          "position": 1145
        },
        "endLoc": {
          "line": 182,
          "column": 25,
          "position": 1248
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ";\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare createdAt?: Date;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare updatedAt?: Date;\n\n  /**\n   * Calculate backoff time for retry (exponential backoff)\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/delivery-log.model.ts",
        "start": 206,
        "end": 224,
        "startLoc": {
          "line": 206,
          "column": 7,
          "position": 1021
        },
        "endLoc": {
          "line": 224,
          "column": 6,
          "position": 1117
        }
      },
      "secondFile": {
        "name": "src/database/models/message-template.model.ts",
        "start": 140,
        "end": 156,
        "startLoc": {
          "line": 140,
          "column": 4,
          "position": 877
        },
        "endLoc": {
          "line": 156,
          "column": 30,
          "position": 973
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'data_retention_policies'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/data-retention-policy.model.ts",
        "start": 40,
        "end": 54,
        "startLoc": {
          "line": 40,
          "column": 15,
          "position": 239
        },
        "endLoc": {
          "line": 54,
          "column": 26,
          "position": 329
        }
      },
      "secondFile": {
        "name": "src/database/models/threat-detection.model.ts",
        "start": 22,
        "end": 35,
        "startLoc": {
          "line": 22,
          "column": 11,
          "position": 126
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare createdAt: Date;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare updatedAt: Date;\n\n  @DeletedAt\n  @Column({\n    type: DataType.DATE,\n    allowNull: true,\n    comment: 'Soft delete timestamp'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/conversation.model.ts",
        "start": 195,
        "end": 215,
        "startLoc": {
          "line": 195,
          "column": 2,
          "position": 1064
        },
        "endLoc": {
          "line": 215,
          "column": 24,
          "position": 1186
        }
      },
      "secondFile": {
        "name": "src/database/models/message.model.ts",
        "start": 305,
        "end": 325,
        "startLoc": {
          "line": 305,
          "column": 2,
          "position": 1989
        },
        "endLoc": {
          "line": 325,
          "column": 43,
          "position": 2111
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": ";\n\n  @BelongsTo(() => require('./user.model').User, {\n    foreignKey: 'userId',\n    as: 'user',\n  })\n  declare user?: any;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare createdAt: Date;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare updatedAt: Date;\n\n  // Hooks for HIPAA compliance\n  @BeforeCreate\n  @BeforeUpdate\n  static async auditPHIAccess(instance: ConversationParticipant",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/conversation-participant.model.ts",
        "start": 211,
        "end": 236,
        "startLoc": {
          "line": 211,
          "column": 13,
          "position": 1194
        },
        "endLoc": {
          "line": 236,
          "column": 24,
          "position": 1354
        }
      },
      "secondFile": {
        "name": "src/database/models/message-read.model.ts",
        "start": 125,
        "end": 150,
        "startLoc": {
          "line": 125,
          "column": 8,
          "position": 652
        },
        "endLoc": {
          "line": 150,
          "column": 12,
          "position": 812
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ": string;\n\n  @Column({\n    type: DataType.STRING(100),\n    allowNull: false,\n  })\n  firstName: string;\n\n  @Column({\n    type: DataType.STRING(100),\n    allowNull: false,\n  })\n  lastName: string;\n\n  @Column({\n    type: DataType.STRING(255",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/contact.model.ts",
        "start": 96,
        "end": 111,
        "startLoc": {
          "line": 96,
          "column": 3,
          "position": 579
        },
        "endLoc": {
          "line": 111,
          "column": 4,
          "position": 673
        }
      },
      "secondFile": {
        "name": "src/database/models/emergency-contact.model.ts",
        "start": 162,
        "end": 177,
        "startLoc": {
          "line": 162,
          "column": 10,
          "position": 970
        },
        "endLoc": {
          "line": 177,
          "column": 3,
          "position": 1064
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": string;\n\n  @Column({\n    type: DataType.STRING(255),\n    allowNull: true,\n    validate: {\n      isEmail: {\n        msg: 'Must be a valid email address',\n      },\n    },\n  })\n  email: string | null;\n\n  @Column({\n    type: DataType.STRING",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/contact.model.ts",
        "start": 108,
        "end": 122,
        "startLoc": {
          "line": 108,
          "column": 9,
          "position": 653
        },
        "endLoc": {
          "line": 122,
          "column": 7,
          "position": 739
        }
      },
      "secondFile": {
        "name": "src/database/models/emergency-contact.model.ts",
        "start": 192,
        "end": 206,
        "startLoc": {
          "line": 192,
          "column": 12,
          "position": 1152
        },
        "endLoc": {
          "line": 206,
          "column": 5,
          "position": 1238
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "?: string;\n  createdAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'consent_signatures'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/consent-signature.model.ts",
        "start": 27,
        "end": 40,
        "startLoc": {
          "line": 27,
          "column": 12,
          "position": 154
        },
        "endLoc": {
          "line": 40,
          "column": 21,
          "position": 236
        }
      },
      "secondFile": {
        "name": "src/database/models/phi-disclosure-audit.model.ts",
        "start": 24,
        "end": 37,
        "startLoc": {
          "line": 24,
          "column": 10,
          "position": 132
        },
        "endLoc": {
          "line": 37,
          "column": 24,
          "position": 214
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: Date;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'consent_forms'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/consent-form.model.ts",
        "start": 32,
        "end": 46,
        "startLoc": {
          "line": 32,
          "column": 10,
          "position": 188
        },
        "endLoc": {
          "line": 46,
          "column": 16,
          "position": 278
        }
      },
      "secondFile": {
        "name": "src/database/models/remediation-action.model.ts",
        "start": 42,
        "end": 35,
        "startLoc": {
          "line": 42,
          "column": 11,
          "position": 255
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ";\n\n  @Column({\n    type: DataType.TEXT,\n    allowNull: false,\n  })\n  content: string;\n\n  @Column({\n    type: DataType.STRING(20),\n    allowNull: false,\n    defaultValue: '1.0',\n  })\n  declare version: string;\n\n  @Column({\n    type: DataType.BOOLEAN",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/consent-form.model.ts",
        "start": 97,
        "end": 113,
        "startLoc": {
          "line": 97,
          "column": 7,
          "position": 589
        },
        "endLoc": {
          "line": 113,
          "column": 8,
          "position": 684
        }
      },
      "secondFile": {
        "name": "src/database/models/policy-document.model.ts",
        "start": 107,
        "end": 123,
        "startLoc": {
          "line": 107,
          "column": 15,
          "position": 654
        },
        "endLoc": {
          "line": 123,
          "column": 5,
          "position": 749
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: Date;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'compliance_violations'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/compliance-violation.model.ts",
        "start": 54,
        "end": 68,
        "startLoc": {
          "line": 54,
          "column": 11,
          "position": 341
        },
        "endLoc": {
          "line": 68,
          "column": 24,
          "position": 431
        }
      },
      "secondFile": {
        "name": "src/database/models/remediation-action.model.ts",
        "start": 42,
        "end": 35,
        "startLoc": {
          "line": 42,
          "column": 11,
          "position": 255
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\n\n  @Column({\n    type: DataType.STRING(200),\n    allowNull: false,\n  })\n  title: string;\n\n  @Column({\n    type: DataType.TEXT,\n    allowNull: false,\n  })\n  description: string;\n\n  @Column({\n    type: DataType.STRING",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/compliance-violation.model.ts",
        "start": 116,
        "end": 131,
        "startLoc": {
          "line": 116,
          "column": 14,
          "position": 719
        },
        "endLoc": {
          "line": 131,
          "column": 7,
          "position": 805
        }
      },
      "secondFile": {
        "name": "src/database/models/health-record.model.ts",
        "start": 231,
        "end": 246,
        "startLoc": {
          "line": 231,
          "column": 7,
          "position": 1535
        },
        "endLoc": {
          "line": 246,
          "column": 5,
          "position": 1621
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\n  createdById: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'compliance_reports'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/compliance-report.model.ts",
        "start": 48,
        "end": 63,
        "startLoc": {
          "line": 48,
          "column": 7,
          "position": 305
        },
        "endLoc": {
          "line": 63,
          "column": 21,
          "position": 398
        }
      },
      "secondFile": {
        "name": "src/database/models/message-template.model.ts",
        "start": 39,
        "end": 35,
        "startLoc": {
          "line": 39,
          "column": 8,
          "position": 220
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'compliance_checklist_items'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/compliance-checklist-item.model.ts",
        "start": 46,
        "end": 60,
        "startLoc": {
          "line": 46,
          "column": 9,
          "position": 282
        },
        "endLoc": {
          "line": 60,
          "column": 29,
          "position": 372
        }
      },
      "secondFile": {
        "name": "src/database/models/threat-detection.model.ts",
        "start": 22,
        "end": 35,
        "startLoc": {
          "line": 22,
          "column": 11,
          "position": 126
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ";\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'clinical_protocols'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/clinical-protocol.model.ts",
        "start": 47,
        "end": 61,
        "startLoc": {
          "line": 47,
          "column": 2,
          "position": 322
        },
        "endLoc": {
          "line": 61,
          "column": 21,
          "position": 408
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 7,
          "position": 125
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @Column({\n    type: DataType.STRING(255),\n    allowNull: false,\n  })\n  name: string;\n\n  @Column({\n    type: DataType.STRING(50),\n    allowNull",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/clinical-protocol.model.ts",
        "start": 91,
        "end": 105,
        "startLoc": {
          "line": 91,
          "column": 1,
          "position": 574
        },
        "endLoc": {
          "line": 105,
          "column": 10,
          "position": 668
        }
      },
      "secondFile": {
        "name": "src/database/models/vendor.model.ts",
        "start": 66,
        "end": 89,
        "startLoc": {
          "line": 66,
          "column": 1,
          "position": 388
        },
        "endLoc": {
          "line": 89,
          "column": 9,
          "position": 573
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @ForeignKey(() => require('./student.model').Student)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'students',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'CASCADE',\n  })\n  @Index\n  studentId: string;\n\n  @AllowNull\n  @ForeignKey(() => require('./clinic-visit.model').ClinicVisit)\n  @Column({\n    type: DataType.UUID,\n  })\n  visitId?: string;\n\n  @BelongsTo(() => require('./clinic-visit.model').ClinicVisit, {\n    foreignKey: 'visitId',\n    as: 'visit',\n  })\n  declare visit?: any;\n\n  @",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/clinical-note.model.ts",
        "start": 130,
        "end": 163,
        "startLoc": {
          "line": 130,
          "column": 1,
          "position": 919
        },
        "endLoc": {
          "line": 163,
          "column": 2,
          "position": 1146
        }
      },
      "secondFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 135,
        "end": 168,
        "startLoc": {
          "line": 135,
          "column": 1,
          "position": 936
        },
        "endLoc": {
          "line": 168,
          "column": 11,
          "position": 1163
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n\n  @ForeignKey(() => require('./user.model').User)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'users',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'RESTRICT',\n  })\n  @Index",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/clinical-note.model.ts",
        "start": 183,
        "end": 196,
        "startLoc": {
          "line": 183,
          "column": 9,
          "position": 1308
        },
        "endLoc": {
          "line": 196,
          "column": 7,
          "position": 1393
        }
      },
      "secondFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 185,
        "end": 198,
        "startLoc": {
          "line": 185,
          "column": 4,
          "position": 1303
        },
        "endLoc": {
          "line": 198,
          "column": 13,
          "position": 1388
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "import {\n  AllowNull,\n  BeforeCreate,\n  BeforeUpdate,\n  BelongsTo,\n  Column,\n  DataType,\n  Default,\n  ForeignKey,\n  Index,\n  Model,\n  PrimaryKey,\n  Scopes,\n  Table,\n} from 'sequelize-typescript';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Op } from 'sequelize';\nimport { VisitDisposition",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/clinic-visit.model.ts",
        "start": 1,
        "end": 18,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 18,
          "column": 17,
          "position": 97
        }
      },
      "secondFile": {
        "name": "src/database/models/clinical-note.model.ts",
        "start": 1,
        "end": 19,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 19,
          "column": 9,
          "position": 98
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @ForeignKey(() => require('./student.model').Student)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'students',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'CASCADE',\n  })\n  @Index\n  studentId: string;\n\n  @",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/clinic-visit.model.ts",
        "start": 134,
        "end": 154,
        "startLoc": {
          "line": 134,
          "column": 1,
          "position": 966
        },
        "endLoc": {
          "line": 154,
          "column": 2,
          "position": 1097
        }
      },
      "secondFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 135,
        "end": 195,
        "startLoc": {
          "line": 135,
          "column": 1,
          "position": 936
        },
        "endLoc": {
          "line": 195,
          "column": 6,
          "position": 1184
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ";\n\n  @ForeignKey(() => require('./user.model').User)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'users',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'RESTRICT',\n  })\n  @Index\n  attendedBy",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/clinic-visit.model.ts",
        "start": 206,
        "end": 220,
        "startLoc": {
          "line": 206,
          "column": 7,
          "position": 1392
        },
        "endLoc": {
          "line": 220,
          "column": 11,
          "position": 1480
        }
      },
      "secondFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 185,
        "end": 197,
        "startLoc": {
          "line": 185,
          "column": 4,
          "position": 1303
        },
        "endLoc": {
          "line": 197,
          "column": 10,
          "position": 1396
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ")\n  notes?: string;\n\n  @Column(DataType.DATE)\n  declare createdAt?: Date;\n\n  @Column(DataType.DATE)\n  declare updatedAt?: Date;\n\n  // Associations\n  @BelongsTo(() => require('./student.model').Student, {\n    foreignKey: 'studentId',\n    as: 'student',\n  })\n  declare student?: any;\n\n  @",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/clinic-visit.model.ts",
        "start": 225,
        "end": 241,
        "startLoc": {
          "line": 225,
          "column": 2,
          "position": 1507
        },
        "endLoc": {
          "line": 241,
          "column": 2,
          "position": 1610
        }
      },
      "secondFile": {
        "name": "src/database/models/vital-signs.model.ts",
        "start": 187,
        "end": 203,
        "startLoc": {
          "line": 187,
          "column": 5,
          "position": 1277
        },
        "endLoc": {
          "line": 203,
          "column": 30,
          "position": 1380
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?: Date;\n  student?: any;\n  healthRecord?: any;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'chronic_conditions'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/chronic-condition.model.ts",
        "start": 60,
        "end": 74,
        "startLoc": {
          "line": 60,
          "column": 10,
          "position": 324
        },
        "endLoc": {
          "line": 74,
          "column": 21,
          "position": 414
        }
      },
      "secondFile": {
        "name": "src/database/models/vaccination.model.ts",
        "start": 124,
        "end": 138,
        "startLoc": {
          "line": 124,
          "column": 10,
          "position": 786
        },
        "endLoc": {
          "line": 138,
          "column": 15,
          "position": 876
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @ForeignKey(() => require('./student.model').Student)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'students',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'CASCADE',\n  })\n  @Index\n  studentId: string;\n\n  @AllowNull\n  @ForeignKey(() => require('./health-record.model'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/chronic-condition.model.ts",
        "start": 107,
        "end": 128,
        "startLoc": {
          "line": 107,
          "column": 1,
          "position": 602
        },
        "endLoc": {
          "line": 128,
          "column": 24,
          "position": 746
        }
      },
      "secondFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 135,
        "end": 156,
        "startLoc": {
          "line": 135,
          "column": 1,
          "position": 936
        },
        "endLoc": {
          "line": 156,
          "column": 23,
          "position": 1080
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ";\n\n  @Column({\n    type: DataType.BOOLEAN,\n    allowNull: false,\n    defaultValue: true,\n  })\n  @Index\n  isActive: boolean;\n\n  @Column(DataType.DATE)\n  declare createdAt?: Date;\n\n  @Column(DataType.DATE)\n  declare updatedAt?: Date;\n\n  // Relationships\n  @BelongsTo",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/chronic-condition.model.ts",
        "start": 294,
        "end": 311,
        "startLoc": {
          "line": 294,
          "column": 8,
          "position": 1859
        },
        "endLoc": {
          "line": 311,
          "column": 10,
          "position": 1951
        }
      },
      "secondFile": {
        "name": "src/database/models/drug-catalog.model.ts",
        "start": 162,
        "end": 179,
        "startLoc": {
          "line": 162,
          "column": 2,
          "position": 979
        },
        "endLoc": {
          "line": 179,
          "column": 8,
          "position": 1071
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "| null;\n\n  @Column({\n    type: DataType.TEXT,\n    allowNull: true,\n  })\n  notes: string | null;\n\n  @CreatedAt\n  @Column({\n    type: DataType.DATE,\n  })\n  declare createdAt: Date;\n\n  @UpdatedAt\n  @Column({\n    type: DataType.DATE,\n  })\n  declare updatedAt: Date;\n\n  // Relationships\n  @BelongsTo(() => require('./budget-category.model'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/budget-transaction.model.ts",
        "start": 95,
        "end": 116,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 502
        },
        "endLoc": {
          "line": 116,
          "column": 26,
          "position": 624
        }
      },
      "secondFile": {
        "name": "src/database/models/emergency-contact.model.ts",
        "start": 266,
        "end": 287,
        "startLoc": {
          "line": 266,
          "column": 2,
          "position": 1645
        },
        "endLoc": {
          "line": 287,
          "column": 18,
          "position": 1767
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "> {\n  @PrimaryKey\n  @Default(DataType.UUIDV4)\n  @Column(DataType.UUID)\n  declare id?: string;\n\n  @AllowNull(false)\n  @Column({\n    type: DataType.STRING(50),\n    validate: {\n      isIn: [Object.values(BackupType",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/backup-log.model.ts",
        "start": 106,
        "end": 116,
        "startLoc": {
          "line": 106,
          "column": 1,
          "position": 521
        },
        "endLoc": {
          "line": 116,
          "column": 11,
          "position": 597
        }
      },
      "secondFile": {
        "name": "src/database/models/performance-metric.model.ts",
        "start": 93,
        "end": 103,
        "startLoc": {
          "line": 93,
          "column": 1,
          "position": 460
        },
        "endLoc": {
          "line": 103,
          "column": 11,
          "position": 536
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\n  expiresAt?: Date;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'appointment_waitlist'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/appointment-waitlist.model.ts",
        "start": 43,
        "end": 58,
        "startLoc": {
          "line": 43,
          "column": 5,
          "position": 255
        },
        "endLoc": {
          "line": 58,
          "column": 23,
          "position": 349
        }
      },
      "secondFile": {
        "name": "src/database/models/consent-form.model.ts",
        "start": 31,
        "end": 35,
        "startLoc": {
          "line": 31,
          "column": 8,
          "position": 184
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n@Scopes(() => ({\n  active: {\n    where: {\n      deletedAt: null,\n    },\n    order: [['createdAt', 'DESC']],\n  },\n}))\n@Table({\n  tableName: 'appointment_reminders'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/appointment-reminder.model.ts",
        "start": 37,
        "end": 51,
        "startLoc": {
          "line": 37,
          "column": 8,
          "position": 200
        },
        "endLoc": {
          "line": 51,
          "column": 24,
          "position": 289
        }
      },
      "secondFile": {
        "name": "src/database/models/webhook.model.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 10,
          "position": 122
        },
        "endLoc": {
          "line": 35,
          "column": 11,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ";\n\n  @Column({\n    type: DataType.STRING(50),\n    validate: {\n      isIn: [Object.values(ReportType)],\n    },\n    allowNull: false,\n  })\n  reportType: ReportType;\n\n  @Column({\n    type: DataType.STRING(255",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/analytics-report.model.ts",
        "start": 120,
        "end": 132,
        "startLoc": {
          "line": 120,
          "column": 7,
          "position": 771
        },
        "endLoc": {
          "line": 132,
          "column": 4,
          "position": 849
        }
      },
      "secondFile": {
        "name": "src/database/models/report-execution.model.ts",
        "start": 101,
        "end": 113,
        "startLoc": {
          "line": 101,
          "column": 4,
          "position": 646
        },
        "endLoc": {
          "line": 113,
          "column": 3,
          "position": 724
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "{\n  @PrimaryKey\n  @Default(() => uuidv4())\n  @Column(DataType.UUID)\n  declare id: string;\n\n  @ForeignKey(() => require('./student.model').Student)\n  @Column({\n    type: DataType.UUID,\n    allowNull: false,\n    references: {\n      model: 'students',\n      key: 'id',\n    },\n    onUpdate: 'CASCADE',\n    onDelete: 'CASCADE',\n  })\n  studentId: string;\n\n  @Column({\n    type: DataType.STRING",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/allergy.model.ts",
        "start": 156,
        "end": 176,
        "startLoc": {
          "line": 156,
          "column": 1,
          "position": 1071
        },
        "endLoc": {
          "line": 176,
          "column": 7,
          "position": 1210
        }
      },
      "secondFile": {
        "name": "src/database/models/prescription.model.ts",
        "start": 135,
        "end": 124,
        "startLoc": {
          "line": 135,
          "column": 1,
          "position": 936
        },
        "endLoc": {
          "line": 124,
          "column": 5,
          "position": 876
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": ";\n\n  @Column({\n    type: DataType.UUID,\n  })\n  createdBy?: string;\n\n  @Column({\n    type: DataType.UUID,\n  })\n  updatedBy?: string;\n\n  @Column({\n    type: DataType.DATE,\n  })\n  declare createdAt: Date;\n\n  @Column({\n    type: DataType.DATE,\n  })\n  declare updatedAt: Date;\n\n  @BelongsTo(() => require('./student.model').Student)\n  declare student?: any;\n\n  // Hooks for HIPAA compliance",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/allergy.model.ts",
        "start": 270,
        "end": 295,
        "startLoc": {
          "line": 270,
          "column": 7,
          "position": 1789
        },
        "endLoc": {
          "line": 295,
          "column": 30,
          "position": 1935
        }
      },
      "secondFile": {
        "name": "src/database/models/student-medication.model.ts",
        "start": 157,
        "end": 182,
        "startLoc": {
          "line": 157,
          "column": 7,
          "position": 945
        },
        "endLoc": {
          "line": 182,
          "column": 2,
          "position": 1091
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "@Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare createdAt?: Date;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare updatedAt?: Date;\n\n  /**\n   * Check if alert is expired\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/alert.model.ts",
        "start": 452,
        "end": 468,
        "startLoc": {
          "line": 452,
          "column": 3,
          "position": 2646
        },
        "endLoc": {
          "line": 468,
          "column": 6,
          "position": 2738
        }
      },
      "secondFile": {
        "name": "src/database/models/message-template.model.ts",
        "start": 142,
        "end": 156,
        "startLoc": {
          "line": 142,
          "column": 3,
          "position": 881
        },
        "endLoc": {
          "line": 156,
          "column": 30,
          "position": 973
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ";\n\n/**\n * Alert Severity Levels\n */\nexport enum AlertSeverity {\n  INFO = 'INFO',\n  LOW = 'LOW',\n  MEDIUM = 'MEDIUM',\n  HIGH = 'HIGH',\n  CRITICAL = 'CRITICAL',\n  EMERGENCY = 'EMERGENCY',\n}\n\n/**\n * Alert Categories\n */\nexport enum AlertCategory {\n  HEALTH = 'HEALTH',\n  SAFETY = 'SAFETY',\n  COMPLIANCE = 'COMPLIANCE',\n  SYSTEM = 'SYSTEM',\n  MEDICATION = 'MEDICATION',\n  APPOINTMENT = 'APPOINTMENT',\n}\n\n/**\n * Trigger Condition Interface\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/alert-rule.model.ts",
        "start": 12,
        "end": 40,
        "startLoc": {
          "line": 12,
          "column": 7,
          "position": 62
        },
        "endLoc": {
          "line": 40,
          "column": 4,
          "position": 187
        }
      },
      "secondFile": {
        "name": "src/database/models/alert.model.ts",
        "start": 16,
        "end": 44,
        "startLoc": {
          "line": 16,
          "column": 12,
          "position": 87
        },
        "endLoc": {
          "line": 44,
          "column": 4,
          "position": 212
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "export interface AlertRuleAttributes {\n  id: string;\n  name: string;\n  description?: string;\n  category: AlertCategory;\n  severity: AlertSeverity;\n  isActive: boolean;\n  priority: number;\n  triggerConditions: TriggerCondition[];\n  notificationChannels: NotificationChannel[];\n  targetRoles?: string[];\n  targetUsers?: string[];\n  schoolId?: string;\n  districtId?: string;\n  autoEscalateAfter?: number; // minutes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/alert-rule.model.ts",
        "start": 66,
        "end": 80,
        "startLoc": {
          "line": 66,
          "column": 1,
          "position": 324
        },
        "endLoc": {
          "line": 80,
          "column": 11,
          "position": 444
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/alert-rule.repository.ts",
        "start": 19,
        "end": 34,
        "startLoc": {
          "line": 19,
          "column": 1,
          "position": 123
        },
        "endLoc": {
          "line": 34,
          "column": 15,
          "position": 244
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "@Index\n  @ForeignKey(() => require('./school.model').School)\n  @Column({\n    type: DataType.UUID,\n  })\n  schoolId?: string;\n\n  @BelongsTo(() => require('./school.model').School, {\n    foreignKey: 'schoolId',\n    as: 'school',\n  })\n  declare school?: any;\n\n  /**\n   * Preferred delivery channels\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/alert-preferences.model.ts",
        "start": 131,
        "end": 146,
        "startLoc": {
          "line": 131,
          "column": 3,
          "position": 651
        },
        "endLoc": {
          "line": 146,
          "column": 6,
          "position": 747
        }
      },
      "secondFile": {
        "name": "src/database/models/alert.model.ts",
        "start": 321,
        "end": 336,
        "startLoc": {
          "line": 321,
          "column": 3,
          "position": 1944
        },
        "endLoc": {
          "line": 336,
          "column": 6,
          "position": 2040
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ";\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare createdAt?: Date;\n\n  @Column({\n    type: DataType.DATE,\n    allowNull: false,\n    defaultValue: DataType.NOW,\n  })\n  declare updatedAt?: Date;\n\n  /**\n   * Check if current time is within quiet hours\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/alert-preferences.model.ts",
        "start": 211,
        "end": 229,
        "startLoc": {
          "line": 211,
          "column": 8,
          "position": 1130
        },
        "endLoc": {
          "line": 229,
          "column": 6,
          "position": 1226
        }
      },
      "secondFile": {
        "name": "src/database/models/message-template.model.ts",
        "start": 140,
        "end": 156,
        "startLoc": {
          "line": 140,
          "column": 4,
          "position": 877
        },
        "endLoc": {
          "line": 156,
          "column": 30,
          "position": 973
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export interface AcademicTranscriptAttributes {\n  id: string;\n  studentId: string;\n  academicYear: string;\n  semester: string;\n  grade: string;\n  gpa: number;\n  subjects: SubjectGrade[];\n  attendance: AttendanceRecord;\n  behavior: BehaviorRecord;\n  importedBy?: string;\n  importedAt?: Date;\n  importSource?: string;\n  metadata?: Record<string, any",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/academic-transcript.model.ts",
        "start": 52,
        "end": 65,
        "startLoc": {
          "line": 52,
          "column": 1,
          "position": 220
        },
        "endLoc": {
          "line": 65,
          "column": 4,
          "position": 327
        }
      },
      "secondFile": {
        "name": "src/database/repositories/impl/academic-transcript.repository.ts",
        "start": 18,
        "end": 31,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 119
        },
        "endLoc": {
          "line": 31,
          "column": 8,
          "position": 226
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ">;\n\n  @Column({\n    type: DataType.DATE,\n  })\n  declare createdAt?: Date;\n\n  @Column({\n    type: DataType.DATE,\n  })\n  declare updatedAt?: Date;\n\n  // Relationships\n  @BelongsTo(() => require('./student.model').Student)\n  declare student?: any;\n\n  /**\n   * Get total credits for this period\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/models/academic-transcript.model.ts",
        "start": 268,
        "end": 286,
        "startLoc": {
          "line": 268,
          "column": 4,
          "position": 1266
        },
        "endLoc": {
          "line": 286,
          "column": 6,
          "position": 1362
        }
      },
      "secondFile": {
        "name": "src/database/models/mental-health-record.model.ts",
        "start": 439,
        "end": 457,
        "startLoc": {
          "line": 439,
          "column": 2,
          "position": 2009
        },
        "endLoc": {
          "line": 457,
          "column": 6,
          "position": 2105
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "export interface ColumnDefinition {\n  type: any;\n  allowNull?: boolean;\n  defaultValue?: any;\n  unique?: boolean | string;\n  primaryKey?: boolean;\n  autoIncrement?: boolean;\n  comment?: string;\n  references?: {\n    model: string;\n    key: string;\n  };\n  onUpdate?: string;\n  onDelete?: string;\n}\n\n/**\n * Foreign key constraint definition\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/types.ts",
        "start": 20,
        "end": 38,
        "startLoc": {
          "line": 20,
          "column": 1,
          "position": 52
        },
        "endLoc": {
          "line": 38,
          "column": 4,
          "position": 163
        }
      },
      "secondFile": {
        "name": "src/database/migrations/types/migration-utilities.types.ts",
        "start": 13,
        "end": 29,
        "startLoc": {
          "line": 13,
          "column": 1,
          "position": 48
        },
        "endLoc": {
          "line": 29,
          "column": 7,
          "position": 159
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "/**\n   * Creates a comprehensive table with all standard fields and configurations\n   */\n  async createTableWithDefaults(\n    queryInterface: QueryInterface,\n    tableName: string,\n    attributes: Record<string, any>,\n    options: {\n      indexes?: IndexDefinition[];\n      paranoid?: boolean;\n      timestamps?: boolean;\n      underscored?: boolean;\n      comment?: string;\n    } = {},\n    transaction?: Transaction,\n  ): Promise<void> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-utilities.service.ts",
        "start": 38,
        "end": 54,
        "startLoc": {
          "line": 38,
          "column": 3,
          "position": 212
        },
        "endLoc": {
          "line": 54,
          "column": 7,
          "position": 324
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/table-operations.service.ts",
        "start": 15,
        "end": 31,
        "startLoc": {
          "line": 15,
          "column": 3,
          "position": 92
        },
        "endLoc": {
          "line": 31,
          "column": 6,
          "position": 204
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "/**\n   * Adds a column with validation and default value population\n   */\n  async addColumnWithDefaults(\n    queryInterface: QueryInterface,\n    tableName: string,\n    columnName: string,\n    definition: ColumnDefinition,\n    options: {\n      populateDefault?: boolean;\n      validate?: boolean;\n    } = {},\n    transaction?: Transaction,\n  ): Promise<void> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-utilities.service.ts",
        "start": 82,
        "end": 96,
        "startLoc": {
          "line": 82,
          "column": 3,
          "position": 467
        },
        "endLoc": {
          "line": 96,
          "column": 7,
          "position": 554
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 15,
        "end": 29,
        "startLoc": {
          "line": 15,
          "column": 3,
          "position": 86
        },
        "endLoc": {
          "line": 29,
          "column": 6,
          "position": 173
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n  }\n\n  /**\n   * Removes a column safely with data preservation option\n   */\n  async removeColumnSafely(\n    queryInterface: QueryInterface,\n    tableName: string,\n    columnName: string,\n    options: {\n      backup?: boolean;\n      backupTable?: string;\n      ifExists?: boolean;\n    } = {},\n    transaction?: Transaction,\n  ): Promise<void> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-utilities.service.ts",
        "start": 103,
        "end": 120,
        "startLoc": {
          "line": 103,
          "column": 5,
          "position": 588
        },
        "endLoc": {
          "line": 120,
          "column": 7,
          "position": 684
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 73,
        "end": 90,
        "startLoc": {
          "line": 73,
          "column": 2,
          "position": 598
        },
        "endLoc": {
          "line": 90,
          "column": 6,
          "position": 694
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ");\n  }\n\n  /**\n   * Modifies a column type with data conversion\n   */\n  async modifyColumnType(\n    queryInterface: QueryInterface,\n    tableName: string,\n    columnName: string,\n    newDefinition: ColumnDefinition,\n    options: {\n      castUsing?: string;\n      validate?: boolean;\n      tempColumn?: boolean;\n    } = {},\n    transaction?: Transaction,\n  ): Promise<void> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-utilities.service.ts",
        "start": 126,
        "end": 144,
        "startLoc": {
          "line": 126,
          "column": 5,
          "position": 714
        },
        "endLoc": {
          "line": 144,
          "column": 7,
          "position": 817
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 116,
        "end": 134,
        "startLoc": {
          "line": 116,
          "column": 2,
          "position": 902
        },
        "endLoc": {
          "line": 134,
          "column": 6,
          "position": 1005
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ";\n  }\n\n  /**\n   * Migrates data from one table to another with mapping\n   */\n  async migrateDataBetweenTables(\n    queryInterface: QueryInterface,\n    sourceTable: string,\n    targetTable: string,\n    columnMapping: Record<string, string>,\n    options: {\n      batchSize?: number;\n      where?: any;\n      deleteSource?: boolean;\n    } = {},\n  ): Promise<void> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-utilities.service.ts",
        "start": 186,
        "end": 203,
        "startLoc": {
          "line": 186,
          "column": 2,
          "position": 1028
        },
        "endLoc": {
          "line": 203,
          "column": 7,
          "position": 1128
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/data-migration.service.ts",
        "start": 121,
        "end": 138,
        "startLoc": {
          "line": 121,
          "column": 2,
          "position": 867
        },
        "endLoc": {
          "line": 138,
          "column": 6,
          "position": 967
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n  }\n\n  /**\n   * Copies table data with optional filtering\n   */\n  async copyTableData(\n    queryInterface: QueryInterface,\n    sourceTable: string,\n    targetTable: string,\n    options: {\n      where?: string;\n      columns?: string[];\n      limit?: number;\n    } = {},\n    transaction?: Transaction,\n  ): Promise<void> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-utilities.service.ts",
        "start": 209,
        "end": 226,
        "startLoc": {
          "line": 209,
          "column": 5,
          "position": 1158
        },
        "endLoc": {
          "line": 226,
          "column": 7,
          "position": 1256
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/data-migration.service.ts",
        "start": 200,
        "end": 217,
        "startLoc": {
          "line": 200,
          "column": 12,
          "position": 1553
        },
        "endLoc": {
          "line": 217,
          "column": 6,
          "position": 1651
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "export interface MigrationTableDefinition {\n  tableName: string;\n  attributes: Record<string, any>;\n  options?: Record<string, any>;\n}\n\nexport interface ColumnDefinition {\n  type: any;\n  allowNull?: boolean;\n  defaultValue?: any;\n  unique?: boolean | string;\n  primaryKey?: boolean;\n  autoIncrement?: boolean;\n  comment?: string;\n  references?: {\n    model: string;\n    key: string;\n  };\n  onUpdate?: string;\n  onDelete?: string;\n}\n\nexport interface IndexDefinition {\n  name?: string;\n  fields: (string | { name: string; order?: 'ASC' | 'DESC'; length?: number })[];\n  unique?: boolean;\n  type?: string;\n  where?: any;\n  concurrently?: boolean;\n}\n\n/**\n * Creates a comprehensive table with all standard fields and configurations\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-builders.ts",
        "start": 7,
        "end": 40,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 23
        },
        "endLoc": {
          "line": 40,
          "column": 4,
          "position": 270
        }
      },
      "secondFile": {
        "name": "src/database/migrations/types/migration-utilities.types.ts",
        "start": 7,
        "end": 38,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 250
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": "createTableWithDefaults(\n  queryInterface: QueryInterface,\n  tableName: string,\n  attributes: Record<string, any>,\n  options: {\n    indexes?: IndexDefinition[];\n    paranoid?: boolean;\n    timestamps?: boolean;\n    underscored?: boolean;\n    comment?: string;\n  } = {},\n  transaction?: Transaction,\n): Promise<void> {\n  const {\n    indexes = [],\n    paranoid = false,\n    timestamps = true,\n    underscored = false,\n    comment,\n  } = options;\n\n  // Build complete attribute definition with defaults\n  const completeAttributes: Record<string, any> = {\n    id: {\n      type: Sequelize",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-builders.ts",
        "start": 41,
        "end": 65,
        "startLoc": {
          "line": 41,
          "column": 2,
          "position": 278
        },
        "endLoc": {
          "line": 65,
          "column": 10,
          "position": 465
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/table-operations.service.ts",
        "start": 18,
        "end": 42,
        "startLoc": {
          "line": 18,
          "column": 2,
          "position": 97
        },
        "endLoc": {
          "line": 42,
          "column": 10,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ".DATE,\n      allowNull: true,\n    };\n  }\n\n  // Create table\n  await queryInterface.createTable(tableName, completeAttributes, {\n    transaction,\n    comment,\n  });\n\n  // Create indexes\n  for (const index of indexes) {\n    await queryInterface.addIndex(tableName, index.fields, {\n      ...index,\n      transaction,\n    });\n  }\n}\n\n/**\n * Performs a safe table alteration with backup and rollback capability\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-builders.ts",
        "start": 90,
        "end": 112,
        "startLoc": {
          "line": 90,
          "column": 10,
          "position": 631
        },
        "endLoc": {
          "line": 112,
          "column": 4,
          "position": 737
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/table-operations.service.ts",
        "start": 84,
        "end": 117,
        "startLoc": {
          "line": 84,
          "column": 10,
          "position": 370
        },
        "endLoc": {
          "line": 117,
          "column": 4,
          "position": 476
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": "safeAlterTable(\n  queryInterface: QueryInterface,\n  tableName: string,\n  alterations: (qi: QueryInterface, transaction: Transaction) => Promise<void>,\n  transaction?: Transaction,\n): Promise<void> {\n  const sequelize = queryInterface.sequelize;\n  const t = transaction || (await sequelize.transaction());\n\n  try {\n    // Execute alterations within transaction\n    await alterations(queryInterface, t);\n\n    // Commit if we created the transaction\n    if (!transaction) {\n      await t.commit();\n    }\n  } catch (error) {\n    // Rollback if we created the transaction\n    if (!transaction) {\n      await t.rollback();\n    }\n    throw error;\n  }\n}\n\n/**\n * Drops a table safely with existence check and cascade options\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-builders.ts",
        "start": 113,
        "end": 141,
        "startLoc": {
          "line": 113,
          "column": 2,
          "position": 745
        },
        "endLoc": {
          "line": 141,
          "column": 4,
          "position": 936
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/table-operations.service.ts",
        "start": 92,
        "end": 155,
        "startLoc": {
          "line": 92,
          "column": 2,
          "position": 586
        },
        "endLoc": {
          "line": 155,
          "column": 4,
          "position": 657
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": "export async function dropTableSafely(\n  queryInterface: QueryInterface,\n  tableName: string,\n  options: {\n    cascade?: boolean;\n    ifExists?: boolean;\n  } = {},\n  transaction?: Transaction,\n): Promise<void> {\n  const { cascade = false, ifExists = true } = options;\n\n  // Check if table exists\n  if (ifExists) {\n    const tableExists = await checkTableExists(queryInterface, tableName);\n    if (!tableExists) {\n      return;\n    }\n  }\n\n  // Drop table\n  await queryInterface.dropTable(tableName, {\n    cascade,\n    transaction,\n  });\n}\n\n/**\n * Renames a table with all dependencies (indexes, constraints)\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-builders.ts",
        "start": 142,
        "end": 170,
        "startLoc": {
          "line": 142,
          "column": 1,
          "position": 938
        },
        "endLoc": {
          "line": 170,
          "column": 4,
          "position": 1118
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/table-operations.service.ts",
        "start": 156,
        "end": 193,
        "startLoc": {
          "line": 156,
          "column": 1,
          "position": 659
        },
        "endLoc": {
          "line": 193,
          "column": 4,
          "position": 839
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "export async function renameTableWithDependencies(\n  queryInterface: QueryInterface,\n  oldTableName: string,\n  newTableName: string,\n  transaction?: Transaction,\n): Promise<void> {\n  const sequelize = queryInterface.sequelize;\n  const dialect = sequelize.getDialect();\n\n  // Rename table\n  await queryInterface.renameTable(oldTableName, newTableName, { transaction });\n\n  // Update sequences for PostgreSQL (using parameterized queries to prevent SQL injection)\n  if (dialect === 'postgres') {\n    const [sequences] = await sequelize.query(\n      `\n      SELECT sequence_name\n      FROM information_schema.sequences\n      WHERE sequence_name LIKE :pattern\n    `,\n      {\n        replacements: { pattern: `${oldTableName}%` },\n        transaction\n      }",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-builders.ts",
        "start": 171,
        "end": 194,
        "startLoc": {
          "line": 171,
          "column": 1,
          "position": 1120
        },
        "endLoc": {
          "line": 194,
          "column": 2,
          "position": 1281
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/table-operations.service.ts",
        "start": 194,
        "end": 216,
        "startLoc": {
          "line": 194,
          "column": 1,
          "position": 841
        },
        "endLoc": {
          "line": 216,
          "column": 2,
          "position": 1000
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "export async function checkTableExists(\n  queryInterface: QueryInterface,\n  tableName: string,\n): Promise<boolean> {\n  const sequelize = queryInterface.sequelize;\n  const dialect = sequelize.getDialect();\n\n  const [results] = await sequelize.query(\n    dialect === 'postgres'\n      ? `SELECT EXISTS (\n          SELECT FROM information_schema.tables\n          WHERE table_schema = 'public'\n          AND table_name = :tableName\n        )`\n      : `SELECT COUNT(*) as count FROM information_schema.tables\n         WHERE table_schema = DATABASE()\n         AND table_name = :tableName`,\n    {\n      replacements: { tableName },\n    },\n  );\n\n  if (dialect === 'postgres') {\n    return (results[0] as any",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/migration-builders.ts",
        "start": 211,
        "end": 234,
        "startLoc": {
          "line": 211,
          "column": 1,
          "position": 1378
        },
        "endLoc": {
          "line": 234,
          "column": 4,
          "position": 1519
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/table-operations.service.ts",
        "start": 241,
        "end": 264,
        "startLoc": {
          "line": 241,
          "column": 1,
          "position": 1108
        },
        "endLoc": {
          "line": 264,
          "column": 2,
          "position": 1249
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "export interface IndexDefinition {\n  name?: string;\n  fields: (string | { name: string; order?: 'ASC' | 'DESC'; length?: number })[];\n  unique?: boolean;\n  type?: string;\n  where?: any;\n  concurrently?: boolean;\n}\n\n/**\n * Creates an index with optimal settings for the database dialect\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/index-management.ts",
        "start": 7,
        "end": 18,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 20
        },
        "endLoc": {
          "line": 18,
          "column": 4,
          "position": 111
        }
      },
      "secondFile": {
        "name": "src/database/migrations/types/migration-utilities.types.ts",
        "start": 29,
        "end": 38,
        "startLoc": {
          "line": 29,
          "column": 1,
          "position": 159
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 250
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "export async function dropIndexSafely(\n  queryInterface: QueryInterface,\n  tableName: string,\n  indexName: string,\n  options: {\n    ifExists?: boolean;\n    concurrently?: boolean;\n  } = {},\n  transaction?: Transaction,\n): Promise<void> {\n  const { ifExists = true, concurrently = false } = options;\n  const sequelize = queryInterface.sequelize;\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/index-management.ts",
        "start": 60,
        "end": 72,
        "startLoc": {
          "line": 60,
          "column": 1,
          "position": 469
        },
        "endLoc": {
          "line": 72,
          "column": 6,
          "position": 586
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/constraint-operations.service.ts",
        "start": 334,
        "end": 347,
        "startLoc": {
          "line": 334,
          "column": 1,
          "position": 1469
        },
        "endLoc": {
          "line": 347,
          "column": 3,
          "position": 1587
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": "export async function checkIndexExists(\n  queryInterface: QueryInterface,\n  tableName: string,\n  indexName: string,\n): Promise<boolean> {\n  const sequelize = queryInterface.sequelize;\n  const dialect = sequelize.getDialect();\n\n  const [results] = await sequelize.query(\n    dialect === 'postgres'\n      ? `SELECT EXISTS (\n          SELECT FROM pg_indexes\n          WHERE schemaname = 'public'\n          AND tablename = :tableName\n          AND indexname = :indexName\n        )`\n      : `SELECT COUNT(*) as count FROM information_schema.statistics\n         WHERE table_schema = DATABASE()\n         AND table_name = :tableName\n         AND index_name = :indexName`,\n    {\n      replacements: { tableName, indexName },\n    },\n  );\n\n  if (dialect === 'postgres') {\n    return (results[0] as any",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/index-management.ts",
        "start": 178,
        "end": 204,
        "startLoc": {
          "line": 178,
          "column": 1,
          "position": 1339
        },
        "endLoc": {
          "line": 204,
          "column": 4,
          "position": 1490
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/constraint-operations.service.ts",
        "start": 505,
        "end": 531,
        "startLoc": {
          "line": 505,
          "column": 1,
          "position": 2317
        },
        "endLoc": {
          "line": 531,
          "column": 2,
          "position": 2468
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "{\n    type: any;\n    allowNull?: boolean;\n    defaultValue?: any;\n    unique?: boolean | string;\n    primaryKey?: boolean;\n    autoIncrement?: boolean;\n    comment?: string;\n    references?: {\n      model: string;\n      key: string;\n    };\n    onUpdate?: string;\n    onDelete?: string;\n  },",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/column-management.ts",
        "start": 14,
        "end": 28,
        "startLoc": {
          "line": 14,
          "column": 2,
          "position": 59
        },
        "endLoc": {
          "line": 28,
          "column": 2,
          "position": 163
        }
      },
      "secondFile": {
        "name": "src/database/migrations/types/migration-utilities.types.ts",
        "start": 13,
        "end": 29,
        "startLoc": {
          "line": 13,
          "column": 2,
          "position": 54
        },
        "endLoc": {
          "line": 29,
          "column": 7,
          "position": 159
        }
      }
    },
    {
      "format": "typescript",
      "lines": 51,
      "fragment": ",\n  options: {\n    populateDefault?: boolean;\n    validate?: boolean;\n  } = {},\n  transaction?: Transaction,\n): Promise<void> {\n  const { populateDefault = true, validate = true } = options;\n\n  // Add column as nullable first\n  const tempDefinition = { ...definition, allowNull: true };\n  await queryInterface.addColumn(tableName, columnName, tempDefinition, {\n    transaction,\n  });\n\n  // Populate default values if specified (with proper escaping)\n  if (populateDefault && definition.defaultValue !== undefined) {\n    const dialect = queryInterface.sequelize.getDialect();\n    const tableRef = dialect === 'postgres' ? `\"${tableName}\"` : `\\`${tableName}\\``;\n    const columnRef = dialect === 'postgres' ? `\"${columnName}\"` : `\\`${columnName}\\``;\n\n    await queryInterface.sequelize.query(\n      `UPDATE ${tableRef} SET ${columnRef} = :defaultValue WHERE ${columnRef} IS NULL`,\n      {\n        replacements: { defaultValue: definition.defaultValue },\n        transaction,\n      },\n    );\n  }\n\n  // Update column to final definition (with allowNull constraint)\n  if (!definition.allowNull) {\n    await queryInterface.changeColumn(tableName, columnName, definition, {\n      transaction,\n    });\n  }\n\n  // Validate data if requested\n  if (validate) {\n    const [results] = await queryInterface.sequelize.query(\n      `SELECT COUNT(*) as count FROM \"${tableName}\" WHERE \"${columnName}\" IS NULL`,\n      { transaction },\n    );\n    const count = (results[0] as any).count;\n    if (count > 0 && !definition.allowNull) {\n      throw new Error(\n        `Column ${columnName} has ${count} NULL values but is NOT NULL`,\n      );\n    }\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/column-management.ts",
        "start": 28,
        "end": 78,
        "startLoc": {
          "line": 28,
          "column": 2,
          "position": 163
        },
        "endLoc": {
          "line": 78,
          "column": 2,
          "position": 623
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 39,
        "end": 73,
        "startLoc": {
          "line": 39,
          "column": 17,
          "position": 86
        },
        "endLoc": {
          "line": 73,
          "column": 5,
          "position": 583
        }
      }
    },
    {
      "format": "typescript",
      "lines": 41,
      "fragment": "export async function removeColumnSafely(\n  queryInterface: QueryInterface,\n  tableName: string,\n  columnName: string,\n  options: {\n    backup?: boolean;\n    backupTable?: string;\n    ifExists?: boolean;\n  } = {},\n  transaction?: Transaction,\n): Promise<void> {\n  const { backup = false, backupTable, ifExists = true } = options;\n\n  // Check if column exists\n  if (ifExists) {\n    const columnExists = await checkColumnExists(\n      queryInterface,\n      tableName,\n      columnName,\n    );\n    if (!columnExists) {\n      return;\n    }\n  }\n\n  // Create backup if requested\n  if (backup) {\n    const backupTableName = backupTable || `${tableName}_${columnName}_backup`;\n    await queryInterface.sequelize.query(\n      `CREATE TABLE \"${backupTableName}\" AS SELECT id, \"${columnName}\" FROM \"${tableName}\"`,\n      { transaction },\n    );\n  }\n\n  // Remove column\n  await queryInterface.removeColumn(tableName, columnName, { transaction });\n}\n\n/**\n * Modifies a column type with data conversion\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/column-management.ts",
        "start": 83,
        "end": 123,
        "startLoc": {
          "line": 83,
          "column": 1,
          "position": 628
        },
        "endLoc": {
          "line": 123,
          "column": 4,
          "position": 908
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 104,
        "end": 157,
        "startLoc": {
          "line": 104,
          "column": 1,
          "position": 558
        },
        "endLoc": {
          "line": 157,
          "column": 4,
          "position": 838
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ": {\n    type: any;\n    allowNull?: boolean;\n    defaultValue?: any;\n    unique?: boolean | string;\n    primaryKey?: boolean;\n    autoIncrement?: boolean;\n    comment?: string;\n    references?: {\n      model: string;\n      key: string;\n    };\n    onUpdate?: string;\n    onDelete?: string;\n  },\n  options: {\n    castUsing",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/column-management.ts",
        "start": 128,
        "end": 144,
        "startLoc": {
          "line": 128,
          "column": 14,
          "position": 942
        },
        "endLoc": {
          "line": 144,
          "column": 10,
          "position": 1057
        }
      },
      "secondFile": {
        "name": "src/database/migrations/column-management.ts",
        "start": 14,
        "end": 30,
        "startLoc": {
          "line": 14,
          "column": 11,
          "position": 57
        },
        "endLoc": {
          "line": 30,
          "column": 16,
          "position": 172
        }
      }
    },
    {
      "format": "typescript",
      "lines": 52,
      "fragment": ",\n  options: {\n    castUsing?: string;\n    validate?: boolean;\n    tempColumn?: boolean;\n  } = {},\n  transaction?: Transaction,\n): Promise<void> {\n  const { castUsing, validate = true, tempColumn = false } = options;\n  const sequelize = queryInterface.sequelize;\n  const dialect = sequelize.getDialect();\n\n  if (tempColumn || dialect === 'postgres') {\n    // Use temporary column approach for complex conversions\n    const tempColumnName = `${columnName}_temp`;\n\n    // Add temporary column\n    await queryInterface.addColumn(tableName, tempColumnName, newDefinition, {\n      transaction,\n    });\n\n    // Copy and convert data\n    const castExpression = castUsing || `\"${columnName}\"`;\n    await sequelize.query(\n      `UPDATE \"${tableName}\" SET \"${tempColumnName}\" = ${castExpression}`,\n      { transaction },\n    );\n\n    // Drop old column\n    await queryInterface.removeColumn(tableName, columnName, { transaction });\n\n    // Rename temp column to original name\n    await queryInterface.renameColumn(\n      tableName,\n      tempColumnName,\n      columnName,\n      { transaction },\n    );\n  } else {\n    // Direct column modification\n    await queryInterface.changeColumn(tableName, columnName, newDefinition, {\n      transaction,\n    });\n  }\n\n  // Validate conversion if requested\n  if (validate) {\n    const [results] = await sequelize.query(\n      `SELECT COUNT(*) as count FROM \"${tableName}\" WHERE \"${columnName}\" IS NULL`,\n      { transaction },\n    );\n    console.log(`Column ${columnName} conversion completed. NULL count: ${(results[0] as any",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/column-management.ts",
        "start": 142,
        "end": 193,
        "startLoc": {
          "line": 142,
          "column": 2,
          "position": 1048
        },
        "endLoc": {
          "line": 193,
          "column": 5,
          "position": 1457
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 126,
        "end": 209,
        "startLoc": {
          "line": 126,
          "column": 17,
          "position": 944
        },
        "endLoc": {
          "line": 209,
          "column": 2,
          "position": 1257
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "export async function renameColumnUniversal(\n  queryInterface: QueryInterface,\n  tableName: string,\n  oldColumnName: string,\n  newColumnName: string,\n  transaction?: Transaction,\n): Promise<void> {\n  await queryInterface.renameColumn(\n    tableName,\n    oldColumnName,\n    newColumnName,\n    { transaction },\n  );\n}\n\n/**\n * Checks if a column exists in a table\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/column-management.ts",
        "start": 200,
        "end": 217,
        "startLoc": {
          "line": 200,
          "column": 1,
          "position": 1474
        },
        "endLoc": {
          "line": 217,
          "column": 4,
          "position": 1564
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 226,
        "end": 251,
        "startLoc": {
          "line": 226,
          "column": 1,
          "position": 1275
        },
        "endLoc": {
          "line": 251,
          "column": 4,
          "position": 1365
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": "export async function checkColumnExists(\n  queryInterface: QueryInterface,\n  tableName: string,\n  columnName: string,\n): Promise<boolean> {\n  const sequelize = queryInterface.sequelize;\n  const dialect = sequelize.getDialect();\n\n  const [results] = await sequelize.query(\n    dialect === 'postgres'\n      ? `SELECT EXISTS (\n          SELECT FROM information_schema.columns\n          WHERE table_schema = 'public'\n          AND table_name = :tableName\n          AND column_name = :columnName\n        )`\n      : `SELECT COUNT(*) as count FROM information_schema.columns\n         WHERE table_schema = DATABASE()\n         AND table_name = :tableName\n         AND column_name = :columnName`,\n    {\n      replacements: { tableName, columnName },\n    },\n  );\n\n  if (dialect === 'postgres') {\n    return (results[0] as any",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/column-management.ts",
        "start": 218,
        "end": 244,
        "startLoc": {
          "line": 218,
          "column": 1,
          "position": 1566
        },
        "endLoc": {
          "line": 244,
          "column": 4,
          "position": 1717
        }
      },
      "secondFile": {
        "name": "src/database/migrations/utilities/column-operations.service.ts",
        "start": 252,
        "end": 278,
        "startLoc": {
          "line": 252,
          "column": 1,
          "position": 1367
        },
        "endLoc": {
          "line": 278,
          "column": 2,
          "position": 1518
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    {\n      replacements: { tableName, columnName },\n    },\n  );\n\n  if (dialect === 'postgres') {\n    return (results[0] as any).exists;\n  } else {\n    return (results[0] as any).count > 0;\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/column-management.ts",
        "start": 237,
        "end": 248,
        "startLoc": {
          "line": 237,
          "column": 40,
          "position": 1665
        },
        "endLoc": {
          "line": 248,
          "column": 2,
          "position": 1754
        }
      },
      "secondFile": {
        "name": "src/database/migrations/services/column-operations.service.ts",
        "start": 225,
        "end": 236,
        "startLoc": {
          "line": 225,
          "column": 42,
          "position": 1610
        },
        "endLoc": {
          "line": 236,
          "column": 2,
          "position": 1700
        }
      }
    },
    {
      "format": "javascript",
      "lines": 12,
      "fragment": ",\n      ];\n\n      for (const index of indexes) {\n        console.log(`Dropping index ${index}...`);\n        await queryInterface.sequelize.query(`\n          DROP INDEX IF EXISTS \"${index}\";\n        `, { transaction });\n      }\n\n      await transaction.commit();\n      console.log('Covering indexes removed successfully!'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20251107120001-add-covering-indexes.js",
        "start": 207,
        "end": 218,
        "startLoc": {
          "line": 207,
          "column": 32,
          "position": 780
        },
        "endLoc": {
          "line": 218,
          "column": 41,
          "position": 858
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20251107120002-add-partial-indexes.js",
        "start": 286,
        "end": 297,
        "startLoc": {
          "line": 286,
          "column": 35,
          "position": 960
        },
        "endLoc": {
          "line": 297,
          "column": 40,
          "position": 1038
        }
      }
    },
    {
      "format": "javascript",
      "lines": 29,
      "fragment": "const paranoidTables = [\n      'users',\n      'students', \n      'contacts',\n      'districts',\n      'schools',\n      'allergies',\n      'appointments',\n      'conversations',\n      'clinical_notes',\n      'growth_tracking',\n      'health_records',\n      'health_screenings',\n      'immunizations',\n      'incident_reports',\n      'lab_results',\n      'clinic_visits',\n      'medical_history',\n      'chronic_conditions',\n      'medication_logs',\n      'mental_health_records',\n      'medications',\n      'message_deliveries',\n      'message_templates'\n    ];\n\n    for (const tableName of paranoidTables) {\n      try {\n        // Remove index first",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20251106130000-add-deleted-at-to-all-paranoid-tables.js",
        "start": 98,
        "end": 126,
        "startLoc": {
          "line": 98,
          "column": 5,
          "position": 547
        },
        "endLoc": {
          "line": 126,
          "column": 22,
          "position": 673
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20251106130000-add-deleted-at-to-all-paranoid-tables.js",
        "start": 15,
        "end": 43,
        "startLoc": {
          "line": 15,
          "column": 5,
          "position": 47
        },
        "endLoc": {
          "line": 43,
          "column": 25,
          "position": 173
        }
      }
    },
    {
      "format": "javascript",
      "lines": 21,
      "fragment": "}\n      ];\n\n      // Remove each index if it exists\n      for (const { table, index } of indexesToRemove) {\n        const [indexExists] = await queryInterface.sequelize.query(\n          `SELECT indexname FROM pg_indexes\n           WHERE tablename = '${table}'\n           AND indexname = '${index}'`,\n          { transaction }\n        );\n\n        if (indexExists.length > 0) {\n          await queryInterface.removeIndex(table, index, { transaction });\n          console.log(`[MIGRATION ROLLBACK] Removed index: ${index} from ${table}`);\n        } else {\n          console.log(`[MIGRATION ROLLBACK] Index does not exist: ${index}`);\n        }\n      }\n\n      // Audit log entry for compliance",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20251106000001-add-missing-critical-indexes.js",
        "start": 371,
        "end": 391,
        "startLoc": {
          "line": 371,
          "column": 2,
          "position": 1991
        },
        "endLoc": {
          "line": 391,
          "column": 34,
          "position": 2146
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20251106000003-add-fulltext-search-indexes.js",
        "start": 408,
        "end": 428,
        "startLoc": {
          "line": 408,
          "column": 2,
          "position": 1891
        },
        "endLoc": {
          "line": 428,
          "column": 84,
          "position": 2046
        }
      }
    },
    {
      "format": "javascript",
      "lines": 14,
      "fragment": ");\n\n    } catch (error) {\n      await transaction.rollback();\n      console.error(' Migration failed:', error);\n      throw error;\n    }\n  },\n\n  down: async (queryInterface, Sequelize) => {\n    const transaction = await queryInterface.sequelize.transaction();\n\n    try {\n      // Drop indexes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20251009013303-enhance-system-configuration.js",
        "start": 272,
        "end": 285,
        "startLoc": {
          "line": 272,
          "column": 61,
          "position": 1603
        },
        "endLoc": {
          "line": 285,
          "column": 16,
          "position": 1696
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20251011000000-performance-indexes.js",
        "start": 582,
        "end": 595,
        "startLoc": {
          "line": 582,
          "column": 45,
          "position": 3022
        },
        "endLoc": {
          "line": 595,
          "column": 28,
          "position": 3115
        }
      }
    },
    {
      "format": "javascript",
      "lines": 14,
      "fragment": ");\n\n    } catch (error) {\n      await transaction.rollback();\n      console.error(' Migration failed:', error);\n      throw error;\n    }\n  },\n\n  down: async (queryInterface, Sequelize) => {\n    const transaction = await queryInterface.sequelize.transaction();\n\n    try {\n      // Drop table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000003-create-system-configuration.js",
        "start": 272,
        "end": 285,
        "startLoc": {
          "line": 272,
          "column": 31,
          "position": 1746
        },
        "endLoc": {
          "line": 285,
          "column": 14,
          "position": 1839
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20251011000000-performance-indexes.js",
        "start": 582,
        "end": 595,
        "startLoc": {
          "line": 582,
          "column": 45,
          "position": 3022
        },
        "endLoc": {
          "line": 595,
          "column": 28,
          "position": 3115
        }
      }
    },
    {
      "format": "javascript",
      "lines": 15,
      "fragment": "},\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 3: Create student_medications Table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 146,
        "end": 160,
        "startLoc": {
          "line": 146,
          "column": 9,
          "position": 711
        },
        "endLoc": {
          "line": 160,
          "column": 44,
          "position": 804
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000003-create-system-configuration.js",
        "start": 101,
        "end": 115,
        "startLoc": {
          "line": 101,
          "column": 9,
          "position": 504
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 597
        }
      }
    },
    {
      "format": "javascript",
      "lines": 27,
      "fragment": "},\n        notes: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        createdBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 4: Create medication_logs Table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 246,
        "end": 272,
        "startLoc": {
          "line": 246,
          "column": 9,
          "position": 1362
        },
        "endLoc": {
          "line": 272,
          "column": 40,
          "position": 1530
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 134,
        "end": 115,
        "startLoc": {
          "line": 134,
          "column": 9,
          "position": 636
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 597
        }
      }
    },
    {
      "format": "javascript",
      "lines": 18,
      "fragment": ", {\n        id: {\n          type: Sequelize.UUID,\n          primaryKey: true,\n          allowNull: false,\n          defaultValue: Sequelize.literal('gen_random_uuid()')\n        },\n        studentId: {\n          type: Sequelize.UUID,\n          allowNull: false,\n          references: {\n            model: 'students',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'CASCADE'\n        },\n        reportedById",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 349,
        "end": 366,
        "startLoc": {
          "line": 349,
          "column": 19,
          "position": 2014
        },
        "endLoc": {
          "line": 366,
          "column": 13,
          "position": 2125
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 163,
        "end": 180,
        "startLoc": {
          "line": 163,
          "column": 22,
          "position": 818
        },
        "endLoc": {
          "line": 180,
          "column": 13,
          "position": 929
        }
      }
    },
    {
      "format": "javascript",
      "lines": 23,
      "fragment": "},\n        createdBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 6: Create emergency_contacts Table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 443,
        "end": 465,
        "startLoc": {
          "line": 443,
          "column": 9,
          "position": 2651
        },
        "endLoc": {
          "line": 465,
          "column": 43,
          "position": 2794
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 138,
        "end": 115,
        "startLoc": {
          "line": 138,
          "column": 9,
          "position": 661
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 597
        }
      }
    },
    {
      "format": "javascript",
      "lines": 18,
      "fragment": ", {\n        id: {\n          type: Sequelize.UUID,\n          primaryKey: true,\n          allowNull: false,\n          defaultValue: Sequelize.literal('gen_random_uuid()')\n        },\n        studentId: {\n          type: Sequelize.UUID,\n          allowNull: false,\n          references: {\n            model: 'students',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'CASCADE'\n        },\n        name",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 468,
        "end": 485,
        "startLoc": {
          "line": 468,
          "column": 21,
          "position": 2808
        },
        "endLoc": {
          "line": 485,
          "column": 5,
          "position": 2919
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 163,
        "end": 180,
        "startLoc": {
          "line": 163,
          "column": 22,
          "position": 818
        },
        "endLoc": {
          "line": 180,
          "column": 13,
          "position": 929
        }
      }
    },
    {
      "format": "javascript",
      "lines": 28,
      "fragment": ": true\n        },\n        notes: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        createdBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 7: Create Indexes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 536,
        "end": 563,
        "startLoc": {
          "line": 536,
          "column": 13,
          "position": 3263
        },
        "endLoc": {
          "line": 563,
          "column": 26,
          "position": 3436
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 245,
        "end": 115,
        "startLoc": {
          "line": 245,
          "column": 10,
          "position": 1357
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 597
        }
      }
    },
    {
      "format": "javascript",
      "lines": 14,
      "fragment": ");\n\n    } catch (error) {\n      await transaction.rollback();\n      console.error(' Migration failed:', error);\n      throw error;\n    }\n  },\n\n  down: async (queryInterface, Sequelize) => {\n    const transaction = await queryInterface.sequelize.transaction();\n\n    try {\n      // Drop tables in reverse order",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 647,
        "end": 660,
        "startLoc": {
          "line": 647,
          "column": 64,
          "position": 3971
        },
        "endLoc": {
          "line": 660,
          "column": 32,
          "position": 4064
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20251011000000-performance-indexes.js",
        "start": 582,
        "end": 595,
        "startLoc": {
          "line": 582,
          "column": 45,
          "position": 3022
        },
        "endLoc": {
          "line": 595,
          "column": 28,
          "position": 3115
        }
      }
    },
    {
      "format": "javascript",
      "lines": 18,
      "fragment": ", {\n        id: {\n          type: Sequelize.UUID,\n          primaryKey: true,\n          allowNull: false,\n          defaultValue: Sequelize.literal('gen_random_uuid()')\n        },\n        studentId: {\n          type: Sequelize.UUID,\n          allowNull: false,\n          references: {\n            model: 'students',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'CASCADE'\n        },\n        recordType",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 101,
        "end": 118,
        "startLoc": {
          "line": 101,
          "column": 17,
          "position": 157
        },
        "endLoc": {
          "line": 118,
          "column": 11,
          "position": 268
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 163,
        "end": 180,
        "startLoc": {
          "line": 163,
          "column": 22,
          "position": 818
        },
        "endLoc": {
          "line": 180,
          "column": 13,
          "position": 929
        }
      }
    },
    {
      "format": "javascript",
      "lines": 27,
      "fragment": ": {\n          type: Sequelize.BOOLEAN,\n          allowNull: false,\n          defaultValue: false\n        },\n        notes: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        createdBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 193,
        "end": 219,
        "startLoc": {
          "line": 193,
          "column": 15,
          "position": 809
        },
        "endLoc": {
          "line": 219,
          "column": 2,
          "position": 986
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 130,
        "end": 157,
        "startLoc": {
          "line": 130,
          "column": 20,
          "position": 609
        },
        "endLoc": {
          "line": 157,
          "column": 2,
          "position": 788
        }
      }
    },
    {
      "format": "javascript",
      "lines": 18,
      "fragment": ", {\n        id: {\n          type: Sequelize.UUID,\n          primaryKey: true,\n          allowNull: false,\n          defaultValue: Sequelize.literal('gen_random_uuid()')\n        },\n        studentId: {\n          type: Sequelize.UUID,\n          allowNull: false,\n          references: {\n            model: 'students',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'CASCADE'\n        },\n        allergen",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 231,
        "end": 248,
        "startLoc": {
          "line": 231,
          "column": 12,
          "position": 1050
        },
        "endLoc": {
          "line": 248,
          "column": 9,
          "position": 1161
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 163,
        "end": 180,
        "startLoc": {
          "line": 163,
          "column": 22,
          "position": 818
        },
        "endLoc": {
          "line": 180,
          "column": 13,
          "position": 929
        }
      }
    },
    {
      "format": "javascript",
      "lines": 24,
      "fragment": ": true\n        },\n        createdBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        deletedAt: {\n          type: Sequelize.DATE,\n          allowNull: true\n        }",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 278,
        "end": 301,
        "startLoc": {
          "line": 278,
          "column": 13,
          "position": 1373
        },
        "endLoc": {
          "line": 301,
          "column": 2,
          "position": 1527
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 137,
        "end": 222,
        "startLoc": {
          "line": 137,
          "column": 10,
          "position": 656
        },
        "endLoc": {
          "line": 222,
          "column": 2,
          "position": 1008
        }
      }
    },
    {
      "format": "javascript",
      "lines": 18,
      "fragment": ", {\n        id: {\n          type: Sequelize.UUID,\n          primaryKey: true,\n          allowNull: false,\n          defaultValue: Sequelize.literal('gen_random_uuid()')\n        },\n        studentId: {\n          type: Sequelize.UUID,\n          allowNull: false,\n          references: {\n            model: 'students',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'CASCADE'\n        },\n        conditionName",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 308,
        "end": 325,
        "startLoc": {
          "line": 308,
          "column": 21,
          "position": 1560
        },
        "endLoc": {
          "line": 325,
          "column": 14,
          "position": 1671
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 163,
        "end": 180,
        "startLoc": {
          "line": 163,
          "column": 22,
          "position": 818
        },
        "endLoc": {
          "line": 180,
          "column": 13,
          "position": 929
        }
      }
    },
    {
      "format": "javascript",
      "lines": 34,
      "fragment": ": {\n          type: Sequelize.DATE,\n          allowNull: true\n        },\n        notes: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        createdBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        deletedAt: {\n          type: Sequelize.DATE,\n          allowNull: true\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 5: Create appointments Table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 347,
        "end": 380,
        "startLoc": {
          "line": 347,
          "column": 15,
          "position": 1817
        },
        "endLoc": {
          "line": 380,
          "column": 37,
          "position": 2030
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 243,
        "end": 305,
        "startLoc": {
          "line": 243,
          "column": 12,
          "position": 1342
        },
        "endLoc": {
          "line": 305,
          "column": 43,
          "position": 1546
        }
      }
    },
    {
      "format": "javascript",
      "lines": 18,
      "fragment": ", {\n        id: {\n          type: Sequelize.UUID,\n          primaryKey: true,\n          allowNull: false,\n          defaultValue: Sequelize.literal('gen_random_uuid()')\n        },\n        studentId: {\n          type: Sequelize.UUID,\n          allowNull: false,\n          references: {\n            model: 'students',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'CASCADE'\n        },\n        nurseId",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 383,
        "end": 400,
        "startLoc": {
          "line": 383,
          "column": 15,
          "position": 2044
        },
        "endLoc": {
          "line": 400,
          "column": 8,
          "position": 2155
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 163,
        "end": 180,
        "startLoc": {
          "line": 163,
          "column": 22,
          "position": 818
        },
        "endLoc": {
          "line": 180,
          "column": 13,
          "position": 929
        }
      }
    },
    {
      "format": "javascript",
      "lines": 26,
      "fragment": ": {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        createdBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.UUID,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 6: Create Basic Indexes",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 441,
        "end": 466,
        "startLoc": {
          "line": 441,
          "column": 19,
          "position": 2435
        },
        "endLoc": {
          "line": 466,
          "column": 32,
          "position": 2598
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 135,
        "end": 115,
        "startLoc": {
          "line": 135,
          "column": 6,
          "position": 641
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 597
        }
      }
    },
    {
      "format": "javascript",
      "lines": 15,
      "fragment": ");\n\n    } catch (error) {\n      await transaction.rollback();\n      console.error(' Migration failed:', error);\n      throw error;\n    }\n  },\n\n  down: async (queryInterface, Sequelize) => {\n    const transaction = await queryInterface.sequelize.transaction();\n\n    try {\n      // Drop tables in reverse order\n      await queryInterface.dropTable('appointments'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 524,
        "end": 538,
        "startLoc": {
          "line": 524,
          "column": 57,
          "position": 2968
        },
        "endLoc": {
          "line": 538,
          "column": 15,
          "position": 3070
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20251011000000-performance-indexes.js",
        "start": 582,
        "end": 661,
        "startLoc": {
          "line": 582,
          "column": 45,
          "position": 3022
        },
        "endLoc": {
          "line": 661,
          "column": 21,
          "position": 4073
        }
      }
    },
    {
      "format": "javascript",
      "lines": 15,
      "fragment": "},\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 3: Create schools Table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000000-create-base-schema.js",
        "start": 129,
        "end": 143,
        "startLoc": {
          "line": 129,
          "column": 9,
          "position": 525
        },
        "endLoc": {
          "line": 143,
          "column": 32,
          "position": 618
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000003-create-system-configuration.js",
        "start": 101,
        "end": 115,
        "startLoc": {
          "line": 101,
          "column": 9,
          "position": 504
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 597
        }
      }
    },
    {
      "format": "javascript",
      "lines": 15,
      "fragment": "},\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 4: Create users Table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000000-create-base-schema.js",
        "start": 220,
        "end": 234,
        "startLoc": {
          "line": 220,
          "column": 9,
          "position": 1136
        },
        "endLoc": {
          "line": 234,
          "column": 30,
          "position": 1229
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000003-create-system-configuration.js",
        "start": 101,
        "end": 115,
        "startLoc": {
          "line": 101,
          "column": 9,
          "position": 504
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 597
        }
      }
    },
    {
      "format": "javascript",
      "lines": 15,
      "fragment": "},\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 5: Create students Table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000000-create-base-schema.js",
        "start": 357,
        "end": 371,
        "startLoc": {
          "line": 357,
          "column": 9,
          "position": 2052
        },
        "endLoc": {
          "line": 371,
          "column": 33,
          "position": 2145
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000003-create-system-configuration.js",
        "start": 101,
        "end": 115,
        "startLoc": {
          "line": 101,
          "column": 9,
          "position": 504
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 597
        }
      }
    },
    {
      "format": "javascript",
      "lines": 20,
      "fragment": "},\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        deletedAt: {\n          type: Sequelize.DATE,\n          allowNull: true,\n          comment: 'Soft delete timestamp for HIPAA compliance'\n        }\n      }, { transaction });\n\n      // =====================================================\n      // STEP 6: Create contacts Table",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000000-create-base-schema.js",
        "start": 472,
        "end": 491,
        "startLoc": {
          "line": 472,
          "column": 9,
          "position": 2823
        },
        "endLoc": {
          "line": 491,
          "column": 33,
          "position": 2948
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 209,
        "end": 228,
        "startLoc": {
          "line": 209,
          "column": 9,
          "position": 911
        },
        "endLoc": {
          "line": 228,
          "column": 34,
          "position": 1036
        }
      }
    },
    {
      "format": "javascript",
      "lines": 15,
      "fragment": "},\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        deletedAt: {\n          type: Sequelize.DATE,\n          allowNull: true,\n          comment: 'Soft delete timestamp'",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000000-create-base-schema.js",
        "start": 579,
        "end": 593,
        "startLoc": {
          "line": 579,
          "column": 9,
          "position": 3561
        },
        "endLoc": {
          "line": 593,
          "column": 24,
          "position": 3664
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000001-create-health-records-core.js",
        "start": 209,
        "end": 223,
        "startLoc": {
          "line": 209,
          "column": 9,
          "position": 911
        },
        "endLoc": {
          "line": 223,
          "column": 45,
          "position": 1014
        }
      }
    },
    {
      "format": "javascript",
      "lines": 14,
      "fragment": ");\n\n    } catch (error) {\n      await transaction.rollback();\n      console.error(' Migration failed:', error);\n      throw error;\n    }\n  },\n\n  down: async (queryInterface, Sequelize) => {\n    const transaction = await queryInterface.sequelize.transaction();\n\n    try {\n      // Drop tables in reverse order of creation (respecting foreign key constraints)",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/20250103000000-create-base-schema.js",
        "start": 721,
        "end": 734,
        "startLoc": {
          "line": 721,
          "column": 49,
          "position": 4483
        },
        "endLoc": {
          "line": 734,
          "column": 81,
          "position": 4576
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20251011000000-performance-indexes.js",
        "start": 582,
        "end": 595,
        "startLoc": {
          "line": 582,
          "column": 45,
          "position": 3022
        },
        "endLoc": {
          "line": 595,
          "column": 28,
          "position": 3115
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n    minimum: 1,\n    maximum: 50,\n    default: 5,\n    required: false,\n  })\n  @Type(() => Number)\n  @IsNumber()\n  @Min(1)\n  @Max(50)\n  @IsOptional()\n  limit?: number = 5;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/dashboard/dto/get-recent-activities.dto.ts",
        "start": 10,
        "end": 22,
        "startLoc": {
          "line": 10,
          "column": 41,
          "position": 70
        },
        "endLoc": {
          "line": 22,
          "column": 2,
          "position": 154
        }
      },
      "secondFile": {
        "name": "src/dashboard/dto/get-upcoming-appointments.dto.ts",
        "start": 10,
        "end": 22,
        "startLoc": {
          "line": 10,
          "column": 43,
          "position": 70
        },
        "endLoc": {
          "line": 22,
          "column": 2,
          "position": 154
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n      });\n\n      // Create map for O(1) lookup\n      const contactMap = new Map(contacts.map((c) => [c.id, c]));\n\n      // Return in same order as input, null for missing\n      return ids.map((id) => contactMap.get(id) || null);\n    } catch (error) {\n      this.logger.error(\n        `Failed to batch fetch emergency contacts: ${error.message}`,\n      )",
      "tokens": 0,
      "firstFile": {
        "name": "src/contact/services/emergency-contact.service.ts",
        "start": 319,
        "end": 330,
        "startLoc": {
          "line": 319,
          "column": 2,
          "position": 2162
        },
        "endLoc": {
          "line": 330,
          "column": 2,
          "position": 2266
        }
      },
      "secondFile": {
        "name": "src/emergency-contact/services/contact-statistics.service.ts",
        "start": 167,
        "end": 178,
        "startLoc": {
          "line": 167,
          "column": 2,
          "position": 911
        },
        "endLoc": {
          "line": 178,
          "column": 6,
          "position": 1015
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "async findByStudentIds(\n    studentIds: string[],\n  ): Promise<EmergencyContact[][]> {\n    try {\n      const contacts = await this.emergencyContactModel.findAll({\n        where: {\n          studentId: { [Op.in]: studentIds },\n          isActive: true,\n        },\n        order: [\n          ['priority', 'ASC'],\n          ['createdAt'",
      "tokens": 0,
      "firstFile": {
        "name": "src/contact/services/emergency-contact.service.ts",
        "start": 347,
        "end": 358,
        "startLoc": {
          "line": 347,
          "column": 3,
          "position": 2291
        },
        "endLoc": {
          "line": 358,
          "column": 12,
          "position": 2394
        }
      },
      "secondFile": {
        "name": "src/emergency-contact/services/contact-statistics.service.ts",
        "start": 197,
        "end": 208,
        "startLoc": {
          "line": 197,
          "column": 3,
          "position": 1054
        },
        "endLoc": {
          "line": 208,
          "column": 12,
          "position": 1157
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "})\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    example: 20,\n    description: 'Items per page',\n    default: 20,\n  })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  limit?: number = 20;\n\n  @",
      "tokens": 0,
      "firstFile": {
        "name": "src/contact/dto/contact-query.dto.ts",
        "start": 45,
        "end": 64,
        "startLoc": {
          "line": 45,
          "column": 2,
          "position": 326
        },
        "endLoc": {
          "line": 64,
          "column": 2,
          "position": 456
        }
      },
      "secondFile": {
        "name": "src/contact/dto/emergency-contact-query.dto.ts",
        "start": 48,
        "end": 66,
        "startLoc": {
          "line": 48,
          "column": 3,
          "position": 306
        },
        "endLoc": {
          "line": 66,
          "column": 2,
          "position": 434
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "},\n        include: [\n          {\n            model: this.configModel,\n            as: 'configuration',\n          },\n        ],\n        order: [['createdAt', 'DESC']],\n        limit,\n      });\n\n      return history;\n    } catch (error) {\n      this.logger.error(`Error fetching user changes for ",
      "tokens": 0,
      "firstFile": {
        "name": "src/configuration/services/config-history.service.ts",
        "start": 88,
        "end": 101,
        "startLoc": {
          "line": 88,
          "column": 2,
          "position": 598
        },
        "endLoc": {
          "line": 101,
          "column": 34,
          "position": 682
        }
      },
      "secondFile": {
        "name": "src/configuration/services/config-history.service.ts",
        "start": 61,
        "end": 74,
        "startLoc": {
          "line": 61,
          "column": 2,
          "position": 417
        },
        "endLoc": {
          "line": 74,
          "column": 29,
          "position": 501
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "},\n        include: [\n          {\n            model: this.configModel,\n            as: 'configuration',\n          },\n        ],\n        order: [['createdAt', 'DESC']],\n        limit,\n      });\n\n      return history;\n    } catch (error) {\n      this.logger.error('Error fetching changes by date range:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/configuration/services/config-history.service.ts",
        "start": 143,
        "end": 156,
        "startLoc": {
          "line": 143,
          "column": 9,
          "position": 955
        },
        "endLoc": {
          "line": 156,
          "column": 40,
          "position": 1039
        }
      },
      "secondFile": {
        "name": "src/configuration/services/config-history.service.ts",
        "start": 61,
        "end": 74,
        "startLoc": {
          "line": 61,
          "column": 2,
          "position": 417
        },
        "endLoc": {
          "line": 74,
          "column": 29,
          "position": 501
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "},\n      1,\n      100,\n    );\n\n    return {\n      compliant:\n        reports.data.filter((r) => r.status === 'COMPLIANT').length > 0,\n      recentReports: reports.data.slice(0, 5),\n      openViolations: violations.data.filter((v) => v.status !== 'RESOLVED')\n        .length,\n      lastReviewDate: reports.data[0]?.reviewedAt || null,\n    };\n  }\n\n  async getComplianceDashboard",
      "tokens": 0,
      "firstFile": {
        "name": "src/compliance/services/statistics.service.ts",
        "start": 92,
        "end": 107,
        "startLoc": {
          "line": 92,
          "column": 2,
          "position": 980
        },
        "endLoc": {
          "line": 107,
          "column": 23,
          "position": 1111
        }
      },
      "secondFile": {
        "name": "src/compliance/services/statistics.service.ts",
        "start": 70,
        "end": 85,
        "startLoc": {
          "line": 70,
          "column": 2,
          "position": 780
        },
        "endLoc": {
          "line": 85,
          "column": 15,
          "position": 911
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "(filters: any = {}) {\n    const whereClause: any = {};\n\n    if (filters.category) {\n      whereClause.category = filters.category;\n    }\n    if (filters.status) {\n      whereClause.status = filters.status;\n    }\n\n    return this.dataRetentionModel",
      "tokens": 0,
      "firstFile": {
        "name": "src/compliance/repositories/data-retention.repository.ts",
        "start": 12,
        "end": 22,
        "startLoc": {
          "line": 12,
          "column": 8,
          "position": 91
        },
        "endLoc": {
          "line": 22,
          "column": 19,
          "position": 178
        }
      },
      "secondFile": {
        "name": "src/compliance/repositories/policy.repository.ts",
        "start": 18,
        "end": 28,
        "startLoc": {
          "line": 18,
          "column": 16,
          "position": 130
        },
        "endLoc": {
          "line": 28,
          "column": 12,
          "position": 217
        }
      }
    },
    {
      "format": "typescript",
      "lines": 37,
      "fragment": "export enum DisclosureType {\n  TREATMENT = 'TREATMENT',\n  PAYMENT = 'PAYMENT',\n  HEALTHCARE_OPERATIONS = 'HEALTHCARE_OPERATIONS',\n  AUTHORIZATION = 'AUTHORIZATION',\n  REQUIRED_BY_LAW = 'REQUIRED_BY_LAW',\n  PUBLIC_HEALTH = 'PUBLIC_HEALTH',\n  RESEARCH = 'RESEARCH',\n}\n\nexport enum DisclosurePurpose {\n  TREATMENT = 'TREATMENT',\n  PAYMENT = 'PAYMENT',\n  OPERATIONS = 'OPERATIONS',\n  LEGAL_REQUIREMENT = 'LEGAL_REQUIREMENT',\n  PUBLIC_HEALTH = 'PUBLIC_HEALTH',\n  RESEARCH = 'RESEARCH',\n  PATIENT_REQUEST = 'PATIENT_REQUEST',\n}\n\nexport enum DisclosureMethod {\n  VERBAL = 'VERBAL',\n  WRITTEN = 'WRITTEN',\n  ELECTRONIC = 'ELECTRONIC',\n  FAX = 'FAX',\n  PHONE = 'PHONE',\n}\n\nexport enum RecipientType {\n  HEALTHCARE_PROVIDER = 'HEALTHCARE_PROVIDER',\n  INSURANCE = 'INSURANCE',\n  PARENT_GUARDIAN = 'PARENT_GUARDIAN',\n  SCHOOL_OFFICIAL = 'SCHOOL_OFFICIAL',\n  GOVERNMENT_AGENCY = 'GOVERNMENT_AGENCY',\n  RESEARCHER = 'RESEARCHER',\n  OTHER = 'OTHER',\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/compliance/enums/index.ts",
        "start": 86,
        "end": 122,
        "startLoc": {
          "line": 86,
          "column": 1,
          "position": 503
        },
        "endLoc": {
          "line": 122,
          "column": 2,
          "position": 752
        }
      },
      "secondFile": {
        "name": "src/database/models/phi-disclosure.model.ts",
        "start": 15,
        "end": 51,
        "startLoc": {
          "line": 15,
          "column": 1,
          "position": 69
        },
        "endLoc": {
          "line": 51,
          "column": 2,
          "position": 318
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ");\n\n    const offset = ((dto.page || 1) - 1) * (dto.limit || 20);\n    const limit = dto.limit || 20;\n\n    // Query messages\n    const { rows: messages, count: total } = await this.messageModel.findAndCountAll({\n      where,\n      offset,\n      limit,\n      order: [['createdAt', 'DESC'",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/services/message-query.service.ts",
        "start": 91,
        "end": 101,
        "startLoc": {
          "line": 91,
          "column": 2,
          "position": 722
        },
        "endLoc": {
          "line": 101,
          "column": 7,
          "position": 833
        }
      },
      "secondFile": {
        "name": "src/communication/services/message-query.service.ts",
        "start": 49,
        "end": 59,
        "startLoc": {
          "line": 49,
          "column": 7,
          "position": 331
        },
        "endLoc": {
          "line": 59,
          "column": 4,
          "position": 442
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const { rows: messages, count: total } = await this.messageModel.findAndCountAll({\n      where,\n      offset,\n      limit,\n      order: [['createdAt', 'DESC']],\n    });\n\n    return {\n      messages: messages.map((m) => m.toJSON()),\n      pagination: {\n        page:",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/services/message-query.service.ts",
        "start": 97,
        "end": 107,
        "startLoc": {
          "line": 97,
          "column": 5,
          "position": 783
        },
        "endLoc": {
          "line": 107,
          "column": 2,
          "position": 879
        }
      },
      "secondFile": {
        "name": "src/communication/services/message.service.ts",
        "start": 90,
        "end": 101,
        "startLoc": {
          "line": 90,
          "column": 5,
          "position": 808
        },
        "endLoc": {
          "line": 101,
          "column": 2,
          "position": 905
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "],\n    });\n\n    return {\n      messages: messages.map((m) => m.toJSON()),\n      pagination: {\n        page: dto.page || 1,\n        limit,\n        total,\n        pages: Math.ceil(total / limit),\n      },\n      query",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/services/message-query.service.ts",
        "start": 101,
        "end": 112,
        "startLoc": {
          "line": 101,
          "column": 2,
          "position": 835
        },
        "endLoc": {
          "line": 112,
          "column": 6,
          "position": 919
        }
      },
      "secondFile": {
        "name": "src/communication/services/message-query.service.ts",
        "start": 66,
        "end": 77,
        "startLoc": {
          "line": 66,
          "column": 7,
          "position": 494
        },
        "endLoc": {
          "line": 77,
          "column": 2,
          "position": 578
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ";\n  }\n\n  /**\n   * Check if user is a participant in a conversation\n   */\n  private async isConversationParticipant(\n    conversationId: string,\n    userId: string,\n  ): Promise<boolean> {\n    const participant = await this.participantModel.findOne({\n      where: { conversationId, userId },\n    });\n    return !!participant;\n  }\n\n  /**\n   * Update participant's last read timestamp\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/services/message-query.service.ts",
        "start": 306,
        "end": 324,
        "startLoc": {
          "line": 306,
          "column": 2,
          "position": 2475
        },
        "endLoc": {
          "line": 324,
          "column": 6,
          "position": 2566
        }
      },
      "secondFile": {
        "name": "src/communication/services/message-sender.service.ts",
        "start": 280,
        "end": 298,
        "startLoc": {
          "line": 280,
          "column": 13,
          "position": 2105
        },
        "endLoc": {
          "line": 298,
          "column": 6,
          "position": 2196
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ";\n\nexport enum MessagePriority {\n  LOW = 'LOW',\n  MEDIUM = 'MEDIUM',\n  HIGH = 'HIGH',\n  URGENT = 'URGENT',\n}\n\nexport enum MessageCategory {\n  EMERGENCY = 'EMERGENCY',\n  HEALTH_UPDATE = 'HEALTH_UPDATE',\n  APPOINTMENT_REMINDER = 'APPOINTMENT_REMINDER',\n  MEDICATION_REMINDER = 'MEDICATION_REMINDER',\n  GENERAL = 'GENERAL',\n  INCIDENT_NOTIFICATION = 'INCIDENT_NOTIFICATION',\n  COMPLIANCE = 'COMPLIANCE',\n}\n\nexport enum",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/dto/send-message.dto.ts",
        "start": 15,
        "end": 34,
        "startLoc": {
          "line": 15,
          "column": 20,
          "position": 82
        },
        "endLoc": {
          "line": 34,
          "column": 5,
          "position": 197
        }
      },
      "secondFile": {
        "name": "src/database/models/message.model.ts",
        "start": 17,
        "end": 36,
        "startLoc": {
          "line": 17,
          "column": 12,
          "position": 78
        },
        "endLoc": {
          "line": 36,
          "column": 10,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n    example: 20,\n  })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  limit?: number = 20;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/dto/search-messages.dto.ts",
        "start": 101,
        "end": 113,
        "startLoc": {
          "line": 101,
          "column": 27,
          "position": 547
        },
        "endLoc": {
          "line": 113,
          "column": 2,
          "position": 631
        }
      },
      "secondFile": {
        "name": "src/document/dto/filter-documents.dto.ts",
        "start": 25,
        "end": 38,
        "startLoc": {
          "line": 25,
          "column": 31,
          "position": 181
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 267
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": "@ApiPropertyOptional({\n    description: 'Page number (1-indexed)',\n    minimum: 1,\n    default: 1,\n    example: 1,\n  })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    description: 'Number of items per page',\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n    example: 20,\n  })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  limit?: number = 20;\n\n  @ApiPropertyOptional({\n    description: 'Filter by conversation ID'",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/dto/message-pagination.dto.ts",
        "start": 24,
        "end": 51,
        "startLoc": {
          "line": 24,
          "column": 3,
          "position": 98
        },
        "endLoc": {
          "line": 51,
          "column": 28,
          "position": 285
        }
      },
      "secondFile": {
        "name": "src/communication/dto/search-messages.dto.ts",
        "start": 88,
        "end": 39,
        "startLoc": {
          "line": 88,
          "column": 3,
          "position": 455
        },
        "endLoc": {
          "line": 39,
          "column": 30,
          "position": 276
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ";\n\n  @ApiPropertyOptional({\n    description: 'Filter messages after this date (ISO 8601)',\n    example: '2025-10-01T00:00:00Z',\n  })\n  @IsOptional()\n  @IsDateString()\n  dateFrom?: string;\n\n  @ApiPropertyOptional({\n    description: 'Filter messages before this date (ISO 8601)',\n    example: '2025-10-31T23:59:59Z',\n  })\n  @IsOptional()\n  @IsDateString()\n  dateTo?: string;\n\n  @ApiPropertyOptional({\n    description: 'Sort order'",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/dto/message-pagination.dto.ts",
        "start": 64,
        "end": 83,
        "startLoc": {
          "line": 64,
          "column": 7,
          "position": 362
        },
        "endLoc": {
          "line": 83,
          "column": 13,
          "position": 465
        }
      },
      "secondFile": {
        "name": "src/communication/dto/search-messages.dto.ts",
        "start": 63,
        "end": 82,
        "startLoc": {
          "line": 63,
          "column": 2,
          "position": 322
        },
        "endLoc": {
          "line": 82,
          "column": 40,
          "position": 425
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n\n  @IsArray()\n  @ArrayMinSize(1)\n  @IsEnum(MessageType, { each: true })\n  channels: MessageType[];\n\n  @IsOptional()\n  @IsString()\n  subject?: string;\n\n  @IsString()\n  content: string;\n\n  @IsEnum(MessagePriority)\n  priority: MessagePriority;\n\n  @IsEnum(MessageCategory)\n  category: MessageCategory;\n\n  @IsString",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/dto/broadcast-message.dto.ts",
        "start": 44,
        "end": 64,
        "startLoc": {
          "line": 44,
          "column": 21,
          "position": 288
        },
        "endLoc": {
          "line": 64,
          "column": 9,
          "position": 398
        }
      },
      "secondFile": {
        "name": "src/communication/dto/create-message.dto.ts",
        "start": 13,
        "end": 33,
        "startLoc": {
          "line": 13,
          "column": 2,
          "position": 151
        },
        "endLoc": {
          "line": 33,
          "column": 11,
          "position": 261
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n  })\n  @ApiQuery({\n    name: 'page',\n    required: false,\n    type: 'number',\n    example: 1,\n    description: 'Page number for pagination',\n  })\n  @ApiQuery({\n    name: 'limit',\n    required: false,\n    type: 'number',\n    example: 20,\n    description: 'Items per page (max 100)'",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 442,
        "end": 456,
        "startLoc": {
          "line": 442,
          "column": 167,
          "position": 3818
        },
        "endLoc": {
          "line": 456,
          "column": 27,
          "position": 3907
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 57,
        "end": 71,
        "startLoc": {
          "line": 57,
          "column": 29,
          "position": 472
        },
        "endLoc": {
          "line": 71,
          "column": 17,
          "position": 561
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "},\n            },\n          },\n        },\n        pagination: {\n          type: 'object',\n          properties: {\n            page: { type: 'number' },\n            limit: { type: 'number' },\n            total: { type: 'number' },\n            pages: { type: 'number' },\n          },\n        },\n        analytics",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 514,
        "end": 527,
        "startLoc": {
          "line": 514,
          "column": 2,
          "position": 4414
        },
        "endLoc": {
          "line": 527,
          "column": 10,
          "position": 4513
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 95,
        "end": 108,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 814
        },
        "endLoc": {
          "line": 108,
          "column": 2,
          "position": 913
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", () => {\n    beforeEach((done) => {\n      clientSocket = ioc(`http://localhost:${serverPort}/communication`, {\n        transports: ['websocket'],\n        reconnection: false,\n      });\n\n      clientSocket.on('connect', done);\n    });\n\n    it('should emit delivery status to subscribed clients only'",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/__tests__/websocket.gateway.integration.spec.ts",
        "start": 194,
        "end": 204,
        "startLoc": {
          "line": 194,
          "column": 29,
          "position": 1532
        },
        "endLoc": {
          "line": 204,
          "column": 57,
          "position": 1611
        }
      },
      "secondFile": {
        "name": "src/communication/__tests__/websocket.gateway.integration.spec.ts",
        "start": 90,
        "end": 100,
        "startLoc": {
          "line": 90,
          "column": 32,
          "position": 746
        },
        "endLoc": {
          "line": 100,
          "column": 53,
          "position": 825
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", () => {\n    beforeEach((done) => {\n      clientSocket = ioc(`http://localhost:${serverPort}/communication`, {\n        transports: ['websocket'],\n        reconnection: false,\n      });\n\n      clientSocket.on('connect', done);\n    });\n\n    it('should maintain message order'",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/__tests__/websocket.gateway.integration.spec.ts",
        "start": 403,
        "end": 413,
        "startLoc": {
          "line": 403,
          "column": 43,
          "position": 3151
        },
        "endLoc": {
          "line": 413,
          "column": 32,
          "position": 3230
        }
      },
      "secondFile": {
        "name": "src/communication/__tests__/websocket.gateway.integration.spec.ts",
        "start": 90,
        "end": 100,
        "startLoc": {
          "line": 90,
          "column": 32,
          "position": 746
        },
        "endLoc": {
          "line": 100,
          "column": 53,
          "position": 825
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", () => {\n    beforeEach((done) => {\n      clientSocket = ioc(`http://localhost:${serverPort}/communication`, {\n        transports: ['websocket'],\n        reconnection: false,\n      });\n\n      clientSocket.on('connect', done);\n    });\n\n    it('should handle invalid subscription data'",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/__tests__/websocket.gateway.integration.spec.ts",
        "start": 486,
        "end": 496,
        "startLoc": {
          "line": 486,
          "column": 26,
          "position": 3793
        },
        "endLoc": {
          "line": 496,
          "column": 42,
          "position": 3872
        }
      },
      "secondFile": {
        "name": "src/communication/__tests__/websocket.gateway.integration.spec.ts",
        "start": 90,
        "end": 100,
        "startLoc": {
          "line": 90,
          "column": 32,
          "position": 746
        },
        "endLoc": {
          "line": 100,
          "column": 53,
          "position": 825
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "const sendMessageDto = {\n        recipients: [\n          {\n            type: RecipientType.PARENT,\n            id: mockRecipientId,\n            email: 'parent@example.com',\n          },\n        ],\n        channels: [MessageType.EMAIL],\n        subject: 'Test Message',\n        content: 'This is a test message',\n        priority: MessagePriority.MEDIUM,\n        category: MessageCategory.GENERAL,\n        senderId: mockUserId,\n      };\n\n      await",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/__tests__/message.service.integration.spec.ts",
        "start": 498,
        "end": 514,
        "startLoc": {
          "line": 498,
          "column": 7,
          "position": 4387
        },
        "endLoc": {
          "line": 514,
          "column": 6,
          "position": 4491
        }
      },
      "secondFile": {
        "name": "src/communication/__tests__/message.service.integration.spec.ts",
        "start": 81,
        "end": 97,
        "startLoc": {
          "line": 81,
          "column": 7,
          "position": 692
        },
        "endLoc": {
          "line": 97,
          "column": 5,
          "position": 796
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ", async () => {\n      const sendMessageDto = {\n        recipients: [\n          {\n            type: RecipientType.PARENT,\n            id: mockRecipientId,\n            email: 'parent@example.com',\n          },\n        ],\n        channels: [MessageType.EMAIL],\n        subject: 'Test Message',\n        content: 'This is a test message',\n        priority: MessagePriority.MEDIUM,\n        category: MessageCategory.GENERAL,\n      }",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/__tests__/message.controller.integration.spec.ts",
        "start": 83,
        "end": 97,
        "startLoc": {
          "line": 83,
          "column": 37,
          "position": 688
        },
        "endLoc": {
          "line": 97,
          "column": 2,
          "position": 792
        }
      },
      "secondFile": {
        "name": "src/communication/__tests__/message.service.integration.spec.ts",
        "start": 80,
        "end": 94,
        "startLoc": {
          "line": 80,
          "column": 57,
          "position": 680
        },
        "endLoc": {
          "line": 94,
          "column": 9,
          "position": 784
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", async () => {\n      const mockResponse = {\n        messages: [mockMessage],\n        pagination: { page: 1, limit: 20, total: 1, pages: 1 },\n      };\n\n      jest.spyOn(messageService, 'getMessages').mockResolvedValue(mockResponse);\n\n      await request(app.getHttpServer())\n        .get('/api/v1/messages')\n        .query({ category",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/__tests__/message.controller.integration.spec.ts",
        "start": 289,
        "end": 299,
        "startLoc": {
          "line": 289,
          "column": 37,
          "position": 2194
        },
        "endLoc": {
          "line": 299,
          "column": 9,
          "position": 2303
        }
      },
      "secondFile": {
        "name": "src/communication/__tests__/message.controller.integration.spec.ts",
        "start": 269,
        "end": 279,
        "startLoc": {
          "line": 269,
          "column": 37,
          "position": 2020
        },
        "endLoc": {
          "line": 279,
          "column": 9,
          "position": 2129
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", async () => {\n      const mockResponse = {\n        messages: [mockMessage],\n        pagination: { page: 1, limit: 20, total: 1, pages: 1 },\n      };\n\n      jest.spyOn(messageService, 'getMessages').mockResolvedValue(mockResponse);\n\n      await request(app.getHttpServer())\n        .get('/api/v1/messages')\n        .query({ priority",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/__tests__/message.controller.integration.spec.ts",
        "start": 309,
        "end": 319,
        "startLoc": {
          "line": 309,
          "column": 37,
          "position": 2372
        },
        "endLoc": {
          "line": 319,
          "column": 9,
          "position": 2481
        }
      },
      "secondFile": {
        "name": "src/communication/__tests__/message.controller.integration.spec.ts",
        "start": 269,
        "end": 279,
        "startLoc": {
          "line": 269,
          "column": 37,
          "position": 2020
        },
        "endLoc": {
          "line": 279,
          "column": 9,
          "position": 2129
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n      };\n\n      jest.spyOn(messageService, 'sendMessage').mockResolvedValue(mockResponse);\n\n      const response = await request(app.getHttpServer())\n        .post('/api/v1/messages')\n        .send(sendMessageDto)\n        .expect(201);\n\n      expect(response.body.",
      "tokens": 0,
      "firstFile": {
        "name": "src/communication/__tests__/message.controller.integration.spec.ts",
        "start": 525,
        "end": 535,
        "startLoc": {
          "line": 525,
          "column": 2,
          "position": 4190
        },
        "endLoc": {
          "line": 535,
          "column": 2,
          "position": 4262
        }
      },
      "secondFile": {
        "name": "src/communication/__tests__/message.controller.integration.spec.ts",
        "start": 101,
        "end": 111,
        "startLoc": {
          "line": 101,
          "column": 2,
          "position": 819
        },
        "endLoc": {
          "line": 111,
          "column": 2,
          "position": 891
        }
      }
    },
    {
      "format": "typescript",
      "lines": 82,
      "fragment": "/**\n * Result type for operations that may fail.\n * Inspired by functional programming Result/Either pattern.\n *\n * @template T - Success value type\n * @template E - Error type (defaults to Error)\n * @type Result\n * @category Functional Programming\n *\n * @example\n * ```typescript\n * function parseStudentNumber(input: string): Result<string, ValidationError> {\n *   if (input.length < 4) {\n *     return {\n *       success: false,\n *       error: new ValidationError('Student number too short')\n *     };\n *   }\n *   return {\n *     success: true,\n *     value: input.toUpperCase()\n *   };\n * }\n *\n * const result = parseStudentNumber('STU001');\n * if (result.success) {\n *   console.log(result.value); // 'STU001'\n * } else {\n *   console.error(result.error);\n * }\n * ```\n */\nexport type Result<T, E = Error> =\n  | { success: true; value: T }\n  | { success: false; error: E };\n\n/**\n * Represents a value that may or may not exist.\n * Safer alternative to null/undefined with explicit optionality.\n *\n * @template T - The wrapped value type\n * @type Optional\n * @category Functional Programming\n *\n * @example\n * ```typescript\n * function findStudentById(id: string): Optional<Student> {\n *   const student = database.get(id);\n *   return student ? { hasValue: true, value: student } : { hasValue: false };\n * }\n *\n * const result = findStudentById('uuid-1');\n * if (result.hasValue) {\n *   console.log(result.value.firstName);\n * } else {\n *   console.log('Student not found');\n * }\n * ```\n */\nexport type Optional<T> =\n  | { hasValue: true; value: T }\n  | { hasValue: false };\n\n/**\n * Type guard to check if a Result is successful.\n *\n * @template T - Success value type\n * @template E - Error type\n * @param {Result<T, E>} result - The result to check\n * @returns {boolean} true if result is successful\n *\n * @example\n * ```typescript\n * const result = parseStudentNumber('STU001');\n * if (isSuccess(result)) {\n *   // TypeScript knows result.value exists here\n *   console.log(result.value.toUpperCase());\n * }\n * ```\n *\n * @category Type Guards\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/types/functional.types.ts",
        "start": 10,
        "end": 91,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 91,
          "column": 4,
          "position": 106
        }
      },
      "secondFile": {
        "name": "src/common/types/utility-types.ts",
        "start": 162,
        "end": 251,
        "startLoc": {
          "line": 162,
          "column": 1,
          "position": 185
        },
        "endLoc": {
          "line": 251,
          "column": 4,
          "position": 288
        }
      }
    },
    {
      "format": "typescript",
      "lines": 69,
      "fragment": "};\n\n/**\n * Type guard to check if a Result is successful.\n *\n * @template T - Success value type\n * @template E - Error type\n * @param {Result<T, E>} result - The result to check\n * @returns {boolean} true if result is successful\n *\n * @example\n * ```typescript\n * const result = parseStudentNumber('STU001');\n * if (isSuccess(result)) {\n *   // TypeScript knows result.value exists here\n *   console.log(result.value.toUpperCase());\n * }\n * ```\n *\n * @category Type Guards\n */\nexport function isSuccess<T, E>(result: Result<T, E>): result is { success: true; value: T } {\n  return result.success === true;\n}\n\n/**\n * Type guard to check if a Result is an error.\n *\n * @template T - Success value type\n * @template E - Error type\n * @param {Result<T, E>} result - The result to check\n * @returns {boolean} true if result is an error\n *\n * @example\n * ```typescript\n * const result = parseStudentNumber('XYZ');\n * if (isError(result)) {\n *   // TypeScript knows result.error exists here\n *   console.error(result.error.message);\n * }\n * ```\n *\n * @category Type Guards\n */\nexport function isError<T, E>(result: Result<T, E>): result is { success: false; error: E } {\n  return result.success === false;\n}\n\n/**\n * Type guard to check if an Optional has a value.\n *\n * @template T - The wrapped value type\n * @param {Optional<T>} optional - The optional to check\n * @returns {boolean} true if optional has a value\n *\n * @example\n * ```typescript\n * const maybeStudent = findStudentById('uuid-1');\n * if (hasValue(maybeStudent)) {\n *   // TypeScript knows maybeStudent.value exists here\n *   console.log(maybeStudent.value.firstName);\n * }\n * ```\n *\n * @category Type Guards\n */\nexport function hasValue<T>(optional: Optional<T>): optional is { hasValue: true; value: T } {\n  return optional.hasValue === true;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/types/functional.types.ts",
        "start": 71,
        "end": 139,
        "startLoc": {
          "line": 71,
          "column": 2,
          "position": 102
        },
        "endLoc": {
          "line": 139,
          "column": 2,
          "position": 286
        }
      },
      "secondFile": {
        "name": "src/common/types/utility-types.ts",
        "start": 439,
        "end": 507,
        "startLoc": {
          "line": 439,
          "column": 1,
          "position": 626
        },
        "endLoc": {
          "line": 507,
          "column": 2,
          "position": 810
        }
      }
    },
    {
      "format": "typescript",
      "lines": 83,
      "fragment": "/**\n * Standardized API error response structure.\n *\n * @interface ApiError\n * @category Error Handling\n *\n * @property {string} code - Machine-readable error code (e.g., 'STUDENT_NOT_FOUND')\n * @property {string} message - Human-readable error message\n * @property {Record<string, unknown>} [details] - Additional error context\n * @property {Date} timestamp - When the error occurred\n * @property {string} [path] - API endpoint where error occurred\n *\n * @example\n * ```typescript\n * const error: ApiError = {\n *   code: 'VALIDATION_ERROR',\n *   message: 'Student number must be unique',\n *   details: {\n *     field: 'studentNumber',\n *     value: 'STU2025001',\n *     constraint: 'unique'\n *   },\n *   timestamp: new Date(),\n *   path: '/api/students'\n * };\n * ```\n */\nexport interface ApiError {\n  code: string;\n  message: string;\n  details?: Record<string, unknown>;\n  timestamp: Date;\n  path?: string;\n}\n\n/**\n * Generic API response wrapper with optional metadata.\n *\n * @template T - The response data type\n * @interface ApiResponse\n * @category API Response\n *\n * @property {boolean} success - Indicates if the operation succeeded\n * @property {T} [data] - Response data (present on success)\n * @property {ApiError} [error] - Error details (present on failure)\n * @property {Record<string, unknown>} [metadata] - Additional response metadata\n *\n * @example\n * ```typescript\n * // Success response\n * const successResponse: ApiResponse<Student> = {\n *   success: true,\n *   data: {\n *     id: 'uuid-1',\n *     firstName: 'John',\n *     lastName: 'Doe'\n *   },\n *   metadata: {\n *     processingTime: 45,\n *     cached: false\n *   }\n * };\n *\n * // Error response\n * const errorResponse: ApiResponse<Student> = {\n *   success: false,\n *   error: {\n *     code: 'STUDENT_NOT_FOUND',\n *     message: 'Student with ID uuid-999 not found',\n *     timestamp: new Date(),\n *     path: '/api/students/uuid-999'\n *   }\n * };\n * ```\n *\n * @see {@link ApiError}\n */\nexport interface ApiResponse<T> {\n  success: boolean;\n  data?: T;\n  error?: ApiError;\n  metadata?: Record<string, unknown>;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/types/api-response.types.ts",
        "start": 10,
        "end": 92,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 92,
          "column": 2,
          "position": 109
        }
      },
      "secondFile": {
        "name": "src/common/types/utility-types.ts",
        "start": 78,
        "end": 160,
        "startLoc": {
          "line": 78,
          "column": 1,
          "position": 76
        },
        "endLoc": {
          "line": 160,
          "column": 2,
          "position": 182
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ");\n  }\n\n  async recordHistogram(name: string, value: number, labels: Record<string, string> = {}): Promise<void> {\n    await this.recordMetric({\n      name,\n      type: MetricType.HISTOGRAM,\n      value,\n      labels,\n      timestamp: new Date()\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/monitoring/metrics.provider.ts",
        "start": 193,
        "end": 203,
        "startLoc": {
          "line": 193,
          "column": 2,
          "position": 1622
        },
        "endLoc": {
          "line": 203,
          "column": 2,
          "position": 1712
        }
      },
      "secondFile": {
        "name": "src/common/monitoring/metrics.provider.ts",
        "start": 108,
        "end": 117,
        "startLoc": {
          "line": 108,
          "column": 9,
          "position": 772
        },
        "endLoc": {
          "line": 117,
          "column": 2,
          "position": 860
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "});\n  }\n\n  async recordCounter(name: string, value: number = 1, labels: Record<string, string> = {}): Promise<void> {\n    await this.recordMetric({\n      name,\n      type: MetricType.COUNTER,\n      value,\n      labels,\n      timestamp: new Date()\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/monitoring/metrics.provider.ts",
        "start": 203,
        "end": 213,
        "startLoc": {
          "line": 203,
          "column": 5,
          "position": 1712
        },
        "endLoc": {
          "line": 213,
          "column": 2,
          "position": 1807
        }
      },
      "secondFile": {
        "name": "src/common/monitoring/metrics.provider.ts",
        "start": 119,
        "end": 128,
        "startLoc": {
          "line": 119,
          "column": 5,
          "position": 873
        },
        "endLoc": {
          "line": 128,
          "column": 2,
          "position": 966
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "});\n  }\n\n  async recordGauge(name: string, value: number, labels: Record<string, string> = {}): Promise<void> {\n    await this.recordMetric({\n      name,\n      type: MetricType.GAUGE,\n      value,\n      labels,\n      timestamp: new Date()\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/monitoring/metrics.provider.ts",
        "start": 213,
        "end": 223,
        "startLoc": {
          "line": 213,
          "column": 5,
          "position": 1807
        },
        "endLoc": {
          "line": 223,
          "column": 2,
          "position": 1898
        }
      },
      "secondFile": {
        "name": "src/common/monitoring/metrics.provider.ts",
        "start": 130,
        "end": 139,
        "startLoc": {
          "line": 130,
          "column": 5,
          "position": 979
        },
        "endLoc": {
          "line": 139,
          "column": 2,
          "position": 1068
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "});\n  }\n\n  async incrementCounter(name: string, labels: Record<string, string> = {}): Promise<void> {\n    await this.recordCounter(name, 1, labels);\n  }\n\n  async decrementGauge(name: string, labels: Record<string, string> = {}): Promise<void> {\n    await this.recordGauge(name, -1, labels);\n  }\n\n  startTimer(name: string, labels: Record<string, string> = {}): () => Promise<void> {\n    const startTime = Date.now();\n    return async () => {\n      const duration = (Date.now() - startTime) / 1000;\n      await",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/monitoring/metrics.provider.ts",
        "start": 223,
        "end": 238,
        "startLoc": {
          "line": 223,
          "column": 5,
          "position": 1898
        },
        "endLoc": {
          "line": 238,
          "column": 6,
          "position": 2111
        }
      },
      "secondFile": {
        "name": "src/common/monitoring/metrics.provider.ts",
        "start": 141,
        "end": 155,
        "startLoc": {
          "line": 141,
          "column": 5,
          "position": 1081
        },
        "endLoc": {
          "line": 155,
          "column": 22,
          "position": 1293
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "{\n    return {\n      errorId: this.errorId,\n      timestamp: this.timestamp,\n      name: this.name,\n      message: this.message,\n      stack: this.stack,\n      context: this.context,\n      severity: this.severity,\n      category: this.category,\n      retryable: this.retryable,\n      patientImpact",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/errors/production-error-handler.ts",
        "start": 80,
        "end": 91,
        "startLoc": {
          "line": 80,
          "column": 2,
          "position": 566
        },
        "endLoc": {
          "line": 91,
          "column": 14,
          "position": 655
        }
      },
      "secondFile": {
        "name": "src/common/exceptions/enhanced-error-handling.service.backup.ts",
        "start": 137,
        "end": 148,
        "startLoc": {
          "line": 137,
          "column": 2,
          "position": 940
        },
        "endLoc": {
          "line": 148,
          "column": 2,
          "position": 1029
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "async set<T>(\n    key: string,\n    value: T,\n    options: {\n      ttl?: number;\n      tags?: string[];\n      dataLevel?: 'PUBLIC' | 'INTERNAL' | 'PHI' | 'SENSITIVE_PHI' | 'RESTRICTED';\n      patientId?: string;\n      providerId?: string;\n      clinicalContext?: string;\n    } = {},\n  ): Promise<void> {\n    try {\n      await",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/cache/healthcare-cache.service.ts",
        "start": 601,
        "end": 614,
        "startLoc": {
          "line": 601,
          "column": 3,
          "position": 5264
        },
        "endLoc": {
          "line": 614,
          "column": 6,
          "position": 5384
        }
      },
      "secondFile": {
        "name": "src/common/cache/healthcare-cache.service.ts",
        "start": 176,
        "end": 189,
        "startLoc": {
          "line": 176,
          "column": 3,
          "position": 1223
        },
        "endLoc": {
          "line": 189,
          "column": 6,
          "position": 1343
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": ") {\n        const duration = visit.getDuration();\n        if (duration !== null) {\n          totalDuration += duration;\n          durationCount++;\n        }\n\n        if (visit.minutesMissed) {\n          summary.totalMinutesMissed += visit.minutesMissed;\n        }\n\n        for (const reason of visit.reasonForVisit) {\n          reasonCounts[reason] = (reasonCounts[reason] || 0) + 1;\n        }\n      }\n\n      summary.averageDuration =\n        durationCount > 0 ? totalDuration / durationCount : 0;\n\n      // Get most common reasons\n      summary.mostCommonReasons = Object.entries(reasonCounts)\n        .sort(([, a], [, b]) => b - a)\n        .slice(0, 3)\n        .map(([reason]) => reason);\n\n      // Calculate visit frequency (visits per month)\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/services/clinic-visit-analytics.service.ts",
        "start": 222,
        "end": 248,
        "startLoc": {
          "line": 222,
          "column": 17,
          "position": 1902
        },
        "endLoc": {
          "line": 248,
          "column": 6,
          "position": 2129
        }
      },
      "secondFile": {
        "name": "src/clinical/services/clinic-visit-analytics.service.ts",
        "start": 136,
        "end": 162,
        "startLoc": {
          "line": 136,
          "column": 7,
          "position": 1062
        },
        "endLoc": {
          "line": 162,
          "column": 3,
          "position": 1289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n  })\n  @ApiQuery({\n    name: 'startDate',\n    required: false,\n    type: String,\n    description: 'Filter from date',\n  })\n  @ApiQuery({\n    name: 'endDate',\n    required: false,\n    type: String,\n    description: 'Filter to date',\n  })\n  @ApiResponse({\n    status: 200,\n    description: 'Statistics retrieved successfully'",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/controllers/medication-administration-reporting.controller.ts",
        "start": 82,
        "end": 98,
        "startLoc": {
          "line": 82,
          "column": 19,
          "position": 534
        },
        "endLoc": {
          "line": 98,
          "column": 36,
          "position": 633
        }
      },
      "secondFile": {
        "name": "src/clinical/controllers/medication-administration-scheduling.controller.ts",
        "start": 109,
        "end": 125,
        "startLoc": {
          "line": 109,
          "column": 20,
          "position": 651
        },
        "endLoc": {
          "line": 125,
          "column": 38,
          "position": 750
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": ",\n  })\n  @ApiQuery({\n    name: 'studentId',\n    required: false,\n    description: 'Filter by student ID',\n  })\n  @ApiQuery({\n    name: 'visitId',\n    required: false,\n    description: 'Filter by visit ID',\n  })\n  @ApiQuery({\n    name: 'startDate',\n    required: false,\n    description: 'Start date for filtering',\n  })\n  @ApiQuery({\n    name: 'endDate',\n    required: false,\n    description: 'End date for filtering',\n  })\n  @ApiQuery({\n    name: 'noteType'",
      "tokens": 0,
      "firstFile": {
        "name": "src/clinical/controllers/clinical-note.controller.ts",
        "start": 36,
        "end": 59,
        "startLoc": {
          "line": 36,
          "column": 163,
          "position": 355
        },
        "endLoc": {
          "line": 59,
          "column": 11,
          "position": 495
        }
      },
      "secondFile": {
        "name": "src/clinical/controllers/vital-signs.controller.ts",
        "start": 36,
        "end": 59,
        "startLoc": {
          "line": 36,
          "column": 135,
          "position": 355
        },
        "endLoc": {
          "line": 59,
          "column": 12,
          "position": 495
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n    example: 20,\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n  })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  limit?: number = 20;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/chronic-condition/dto/pagination.dto.ts",
        "start": 22,
        "end": 34,
        "startLoc": {
          "line": 22,
          "column": 19,
          "position": 152
        },
        "endLoc": {
          "line": 34,
          "column": 2,
          "position": 236
        }
      },
      "secondFile": {
        "name": "src/student/dto/student-health-records.dto.ts",
        "start": 37,
        "end": 49,
        "startLoc": {
          "line": 37,
          "column": 29,
          "position": 155
        },
        "endLoc": {
          "line": 49,
          "column": 2,
          "position": 239
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ": string;\n  firstName: string;\n  lastName: string;\n  role: UserRole;\n  isActive: boolean;\n  lastLogin?: Date | null;\n  schoolId?: string | null;\n  districtId?: string | null;\n  phone?: string | null;\n  emailVerified: boolean;\n  passwordChangedAt",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/types/auth.types.ts",
        "start": 16,
        "end": 26,
        "startLoc": {
          "line": 16,
          "column": 6,
          "position": 36
        },
        "endLoc": {
          "line": 26,
          "column": 18,
          "position": 125
        }
      },
      "secondFile": {
        "name": "src/database/models/user.model.ts",
        "start": 38,
        "end": 48,
        "startLoc": {
          "line": 38,
          "column": 9,
          "position": 302
        },
        "endLoc": {
          "line": 48,
          "column": 23,
          "position": 391
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ";\n  mfaEnabledAt?: Date | null;\n  oauthProvider?: string | null;\n  oauthProviderId?: string | null;\n  profilePictureUrl?: string | null;\n  isEmailVerified: boolean;\n  emailVerifiedAt?: Date | null;\n  deletedAt?: Date | null;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\n/**\n * Decoded JWT token payload structure\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/types/auth.types.ts",
        "start": 32,
        "end": 46,
        "startLoc": {
          "line": 32,
          "column": 8,
          "position": 186
        },
        "endLoc": {
          "line": 46,
          "column": 4,
          "position": 284
        }
      },
      "secondFile": {
        "name": "src/database/models/user.model.ts",
        "start": 61,
        "end": 73,
        "startLoc": {
          "line": 61,
          "column": 5,
          "position": 536
        },
        "endLoc": {
          "line": 73,
          "column": 7,
          "position": 634
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "}> {\n    const user = await this.userModel.findByPk(userId);\n\n    if (!user) {\n      throw new UnauthorizedException('User not found');\n    }\n\n    if (!user.mfaEnabled) {\n      throw new BadRequestException('MFA is not enabled for this user');\n    }\n\n    // Verify password\n    const isPasswordValid = await user.comparePassword(password);\n    if (!isPasswordValid) {\n      throw new UnauthorizedException('Invalid password');\n    }\n\n    // Verify TOTP code",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/services/mfa.service.ts",
        "start": 242,
        "end": 259,
        "startLoc": {
          "line": 242,
          "column": 2,
          "position": 1739
        },
        "endLoc": {
          "line": 259,
          "column": 20,
          "position": 1862
        }
      },
      "secondFile": {
        "name": "src/auth/services/mfa.service.ts",
        "start": 167,
        "end": 184,
        "startLoc": {
          "line": 167,
          "column": 2,
          "position": 1212
        },
        "endLoc": {
          "line": 184,
          "column": 31,
          "position": 1335
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "throw new UnauthorizedException('Token has been revoked');\n      }\n\n      // Check if user's all tokens are blacklisted (e.g., after password change)\n      const user = request.user;\n      if (user && user.id) {\n        const tokenPayload = this.decodeToken(token);\n        if (tokenPayload && tokenPayload.iat) {\n          const userTokensBlacklisted = await this.tokenBlacklistService.areUserTokensBlacklisted(\n            user.id,\n            tokenPayload.iat,\n          );\n\n          if (userTokensBlacklisted) {\n            throw",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/guards/jwt-auth.guard.ts",
        "start": 43,
        "end": 57,
        "startLoc": {
          "line": 43,
          "column": 9,
          "position": 367
        },
        "endLoc": {
          "line": 57,
          "column": 6,
          "position": 484
        }
      },
      "secondFile": {
        "name": "src/infrastructure/graphql/guards/gql-auth.guard.ts",
        "start": 130,
        "end": 145,
        "startLoc": {
          "line": 130,
          "column": 11,
          "position": 719
        },
        "endLoc": {
          "line": 145,
          "column": 5,
          "position": 837
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    minLength: 8,\n    maxLength: 128,\n  })\n  @IsString()\n  @MinLength(8, { message: 'Password must be at least 8 characters long' })\n  @MaxLength(128, { message: 'Password cannot exceed 128 characters' })\n  @Matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]/, {\n    message:\n      'Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character',\n  })\n  password:",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/dto/register.dto.ts",
        "start": 26,
        "end": 37,
        "startLoc": {
          "line": 26,
          "column": 106,
          "position": 167
        },
        "endLoc": {
          "line": 37,
          "column": 2,
          "position": 250
        }
      },
      "secondFile": {
        "name": "src/user/dto/create-user.dto.ts",
        "start": 22,
        "end": 33,
        "startLoc": {
          "line": 22,
          "column": 17,
          "position": 174
        },
        "endLoc": {
          "line": 33,
          "column": 2,
          "position": 257
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "{\n  @ApiProperty({\n    example: 'nurse@school.edu',\n    description: 'User email address',\n    maxLength: 254,\n  })\n  @IsEmail({}, { message: 'Please provide a valid email address' })\n  @MaxLength(254, { message: 'Email cannot exceed 254 characters' })\n  email: string;\n\n  @ApiProperty({\n    example: 'SecurePass123!',\n    description: 'User password'",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/dto/login.dto.ts",
        "start": 4,
        "end": 16,
        "startLoc": {
          "line": 4,
          "column": 2,
          "position": 42
        },
        "endLoc": {
          "line": 16,
          "column": 16,
          "position": 135
        }
      },
      "secondFile": {
        "name": "src/auth/dto/register.dto.ts",
        "start": 13,
        "end": 26,
        "startLoc": {
          "line": 13,
          "column": 2,
          "position": 72
        },
        "endLoc": {
          "line": 26,
          "column": 106,
          "position": 166
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", async () => {\n      mockUserModel.findOne.mockResolvedValue(mockUser);\n      mockUser.comparePassword.mockResolvedValue(false);\n\n      await expect(service.login(validLoginDto))\n        .rejects.toThrow(UnauthorizedException);\n\n      expect(mockUser.incrementFailedLoginAttempts).toHaveBeenCalled();\n    });\n\n    it('should reset failed login attempts on successful login'",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/__tests__/auth.service.spec.ts",
        "start": 292,
        "end": 302,
        "startLoc": {
          "line": 292,
          "column": 59,
          "position": 2414
        },
        "endLoc": {
          "line": 302,
          "column": 57,
          "position": 2494
        }
      },
      "secondFile": {
        "name": "src/auth/__tests__/auth.service.spec.ts",
        "start": 256,
        "end": 265,
        "startLoc": {
          "line": 256,
          "column": 46,
          "position": 2101
        },
        "endLoc": {
          "line": 265,
          "column": 43,
          "position": 2180
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "> {\n    try {\n      const phiLogs = await this.auditLogModel.findAll({\n        where: {\n          createdAt: {\n            [Op.between]: [startDate, endDate],\n          },\n          [Op.and]: [literal(`changes->>'isPHIAccess' = 'true'`)],\n        },\n      });\n\n      const totalAccess = phiLogs.length;\n      const successfulAccess",
      "tokens": 0,
      "firstFile": {
        "name": "src/audit/services/compliance-reporting.service.ts",
        "start": 96,
        "end": 108,
        "startLoc": {
          "line": 96,
          "column": 17,
          "position": 801
        },
        "endLoc": {
          "line": 108,
          "column": 17,
          "position": 900
        }
      },
      "secondFile": {
        "name": "src/audit/services/compliance-reporting.service.ts",
        "start": 30,
        "end": 42,
        "startLoc": {
          "line": 30,
          "column": 17,
          "position": 165
        },
        "endLoc": {
          "line": 42,
          "column": 13,
          "position": 264
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n        order: [['createdAt', 'DESC']],\n        offset: skip,\n        limit,\n      });\n\n      return {\n        data,\n        pagination: {\n          page,\n          limit,\n          total,\n          totalPages: Math.ceil(total / limit),\n        },\n      };\n    } catch (error) {\n      this.logger.error('Error fetching audit logs:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/audit/services/audit-query.service.ts",
        "start": 55,
        "end": 71,
        "startLoc": {
          "line": 55,
          "column": 6,
          "position": 434
        },
        "endLoc": {
          "line": 71,
          "column": 29,
          "position": 536
        }
      },
      "secondFile": {
        "name": "src/audit/services/phi-access.service.ts",
        "start": 110,
        "end": 126,
        "startLoc": {
          "line": 110,
          "column": 12,
          "position": 860
        },
        "endLoc": {
          "line": 126,
          "column": 34,
          "position": 962
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n        order: [['createdAt', 'DESC']],\n        offset: skip,\n        limit,\n      });\n\n      return {\n        data,\n        pagination: {\n          page,\n          limit,\n          total,\n          totalPages: Math.ceil(total / limit),\n        },\n      };\n    } catch (error) {\n      this.logger.error('Error fetching entity audit history:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/audit/services/audit-query.service.ts",
        "start": 98,
        "end": 114,
        "startLoc": {
          "line": 98,
          "column": 2,
          "position": 691
        },
        "endLoc": {
          "line": 114,
          "column": 39,
          "position": 793
        }
      },
      "secondFile": {
        "name": "src/audit/services/phi-access.service.ts",
        "start": 110,
        "end": 126,
        "startLoc": {
          "line": 110,
          "column": 12,
          "position": 860
        },
        "endLoc": {
          "line": 126,
          "column": 34,
          "position": 962
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "},\n        order: [['createdAt', 'DESC']],\n        offset: skip,\n        limit,\n      });\n\n      return {\n        data,\n        pagination: {\n          page,\n          limit,\n          total,\n          totalPages: Math.ceil(total / limit),\n        },\n      };\n    } catch (error) {\n      this.logger.error('Error fetching user audit history:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/audit/services/audit-query.service.ts",
        "start": 136,
        "end": 152,
        "startLoc": {
          "line": 136,
          "column": 2,
          "position": 933
        },
        "endLoc": {
          "line": 152,
          "column": 37,
          "position": 1036
        }
      },
      "secondFile": {
        "name": "src/audit/services/audit-query.service.ts",
        "start": 98,
        "end": 126,
        "startLoc": {
          "line": 98,
          "column": 9,
          "position": 690
        },
        "endLoc": {
          "line": 126,
          "column": 34,
          "position": 962
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "const { rows: data, count: total } = await this.auditLogModel.findAndCountAll({\n        where: whereClause,\n        order: [['createdAt', 'DESC']],\n        offset: skip,\n        limit,\n      });\n\n      return {\n        data,\n        pagination: {\n          page,\n          limit,\n          total,\n          totalPages: Math.ceil(total / limit),\n        },\n      };\n    } catch (error) {\n      this.logger.error('Error searching audit logs:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/audit/services/audit-query.service.ts",
        "start": 177,
        "end": 194,
        "startLoc": {
          "line": 177,
          "column": 7,
          "position": 1242
        },
        "endLoc": {
          "line": 194,
          "column": 30,
          "position": 1378
        }
      },
      "secondFile": {
        "name": "src/audit/services/phi-access.service.ts",
        "start": 109,
        "end": 126,
        "startLoc": {
          "line": 109,
          "column": 7,
          "position": 826
        },
        "endLoc": {
          "line": 126,
          "column": 34,
          "position": 962
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ";\n\n  @ApiPropertyOptional({ description: 'Page number', default: 1, minimum: 1 })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    description: 'Number of items per page'",
      "tokens": 0,
      "firstFile": {
        "name": "src/audit/dto/audit-log-search.dto.ts",
        "start": 11,
        "end": 21,
        "startLoc": {
          "line": 11,
          "column": 7,
          "position": 90
        },
        "endLoc": {
          "line": 21,
          "column": 27,
          "position": 173
        }
      },
      "secondFile": {
        "name": "src/incident-report/dto/incident-filters.dto.ts",
        "start": 57,
        "end": 67,
        "startLoc": {
          "line": 57,
          "column": 8,
          "position": 434
        },
        "endLoc": {
          "line": 67,
          "column": 17,
          "position": 517
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ": string;\n\n  @ApiPropertyOptional({ description: 'Page number', default: 1, minimum: 1 })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    description: 'Number of items per page',\n    default: 50",
      "tokens": 0,
      "firstFile": {
        "name": "src/audit/dto/audit-log-filter.dto.ts",
        "start": 33,
        "end": 44,
        "startLoc": {
          "line": 33,
          "column": 2,
          "position": 257
        },
        "endLoc": {
          "line": 44,
          "column": 3,
          "position": 350
        }
      },
      "secondFile": {
        "name": "src/audit/dto/audit-log-search.dto.ts",
        "start": 11,
        "end": 22,
        "startLoc": {
          "line": 11,
          "column": 8,
          "position": 87
        },
        "endLoc": {
          "line": 22,
          "column": 3,
          "position": 180
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "${id}`);\n\n    const transaction = await this.sequelize.transaction();\n\n    try {\n      const appointment = await this.appointmentModel.findByPk(id, { transaction });\n      if (!appointment) {\n        throw new NotFoundException(`Appointment with ID ${id} not found`);\n      }\n\n      // Validate status transition",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/services/appointment-write.service.ts",
        "start": 195,
        "end": 205,
        "startLoc": {
          "line": 195,
          "column": 26,
          "position": 1395
        },
        "endLoc": {
          "line": 205,
          "column": 30,
          "position": 1483
        }
      },
      "secondFile": {
        "name": "src/appointment/services/appointment-write.service.ts",
        "start": 134,
        "end": 144,
        "startLoc": {
          "line": 134,
          "column": 24,
          "position": 934
        },
        "endLoc": {
          "line": 144,
          "column": 57,
          "position": 1022
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "if (dateFrom || dateTo) {\n        whereClause.scheduledAt = {};\n        if (dateFrom) {\n          whereClause.scheduledAt[Op.gte] = new Date(dateFrom);\n        }\n        if (dateTo) {\n          whereClause.scheduledAt[Op.lte] = new Date(dateTo);\n        }\n      }\n\n      const appointments",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/services/appointment-statistics.service.ts",
        "start": 328,
        "end": 338,
        "startLoc": {
          "line": 328,
          "column": 7,
          "position": 2457
        },
        "endLoc": {
          "line": 338,
          "column": 13,
          "position": 2551
        }
      },
      "secondFile": {
        "name": "src/appointment/services/appointment-statistics.service.ts",
        "start": 189,
        "end": 199,
        "startLoc": {
          "line": 189,
          "column": 7,
          "position": 1449
        },
        "endLoc": {
          "line": 199,
          "column": 6,
          "position": 1543
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "private mapToEntity(appointment: Appointment): AppointmentEntity {\n    return {\n      id: appointment.id,\n      studentId: appointment.studentId,\n      nurseId: appointment.nurseId,\n      type: appointment.type as any,\n      appointmentType: appointment.type as any,\n      scheduledAt: appointment.scheduledAt,\n      duration: appointment.duration,\n      reason: appointment.reason,\n      notes: appointment.notes,\n      status: appointment.status as any,\n      createdAt: appointment.createdAt,\n      updatedAt: appointment.updatedAt,\n      nurse: appointment.nurse\n        ? {\n            id: appointment.nurse.id,\n            firstName: appointment.nurse.firstName,\n            lastName: appointment.nurse.lastName,\n            email: appointment.nurse.email,\n            role: appointment.nurse.role || 'NURSE',\n          }\n        : undefined,\n    };\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/services/appointment-statistics.service.ts",
        "start": 403,
        "end": 428,
        "startLoc": {
          "line": 403,
          "column": 3,
          "position": 3024
        },
        "endLoc": {
          "line": 428,
          "column": 2,
          "position": 3252
        }
      },
      "secondFile": {
        "name": "src/appointment/services/appointment-status.service.ts",
        "start": 229,
        "end": 254,
        "startLoc": {
          "line": 229,
          "column": 3,
          "position": 1526
        },
        "endLoc": {
          "line": 254,
          "column": 2,
          "position": 1754
        }
      }
    },
    {
      "format": "typescript",
      "lines": 48,
      "fragment": "calculateBusinessDays(startDate: Date, endDate: Date): number {\n    let businessDays = 0;\n    const current = new Date(startDate);\n\n    while (current <= endDate) {\n      const dayOfWeek = current.getDay();\n      if (dayOfWeek !== 0 && dayOfWeek !== 6) {\n        // Not Sunday or Saturday\n        businessDays++;\n      }\n      current.setDate(current.getDate() + 1);\n    }\n\n    return businessDays;\n  }\n\n  /**\n   * Map Sequelize model to entity\n   *\n   * @param appointment Sequelize appointment model\n   * @returns AppointmentEntity\n   */\n  private mapToEntity(appointment: Appointment): AppointmentEntity {\n    return {\n      id: appointment.id,\n      studentId: appointment.studentId,\n      nurseId: appointment.nurseId,\n      type: appointment.type as any,\n      appointmentType: appointment.type as any,\n      scheduledAt: appointment.scheduledAt,\n      duration: appointment.duration,\n      reason: appointment.reason,\n      notes: appointment.notes,\n      status: appointment.status as any,\n      createdAt: appointment.createdAt,\n      updatedAt: appointment.updatedAt,\n      nurse: appointment.nurse\n        ? {\n            id: appointment.nurse.id,\n            firstName: appointment.nurse.firstName,\n            lastName: appointment.nurse.lastName,\n            email: appointment.nurse.email,\n            role: appointment.nurse.role || 'NURSE',\n          }\n        : undefined,\n    };\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/services/appointment-scheduling.service.ts",
        "start": 259,
        "end": 306,
        "startLoc": {
          "line": 259,
          "column": 3,
          "position": 1657
        },
        "endLoc": {
          "line": 306,
          "column": 2,
          "position": 2024
        }
      },
      "secondFile": {
        "name": "src/appointment/services/appointment-statistics.service.ts",
        "start": 381,
        "end": 254,
        "startLoc": {
          "line": 381,
          "column": 2,
          "position": 2885
        },
        "endLoc": {
          "line": 254,
          "column": 2,
          "position": 1754
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "include: [\n          {\n            model: this.userModel,\n            as: 'nurse',\n            attributes: ['id', 'firstName', 'lastName', 'email'],\n          },\n          {\n            model: this.userModel,\n            as: 'student',\n            attributes: ['id', 'firstName', 'lastName', 'email'],\n          },\n        ],\n      }",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/services/appointment-read.service.ts",
        "start": 132,
        "end": 144,
        "startLoc": {
          "line": 132,
          "column": 9,
          "position": 944
        },
        "endLoc": {
          "line": 144,
          "column": 2,
          "position": 1036
        }
      },
      "secondFile": {
        "name": "src/appointment/services/appointment-read.service.ts",
        "start": 85,
        "end": 97,
        "startLoc": {
          "line": 85,
          "column": 9,
          "position": 584
        },
        "endLoc": {
          "line": 97,
          "column": 6,
          "position": 676
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "return {\n      id: appointment.id,\n      nurseId: appointment.nurseId,\n      studentId: appointment.studentId,\n      scheduledFor: appointment.scheduledFor,\n      duration: appointment.duration,\n      type: appointment.type,\n      status: appointment.status,\n      notes: appointment.notes,\n      reason: appointment.reason,\n      location: appointment.location,\n      createdAt: appointment.createdAt,\n      updatedAt: appointment.updatedAt,\n      nurse",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/services/appointment-read.service.ts",
        "start": 166,
        "end": 179,
        "startLoc": {
          "line": 166,
          "column": 5,
          "position": 1199
        },
        "endLoc": {
          "line": 179,
          "column": 6,
          "position": 1312
        }
      },
      "secondFile": {
        "name": "src/appointment/services/appointment-write.service.ts",
        "start": 401,
        "end": 414,
        "startLoc": {
          "line": 401,
          "column": 5,
          "position": 2964
        },
        "endLoc": {
          "line": 414,
          "column": 2,
          "position": 3077
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ",\n          },\n          status: {\n            [Op.in]: [ModelAppointmentStatus.SCHEDULED, ModelAppointmentStatus.IN_PROGRESS],\n          },\n        },\n        order: [['scheduledAt', 'ASC']],\n        limit,\n        include: [\n          {\n            model: User,\n            as: 'nurse',\n            attributes: ['id', 'firstName', 'lastName', 'email', 'role'],\n          },\n        ],\n      });\n\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/services/appointment-query.service.ts",
        "start": 146,
        "end": 163,
        "startLoc": {
          "line": 146,
          "column": 11,
          "position": 1078
        },
        "endLoc": {
          "line": 163,
          "column": 6,
          "position": 1195
        }
      },
      "secondFile": {
        "name": "src/appointment/services/appointment-query.service.ts",
        "start": 105,
        "end": 122,
        "startLoc": {
          "line": 105,
          "column": 4,
          "position": 735
        },
        "endLoc": {
          "line": 122,
          "column": 7,
          "position": 852
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n        include: [\n          {\n            model: User,\n            as: 'nurse',\n            attributes: ['id', 'firstName', 'lastName', 'email', 'role'],\n          },\n        ],\n      });\n\n      const data = appointments.map((apt) => this.mapToEntity(apt));\n      return { data };\n    } catch (error) {\n      this",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/services/appointment-query.service.ts",
        "start": 153,
        "end": 166,
        "startLoc": {
          "line": 153,
          "column": 6,
          "position": 1134
        },
        "endLoc": {
          "line": 166,
          "column": 5,
          "position": 1242
        }
      },
      "secondFile": {
        "name": "src/appointment/services/appointment-query.service.ts",
        "start": 71,
        "end": 84,
        "startLoc": {
          "line": 71,
          "column": 2,
          "position": 454
        },
        "endLoc": {
          "line": 84,
          "column": 3,
          "position": 562
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ": string,\n    public readonly context: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      appointmentId",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 162,
        "end": 172,
        "startLoc": {
          "line": 162,
          "column": 7,
          "position": 690
        },
        "endLoc": {
          "line": 172,
          "column": 14,
          "position": 773
        }
      },
      "secondFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 71,
        "end": 81,
        "startLoc": {
          "line": 71,
          "column": 11,
          "position": 208
        },
        "endLoc": {
          "line": 81,
          "column": 13,
          "position": 291
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n    public readonly context: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      appointmentId: this.appointment",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 201,
        "end": 211,
        "startLoc": {
          "line": 201,
          "column": 5,
          "position": 913
        },
        "endLoc": {
          "line": 211,
          "column": 12,
          "position": 998
        }
      },
      "secondFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 162,
        "end": 172,
        "startLoc": {
          "line": 162,
          "column": 7,
          "position": 693
        },
        "endLoc": {
          "line": 172,
          "column": 14,
          "position": 778
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    public readonly context: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      appointmentId: this.appointment.id,\n      scheduledAt",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 237,
        "end": 248,
        "startLoc": {
          "line": 237,
          "column": 21,
          "position": 1115
        },
        "endLoc": {
          "line": 248,
          "column": 12,
          "position": 1206
        }
      },
      "secondFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 162,
        "end": 212,
        "startLoc": {
          "line": 162,
          "column": 7,
          "position": 693
        },
        "endLoc": {
          "line": 212,
          "column": 15,
          "position": 1004
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "?: boolean,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      appointmentId",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 277,
        "end": 287,
        "startLoc": {
          "line": 277,
          "column": 17,
          "position": 1340
        },
        "endLoc": {
          "line": 287,
          "column": 14,
          "position": 1425
        }
      },
      "secondFile": {
        "name": "src/medication/events/medication.events.ts",
        "start": 164,
        "end": 232,
        "startLoc": {
          "line": 164,
          "column": 21,
          "position": 795
        },
        "endLoc": {
          "line": 232,
          "column": 10,
          "position": 1192
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ": RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      appointmentId: this.appointment.id,\n      scheduledAt: this.appointment.scheduledAt.toISOString(),\n      completedAt",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 278,
        "end": 289,
        "startLoc": {
          "line": 278,
          "column": 2,
          "position": 1353
        },
        "endLoc": {
          "line": 289,
          "column": 12,
          "position": 1451
        }
      },
      "secondFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 202,
        "end": 249,
        "startLoc": {
          "line": 202,
          "column": 8,
          "position": 921
        },
        "endLoc": {
          "line": 249,
          "column": 16,
          "position": 1221
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\n  readonly occurredAt: Date;\n\n  constructor(\n    public readonly appointment: AppointmentEventData,\n    public readonly context: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      appointmentId: this.appointment.id,\n      studentId",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 312,
        "end": 327,
        "startLoc": {
          "line": 312,
          "column": 22,
          "position": 1524
        },
        "endLoc": {
          "line": 327,
          "column": 10,
          "position": 1640
        }
      },
      "secondFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 233,
        "end": 212,
        "startLoc": {
          "line": 233,
          "column": 22,
          "position": 1090
        },
        "endLoc": {
          "line": 212,
          "column": 15,
          "position": 1004
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      appointmentId: this.appointment.id,\n      reminderType",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 355,
        "end": 365,
        "startLoc": {
          "line": 355,
          "column": 7,
          "position": 1782
        },
        "endLoc": {
          "line": 365,
          "column": 13,
          "position": 1862
        }
      },
      "secondFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 202,
        "end": 212,
        "startLoc": {
          "line": 202,
          "column": 15,
          "position": 924
        },
        "endLoc": {
          "line": 212,
          "column": 15,
          "position": 1004
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "?: string,\n    public readonly context?: RequestContext,\n  ) {\n    this.occurredAt = new Date();\n  }\n\n  toAuditLog(): Record<string, any> {\n    return {\n      eventName: this.eventName,\n      eventTime: this.occurredAt.toISOString(),\n      waitlistEntryId",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/events/appointment.events.ts",
        "start": 391,
        "end": 401,
        "startLoc": {
          "line": 391,
          "column": 9,
          "position": 1978
        },
        "endLoc": {
          "line": 401,
          "column": 16,
          "position": 2063
        }
      },
      "secondFile": {
        "name": "src/student/events/student.events.ts",
        "start": 177,
        "end": 187,
        "startLoc": {
          "line": 177,
          "column": 11,
          "position": 858
        },
        "endLoc": {
          "line": 187,
          "column": 10,
          "position": 943
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "@ApiPropertyOptional({\n    description: 'Filter by nurse UUID',\n    example: '987fcdeb-51a2-43d1-b456-426614174001',\n    format: 'uuid',\n  })\n  @IsOptional()\n  @IsUUID()\n  nurseId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Filter by student UUID',\n    example: '123e4567-e89b-12d3-a456-426614174000',\n    format: 'uuid',\n  })\n  @IsOptional()\n  @IsUUID()\n  studentId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Filter by appointment status'",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/dto/statistics.dto.ts",
        "start": 57,
        "end": 76,
        "startLoc": {
          "line": 57,
          "column": 3,
          "position": 348
        },
        "endLoc": {
          "line": 76,
          "column": 31,
          "position": 461
        }
      },
      "secondFile": {
        "name": "src/appointment/dto/waitlist.dto.ts",
        "start": 116,
        "end": 135,
        "startLoc": {
          "line": 116,
          "column": 3,
          "position": 677
        },
        "endLoc": {
          "line": 135,
          "column": 28,
          "position": 790
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n  })\n  @IsOptional()\n  @Type(() => Date)\n  @IsDate()\n  dateTo?: Date;\n\n  @ApiPropertyOptional({\n    description: 'Page number for pagination',\n    example: 1,\n    minimum: 1,\n    default: 1,\n  })\n  @IsOptional()\n  @",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/dto/appointment-filters.dto.ts",
        "start": 62,
        "end": 76,
        "startLoc": {
          "line": 62,
          "column": 12,
          "position": 411
        },
        "endLoc": {
          "line": 76,
          "column": 2,
          "position": 495
        }
      },
      "secondFile": {
        "name": "src/appointment/dto/statistics.dto.ts",
        "start": 108,
        "end": 122,
        "startLoc": {
          "line": 108,
          "column": 7,
          "position": 664
        },
        "endLoc": {
          "line": 122,
          "column": 5,
          "position": 748
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": ");\n\n      const event = new AppointmentCreatedEvent(\n        {\n          id: 'apt-123',\n          studentId: 'student-456',\n          nurseId: 'nurse-789',\n          type: 'ROUTINE',\n          scheduledAt: new Date(),\n          duration: 30,\n          status: 'SCHEDULED',\n        },\n        {\n          userId: 'admin-001',\n          userRole: 'ADMIN',\n          timestamp: new Date(),\n        },\n      );\n\n      // Should not throw\n      await expect(async () => {\n        eventEmitter.emit('appointment.created', event);\n        await new Promise((resolve) => setTimeout(resolve, 100));\n      }).not.toThrow();\n\n      // WebSocket should still work even if email fails",
      "tokens": 0,
      "firstFile": {
        "name": "src/appointment/__tests__/event-driven-integration.spec.ts",
        "start": 310,
        "end": 335,
        "startLoc": {
          "line": 310,
          "column": 7,
          "position": 2010
        },
        "endLoc": {
          "line": 335,
          "column": 51,
          "position": 2188
        }
      },
      "secondFile": {
        "name": "src/appointment/__tests__/event-driven-integration.spec.ts",
        "start": 278,
        "end": 303,
        "startLoc": {
          "line": 278,
          "column": 6,
          "position": 1778
        },
        "endLoc": {
          "line": 303,
          "column": 54,
          "position": 1956
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ",\n          recordDate: {\n            [Op.between]: [periodStart, periodEnd],\n          },\n        },\n        include: [\n          {\n            model: Student,\n            where: { schoolId },\n            required: true,\n          },\n        ],\n      });\n    } catch (error) {\n      this.logger.error(\n        `Error fetching medication records for school ",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/services/compliance-data-collector.service.ts",
        "start": 108,
        "end": 123,
        "startLoc": {
          "line": 108,
          "column": 20,
          "position": 650
        },
        "endLoc": {
          "line": 123,
          "column": 47,
          "position": 749
        }
      },
      "secondFile": {
        "name": "src/analytics/services/compliance-data-collector.service.ts",
        "start": 75,
        "end": 90,
        "startLoc": {
          "line": 75,
          "column": 15,
          "position": 449
        },
        "endLoc": {
          "line": 90,
          "column": 49,
          "position": 548
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ",\n          recordDate: {\n            [Op.between]: [periodStart, periodEnd],\n          },\n        },\n        include: [\n          {\n            model: Student,\n            where: { schoolId },\n            required: true,\n          },\n        ],\n      });\n    } catch (error) {\n      this.logger.error(\n        `Error fetching screening records for school ",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/services/compliance-data-collector.service.ts",
        "start": 141,
        "end": 156,
        "startLoc": {
          "line": 141,
          "column": 12,
          "position": 851
        },
        "endLoc": {
          "line": 156,
          "column": 46,
          "position": 950
        }
      },
      "secondFile": {
        "name": "src/analytics/services/compliance-data-collector.service.ts",
        "start": 75,
        "end": 90,
        "startLoc": {
          "line": 75,
          "column": 15,
          "position": 449
        },
        "endLoc": {
          "line": 90,
          "column": 49,
          "position": 548
        }
      }
    },
    {
      "format": "typescript",
      "lines": 44,
      "fragment": ") {\n    try {\n      const startDate =\n        query.startDate || new Date(Date.now() - 30 * 24 * 60 * 60 * 1000);\n      const endDate = query.endDate || new Date();\n\n      // Query health records for the student\n      const healthRecords = await this.healthRecordModel.findAll({\n        where: {\n          studentId,\n          recordDate: {\n            [Op.between]: [startDate, endDate],\n          },\n        },\n        order: [['recordDate', 'DESC']],\n        limit: 100,\n      });\n\n      // Query medication logs\n      const medicationLogs = await this.medicationLogModel.findAll({\n        where: {\n          studentId,\n          administeredAt: {\n            [Op.between]: [startDate, endDate],\n          },\n        },\n        order: [['administeredAt', 'DESC']],\n        limit: 100,\n      });\n\n      // Query appointments\n      const appointments = await this.appointmentModel.findAll({\n        where: {\n          studentId,\n          scheduledAt: {\n            [Op.between]: [startDate, endDate],\n          },\n        },\n        order: [['scheduledAt', 'DESC']],\n        limit: 50,\n      });\n\n      // Calculate medication adherence\n      const scheduledMedications",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/services/analytics-health.service.ts",
        "start": 154,
        "end": 197,
        "startLoc": {
          "line": 154,
          "column": 32,
          "position": 1275
        },
        "endLoc": {
          "line": 197,
          "column": 21,
          "position": 1618
        }
      },
      "secondFile": {
        "name": "src/analytics/services/analytics-student.service.ts",
        "start": 54,
        "end": 97,
        "startLoc": {
          "line": 54,
          "column": 3,
          "position": 205
        },
        "endLoc": {
          "line": 97,
          "column": 17,
          "position": 548
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ",\n      };\n\n      this.logger.log(\n        `Student health metrics retrieved: ${studentId} (${healthRecords.length} health records, ${medicationLogs.length} medication logs, ${appointments.length} appointments)`,\n      );\n\n      return {\n        studentId,\n        trends,\n        period: { startDate, endDate },\n        includesHistoricalData: query.includeHistory !== false,\n      };\n    } catch (error) {\n      this.logger.error('Error getting student health metrics', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get school-wide health metrics\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/services/analytics-health.service.ts",
        "start": 235,
        "end": 256,
        "startLoc": {
          "line": 235,
          "column": 2,
          "position": 2158
        },
        "endLoc": {
          "line": 256,
          "column": 6,
          "position": 2287
        }
      },
      "secondFile": {
        "name": "src/analytics/services/analytics-student.service.ts",
        "start": 119,
        "end": 143,
        "startLoc": {
          "line": 119,
          "column": 19,
          "position": 718
        },
        "endLoc": {
          "line": 143,
          "column": 6,
          "position": 847
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "[];\n  recommendations: string[];\n  status: ReportStatus;\n  format: ReportFormat;\n  fileUrl?: string;\n  fileSize?: number;\n  generatedBy: string;\n  reviewedBy?: string;\n  reviewedAt?: Date;\n  approvedBy?: string;\n  approvalDate?: Date;\n  distributionList?: string[];\n  sentAt?: Date;\n  createdAt",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/interfaces/compliance-report.interfaces.ts",
        "start": 73,
        "end": 86,
        "startLoc": {
          "line": 73,
          "column": 8,
          "position": 453
        },
        "endLoc": {
          "line": 86,
          "column": 10,
          "position": 554
        }
      },
      "secondFile": {
        "name": "src/database/models/analytics-report.model.ts",
        "start": 69,
        "end": 82,
        "startLoc": {
          "line": 69,
          "column": 4,
          "position": 438
        },
        "endLoc": {
          "line": 82,
          "column": 2,
          "position": 538
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "{\n  @ApiPropertyOptional({ description: 'School ID' })\n  @IsOptional()\n  @IsString()\n  schoolId?: string;\n\n  @ApiPropertyOptional({ description: 'District ID' })\n  @IsOptional()\n  @IsString()\n  districtId?: string;\n\n  @ApiProperty({ description: 'Start date for trend analysis'",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/dto/health-metrics.dto.ts",
        "start": 60,
        "end": 71,
        "startLoc": {
          "line": 60,
          "column": 2,
          "position": 405
        },
        "endLoc": {
          "line": 71,
          "column": 32,
          "position": 486
        }
      },
      "secondFile": {
        "name": "src/analytics/dto/health-metrics.dto.ts",
        "start": 8,
        "end": 19,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 63
        },
        "endLoc": {
          "line": 19,
          "column": 25,
          "position": 144
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "{\n  @ApiProperty({ description: 'School ID' })\n  @IsString()\n  schoolId: string;\n\n  @ApiPropertyOptional({\n    enum: TimePeriod,\n    description: 'Time period',\n    default: TimePeriod.LAST_30_DAYS,\n  })\n  @IsOptional()\n  @IsEnum(TimePeriod)\n  period?: TimePeriod;\n}\n\n/**\n * Get Predictive Insights DTO\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/dto/analytics-query.dto.ts",
        "start": 106,
        "end": 123,
        "startLoc": {
          "line": 106,
          "column": 2,
          "position": 633
        },
        "endLoc": {
          "line": 123,
          "column": 4,
          "position": 720
        }
      },
      "secondFile": {
        "name": "src/analytics/dto/analytics-query.dto.ts",
        "start": 61,
        "end": 78,
        "startLoc": {
          "line": 61,
          "column": 2,
          "position": 403
        },
        "endLoc": {
          "line": 78,
          "column": 4,
          "position": 490
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "(\n    startDate: Date,\n    endDate: Date,\n    schoolId?: string,\n  ): Promise<Record<string, number>> {\n    const where: any = {\n      createdAt: {\n        [Op.between]: [startDate, endDate],\n      },\n    };\n\n    if (schoolId) {\n      where.schoolId = schoolId;\n    }\n\n    const alerts = await this.alertModel.findAll({\n      where,\n      attributes: ['category'",
      "tokens": 0,
      "firstFile": {
        "name": "src/alerts/services/alert-statistics.service.ts",
        "start": 147,
        "end": 164,
        "startLoc": {
          "line": 147,
          "column": 24,
          "position": 1163
        },
        "endLoc": {
          "line": 164,
          "column": 11,
          "position": 1295
        }
      },
      "secondFile": {
        "name": "src/alerts/services/alert-statistics.service.ts",
        "start": 116,
        "end": 133,
        "startLoc": {
          "line": 116,
          "column": 24,
          "position": 937
        },
        "endLoc": {
          "line": 133,
          "column": 11,
          "position": 1069
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "{\n    const where: any = {\n      createdAt: {\n        [Op.between]: [startDate, endDate],\n      },\n    };\n\n    if (schoolId) {\n      where.schoolId = schoolId;\n    }\n\n    const alerts = await this.alertModel.findAll({ where }",
      "tokens": 0,
      "firstFile": {
        "name": "src/alerts/services/alert-statistics.service.ts",
        "start": 187,
        "end": 198,
        "startLoc": {
          "line": 187,
          "column": 2,
          "position": 1453
        },
        "endLoc": {
          "line": 198,
          "column": 2,
          "position": 1540
        }
      },
      "secondFile": {
        "name": "src/alerts/services/alert-statistics.service.ts",
        "start": 120,
        "end": 132,
        "startLoc": {
          "line": 120,
          "column": 2,
          "position": 975
        },
        "endLoc": {
          "line": 132,
          "column": 2,
          "position": 1062
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ": number;\n  }> {\n    const where: any = {\n      createdAt: {\n        [Op.between]: [startDate, endDate],\n      },\n    };\n\n    if (schoolId) {\n      where.schoolId = schoolId;\n    }\n\n    const alerts = await this.alertModel.findAll({ where });\n    const escalatedAlerts",
      "tokens": 0,
      "firstFile": {
        "name": "src/alerts/services/alert-statistics.service.ts",
        "start": 234,
        "end": 247,
        "startLoc": {
          "line": 234,
          "column": 23,
          "position": 1823
        },
        "endLoc": {
          "line": 247,
          "column": 16,
          "position": 1926
        }
      },
      "secondFile": {
        "name": "src/alerts/services/alert-statistics.service.ts",
        "start": 186,
        "end": 199,
        "startLoc": {
          "line": 186,
          "column": 15,
          "position": 1444
        },
        "endLoc": {
          "line": 199,
          "column": 15,
          "position": 1547
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ">> {\n    const where: any = {\n      createdAt: {\n        [Op.between]: [startDate, endDate],\n      },\n    };\n\n    if (schoolId) {\n      where.schoolId = schoolId;\n    }\n\n    const alerts = await this.alertModel.findAll({\n      where,\n      attributes: ['createdAt'",
      "tokens": 0,
      "firstFile": {
        "name": "src/alerts/services/alert-statistics.service.ts",
        "start": 277,
        "end": 290,
        "startLoc": {
          "line": 277,
          "column": 2,
          "position": 2181
        },
        "endLoc": {
          "line": 290,
          "column": 12,
          "position": 2277
        }
      },
      "secondFile": {
        "name": "src/alerts/services/alert-statistics.service.ts",
        "start": 120,
        "end": 133,
        "startLoc": {
          "line": 120,
          "column": 7,
          "position": 973
        },
        "endLoc": {
          "line": 133,
          "column": 11,
          "position": 1069
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "export enum ConfigCategory {\n  GENERAL = 'GENERAL',\n  SECURITY = 'SECURITY',\n  NOTIFICATION = 'NOTIFICATION',\n  INTEGRATION = 'INTEGRATION',\n  BACKUP = 'BACKUP',\n  PERFORMANCE = 'PERFORMANCE',\n  HEALTHCARE = 'HEALTHCARE',\n  MEDICATION = 'MEDICATION',\n  APPOINTMENTS = 'APPOINTMENTS',\n  UI = 'UI',\n  QUERY = 'QUERY',\n  FILE_UPLOAD = 'FILE_UPLOAD',\n  RATE_LIMITING = 'RATE_LIMITING',\n  SESSION = 'SESSION',\n  EMAIL = 'EMAIL',\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "src/administration/enums/administration.enums.ts",
        "start": 23,
        "end": 41,
        "startLoc": {
          "line": 23,
          "column": 1,
          "position": 118
        },
        "endLoc": {
          "line": 41,
          "column": 7,
          "position": 249
        }
      },
      "secondFile": {
        "name": "src/database/models/system-config.model.ts",
        "start": 25,
        "end": 45,
        "startLoc": {
          "line": 25,
          "column": 1,
          "position": 65
        },
        "endLoc": {
          "line": 45,
          "column": 4,
          "position": 196
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "export enum ConfigValueType {\n  STRING = 'STRING',\n  NUMBER = 'NUMBER',\n  BOOLEAN = 'BOOLEAN',\n  JSON = 'JSON',\n  ARRAY = 'ARRAY',\n  DATE = 'DATE',\n  TIME = 'TIME',\n  DATETIME = 'DATETIME',\n  EMAIL = 'EMAIL',\n  URL = 'URL',\n  COLOR = 'COLOR',\n  ENUM = 'ENUM',\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "src/administration/enums/administration.enums.ts",
        "start": 41,
        "end": 56,
        "startLoc": {
          "line": 41,
          "column": 1,
          "position": 249
        },
        "endLoc": {
          "line": 56,
          "column": 7,
          "position": 356
        }
      },
      "secondFile": {
        "name": "src/database/models/system-config.model.ts",
        "start": 46,
        "end": 63,
        "startLoc": {
          "line": 46,
          "column": 1,
          "position": 198
        },
        "endLoc": {
          "line": 63,
          "column": 4,
          "position": 305
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "?: boolean;\n\n  @ApiPropertyOptional({ description: 'Page number', default: 1, minimum: 1 })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    description: 'Items per page',\n    default: 20,\n    minimum: 1,\n  })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  limit?: number = 20;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/administration/dto/training.dto.ts",
        "start": 102,
        "end": 119,
        "startLoc": {
          "line": 102,
          "column": 11,
          "position": 565
        },
        "endLoc": {
          "line": 119,
          "column": 2,
          "position": 692
        }
      },
      "secondFile": {
        "name": "src/administration/dto/user-management.dto.ts",
        "start": 97,
        "end": 114,
        "startLoc": {
          "line": 97,
          "column": 9,
          "position": 651
        },
        "endLoc": {
          "line": 114,
          "column": 2,
          "position": 778
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "@ApiPropertyOptional({ description: 'Page number', default: 1, minimum: 1 })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    description: 'Items per page',\n    default: 20,\n    minimum: 1,\n  })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  limit?: number = 20;\n\n  @",
      "tokens": 0,
      "firstFile": {
        "name": "src/administration/dto/school.dto.ts",
        "start": 118,
        "end": 134,
        "startLoc": {
          "line": 118,
          "column": 3,
          "position": 709
        },
        "endLoc": {
          "line": 134,
          "column": 2,
          "position": 830
        }
      },
      "secondFile": {
        "name": "src/administration/dto/user-management.dto.ts",
        "start": 99,
        "end": 114,
        "startLoc": {
          "line": 99,
          "column": 3,
          "position": 659
        },
        "endLoc": {
          "line": 114,
          "column": 2,
          "position": 778
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "{\n  @ApiPropertyOptional({ description: 'Page number', default: 1, minimum: 1 })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    description: 'Items per page',\n    default: 20,\n    minimum: 1,\n  })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  limit?: number = 20;\n\n  @ApiPropertyOptional({ description: 'Filter by status'",
      "tokens": 0,
      "firstFile": {
        "name": "src/administration/dto/license.dto.ts",
        "start": 96,
        "end": 113,
        "startLoc": {
          "line": 96,
          "column": 2,
          "position": 597
        },
        "endLoc": {
          "line": 113,
          "column": 19,
          "position": 729
        }
      },
      "secondFile": {
        "name": "src/administration/dto/school.dto.ts",
        "start": 117,
        "end": 134,
        "startLoc": {
          "line": 117,
          "column": 2,
          "position": 706
        },
        "endLoc": {
          "line": 134,
          "column": 26,
          "position": 838
        }
      }
    },
    {
      "format": "typescript",
      "lines": 48,
      "fragment": ": string;\n\n  @ApiPropertyOptional({ description: 'Street address' })\n  @IsOptional()\n  @IsString()\n  address?: string;\n\n  @ApiPropertyOptional({ description: 'City name', maxLength: 100 })\n  @IsOptional()\n  @IsString()\n  @MaxLength(100)\n  city?: string;\n\n  @ApiPropertyOptional({\n    description: 'State abbreviation (2 uppercase letters)',\n    example: 'CA',\n  })\n  @IsOptional()\n  @IsString()\n  @Matches(/^[A-Z]{2}$/, {\n    message: 'State must be a 2-letter uppercase abbreviation',\n  })\n  state?: string;\n\n  @ApiPropertyOptional({\n    description: 'ZIP code (12345 or 12345-6789)',\n    example: '12345',\n  })\n  @IsOptional()\n  @IsString()\n  @Matches(/^[0-9]{5}(-[0-9]{4})?$/, {\n    message: 'ZIP code must be in format 12345 or 12345-6789',\n  })\n  zipCode?: string;\n\n  @ApiPropertyOptional({ description: 'Phone number' })\n  @IsOptional()\n  @IsString()\n  @Matches(/^[\\d\\s\\-\\(\\)\\+\\.]+$/, {\n    message: 'Invalid phone number format',\n  })\n  phone?: string;\n\n  @ApiPropertyOptional({ description: 'Email address' })\n  @IsOptional()\n  @IsEmail()\n  email?: string;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/administration/dto/district.dto.ts",
        "start": 32,
        "end": 79,
        "startLoc": {
          "line": 32,
          "column": 5,
          "position": 183
        },
        "endLoc": {
          "line": 79,
          "column": 2,
          "position": 491
        }
      },
      "secondFile": {
        "name": "src/administration/dto/school.dto.ts",
        "start": 38,
        "end": 86,
        "startLoc": {
          "line": 38,
          "column": 11,
          "position": 219
        },
        "endLoc": {
          "line": 86,
          "column": 2,
          "position": 529
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "{\n  @ApiPropertyOptional({ description: 'Page number', default: 1, minimum: 1 })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    description: 'Items per page',\n    default: 20,\n    minimum: 1,\n  })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  limit?: number = 20;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/administration/dto/district.dto.ts",
        "start": 94,
        "end": 110,
        "startLoc": {
          "line": 94,
          "column": 2,
          "position": 556
        },
        "endLoc": {
          "line": 110,
          "column": 2,
          "position": 678
        }
      },
      "secondFile": {
        "name": "src/administration/dto/school.dto.ts",
        "start": 117,
        "end": 114,
        "startLoc": {
          "line": 117,
          "column": 2,
          "position": 706
        },
        "endLoc": {
          "line": 114,
          "column": 2,
          "position": 778
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "{\n  @ApiPropertyOptional({ description: 'Page number', default: 1, minimum: 1 })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  page?: number = 1;\n\n  @ApiPropertyOptional({\n    description: 'Items per page',\n    default: 20,\n    minimum: 1,\n  })\n  @IsOptional()\n  @IsNumber()\n  @Min(1)\n  limit?: number = 20;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/administration/dto/backup.dto.ts",
        "start": 22,
        "end": 38,
        "startLoc": {
          "line": 22,
          "column": 2,
          "position": 145
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 267
        }
      },
      "secondFile": {
        "name": "src/administration/dto/school.dto.ts",
        "start": 117,
        "end": 114,
        "startLoc": {
          "line": 117,
          "column": 2,
          "position": 706
        },
        "endLoc": {
          "line": 114,
          "column": 2,
          "position": 778
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n            as: 'role',\n            include: [\n              {\n                model: this.getModel('RolePermission'),\n                as: 'permissions',\n                include: [\n                  {\n                    model: this.getModel('Permission'),\n                    as: 'permission',\n                  },\n                ],\n              },\n            ],\n          },\n        ],\n      }",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/services/user-role-assignment.service.ts",
        "start": 293,
        "end": 309,
        "startLoc": {
          "line": 293,
          "column": 2,
          "position": 2045
        },
        "endLoc": {
          "line": 309,
          "column": 2,
          "position": 2135
        }
      },
      "secondFile": {
        "name": "src/access-control/services/user-role-assignment.service.ts",
        "start": 162,
        "end": 178,
        "startLoc": {
          "line": 162,
          "column": 5,
          "position": 1104
        },
        "endLoc": {
          "line": 178,
          "column": 12,
          "position": 1194
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "{\n        include: [\n          {\n            model: this.getModel('RolePermission'),\n            as: 'permissions',\n            include: [\n              {\n                model: this.getModel('Permission'),\n                as: 'permission',\n              },\n            ],\n          },\n          {\n            model: this.getModel('UserRoleAssignment'),\n            as: 'userRoles',\n          },\n        ],\n      }",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/services/role-management.service.ts",
        "start": 86,
        "end": 103,
        "startLoc": {
          "line": 86,
          "column": 2,
          "position": 598
        },
        "endLoc": {
          "line": 103,
          "column": 2,
          "position": 699
        }
      },
      "secondFile": {
        "name": "src/access-control/services/role-management.service.ts",
        "start": 52,
        "end": 69,
        "startLoc": {
          "line": 52,
          "column": 2,
          "position": 359
        },
        "endLoc": {
          "line": 69,
          "column": 6,
          "position": 460
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ");\n\n      // Reload with associations\n      await role.reload({\n        include: [\n          {\n            model: this.getModel('RolePermission'),\n            as: 'permissions',\n            include: [\n              {\n                model: this.getModel('Permission'),\n                as: 'permission',\n              },\n            ],\n          },\n        ],\n        transaction,\n      });\n\n      await transaction.commit();\n\n      // Invalidate cache for all users since role changed",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/services/role-management.service.ts",
        "start": 255,
        "end": 276,
        "startLoc": {
          "line": 255,
          "column": 2,
          "position": 1829
        },
        "endLoc": {
          "line": 276,
          "column": 53,
          "position": 1939
        }
      },
      "secondFile": {
        "name": "src/access-control/services/role-management.service.ts",
        "start": 149,
        "end": 170,
        "startLoc": {
          "line": 149,
          "column": 7,
          "position": 1043
        },
        "endLoc": {
          "line": 170,
          "column": 57,
          "position": 1153
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "extends BaseService {\n  constructor(\n    protected readonly requestContext: RequestContextService,\n    @InjectConnection() private readonly sequelize: Sequelize,\n    @Inject('IAuditLogger') private readonly auditService: AuditService,\n    private readonly cacheService: PermissionCacheService,\n  ) {\n    super(requestContext);\n  }\n\n  /**\n   * Get Sequelize models dynamically\n   */\n  private getModel<T>(modelName: string): SequelizeModelClass<T> {\n    return this.sequelize.models[modelName];\n  }\n\n  /**\n   * Get all permissions ordered by resource and action\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/services/permission-management.service.ts",
        "start": 27,
        "end": 46,
        "startLoc": {
          "line": 27,
          "column": 2,
          "position": 163
        },
        "endLoc": {
          "line": 46,
          "column": 6,
          "position": 287
        }
      },
      "secondFile": {
        "name": "src/access-control/services/role-management.service.ts",
        "start": 29,
        "end": 48,
        "startLoc": {
          "line": 29,
          "column": 2,
          "position": 183
        },
        "endLoc": {
          "line": 48,
          "column": 6,
          "position": 307
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ".name);\n\n  constructor(\n    @InjectConnection() private readonly sequelize: Sequelize,\n    @Inject('IAuditLogger') private readonly auditService: AuditService,\n  ) {}\n\n  /**\n   * Get Sequelize models dynamically\n   */\n  private getModel<T>(modelName: string): SequelizeModelClass<T> {\n    return this.sequelize.models[modelName];\n  }\n\n  /**\n   * Get all active IP restrictions\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/services/ip-restriction-management.service.ts",
        "start": 21,
        "end": 37,
        "startLoc": {
          "line": 21,
          "column": 31,
          "position": 152
        },
        "endLoc": {
          "line": 37,
          "column": 6,
          "position": 245
        }
      },
      "secondFile": {
        "name": "src/access-control/services/session-management.service.ts",
        "start": 21,
        "end": 37,
        "startLoc": {
          "line": 21,
          "column": 25,
          "position": 136
        },
        "endLoc": {
          "line": 37,
          "column": 6,
          "position": 229
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ".name);\n\n  constructor(\n    private reflector: Reflector,\n    private accessControlService: AccessControlService,\n  ) {}\n\n  async canActivate(context: ExecutionContext): Promise<boolean> {\n    const startTime = Date.now();\n    const handler = context.getHandler().name;\n    const controller = context.getClass().name;\n\n    try {\n      // Check if route is marked as public\n      const isPublic = this.reflector.getAllAndOverride<boolean>(\n        IS_PUBLIC_KEY,\n        [context.getHandler(), context.getClass()],\n      );\n\n      if (isPublic) {\n        this.logger.debug('Public route - skipping permission check'",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/guards/permissions.guard.ts",
        "start": 18,
        "end": 38,
        "startLoc": {
          "line": 18,
          "column": 17,
          "position": 111
        },
        "endLoc": {
          "line": 38,
          "column": 43,
          "position": 279
        }
      },
      "secondFile": {
        "name": "src/access-control/guards/roles.guard.ts",
        "start": 20,
        "end": 40,
        "startLoc": {
          "line": 20,
          "column": 11,
          "position": 125
        },
        "endLoc": {
          "line": 40,
          "column": 37,
          "position": 293
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ", {\n          handler,\n          controller,\n        });\n        return true;\n      }\n\n      // Get user from request\n      const request = context.switchToHttp().getRequest();\n      const user = request.user;\n\n      if (!user || !user.id) {\n        this.logger.warn('Authorization failed: No authenticated user', {\n          handler,\n          controller,\n          requiredPermission",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/guards/permissions.guard.ts",
        "start": 53,
        "end": 68,
        "startLoc": {
          "line": 53,
          "column": 44,
          "position": 385
        },
        "endLoc": {
          "line": 68,
          "column": 19,
          "position": 484
        }
      },
      "secondFile": {
        "name": "src/access-control/guards/roles.guard.ts",
        "start": 55,
        "end": 70,
        "startLoc": {
          "line": 55,
          "column": 38,
          "position": 400
        },
        "endLoc": {
          "line": 70,
          "column": 14,
          "position": 499
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", {\n          duration,\n          handler,\n          controller,\n        });\n      }\n\n      return true;\n    } catch (error) {\n      const duration = Date.now() - startTime;\n\n      // Re-throw ForbiddenException\n      if (error instanceof ForbiddenException) {\n        throw error;\n      }\n\n      // Log unexpected errors\n      this.logger.error('Permissions guard execution failed'",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/guards/permissions.guard.ts",
        "start": 114,
        "end": 131,
        "startLoc": {
          "line": 114,
          "column": 35,
          "position": 786
        },
        "endLoc": {
          "line": 131,
          "column": 37,
          "position": 883
        }
      },
      "secondFile": {
        "name": "src/access-control/guards/roles.guard.ts",
        "start": 123,
        "end": 140,
        "startLoc": {
          "line": 123,
          "column": 29,
          "position": 866
        },
        "endLoc": {
          "line": 140,
          "column": 31,
          "position": 963
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ",\n    example: '192.168.1.1',\n    required: false,\n  })\n  @IsOptional()\n  @IsString()\n  ipAddress?: string;\n\n  @ApiProperty({\n    description: 'User agent string',\n    example: 'Mozilla/5.0...',\n    required: false,\n  })\n  @IsOptional()\n  @IsString()\n  userAgent?: string;\n\n  @ApiProperty({\n    description: 'Session expiration date'",
      "tokens": 0,
      "firstFile": {
        "name": "src/access-control/dto/create-session.dto.ts",
        "start": 23,
        "end": 41,
        "startLoc": {
          "line": 23,
          "column": 25,
          "position": 144
        },
        "endLoc": {
          "line": 41,
          "column": 26,
          "position": 247
        }
      },
      "secondFile": {
        "name": "src/access-control/dto/log-login-attempt.dto.ts",
        "start": 23,
        "end": 41,
        "startLoc": {
          "line": 23,
          "column": 34,
          "position": 145
        },
        "endLoc": {
          "line": 41,
          "column": 37,
          "position": 248
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": "},\n      seriesComplete: false\n    };\n\n    if (studentId) {\n      whereClause.studentId = studentId;\n    }\n\n    if (vaccineType) {\n      whereClause.vaccineType = { [Op.iLike]: `%${vaccineType}%` };\n    }\n\n    return await this.vaccinationModel.findAll({\n      where: whereClause,\n      include: [{\n        model: Student,\n        as: 'student',\n        attributes: ['id', 'firstName', 'lastName', 'dateOfBirth']\n      }],\n      order: [['nextDueDate', 'ASC']],\n      limit\n    });\n  }\n\n  async",
      "tokens": 0,
      "firstFile": {
        "name": "src/vaccinations/vaccinations.service.ts",
        "start": 124,
        "end": 148,
        "startLoc": {
          "line": 124,
          "column": 2,
          "position": 1212
        },
        "endLoc": {
          "line": 148,
          "column": 6,
          "position": 1377
        }
      },
      "secondFile": {
        "name": "src/vaccinations/vaccinations.service.ts",
        "start": 92,
        "end": 118,
        "startLoc": {
          "line": 92,
          "column": 7,
          "position": 959
        },
        "endLoc": {
          "line": 118,
          "column": 6,
          "position": 1124
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ",\n            isActive: true,\n          },\n          order: [\n            ['lastName', 'ASC'],\n            ['firstName', 'ASC'],\n          ],\n          attributes: {\n            exclude: [\n              'password',\n              'passwordResetToken',\n              'passwordResetExpires',\n              'emailVerificationToken',\n              'emailVerificationExpires',\n              'twoFactorSecret',\n            ],\n          },\n        },\n        {\n          ttl: 600, // 10 minutes - role lists are relatively stable",
      "tokens": 0,
      "firstFile": {
        "name": "src/user/user.service.ts",
        "start": 378,
        "end": 397,
        "startLoc": {
          "line": 378,
          "column": 5,
          "position": 2568
        },
        "endLoc": {
          "line": 397,
          "column": 49,
          "position": 2667
        }
      },
      "secondFile": {
        "name": "src/user/__tests__/user.service.spec.ts",
        "start": 626,
        "end": 646,
        "startLoc": {
          "line": 626,
          "column": 6,
          "position": 4689
        },
        "endLoc": {
          "line": 646,
          "column": 10,
          "position": 4789
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "({\n        where: {\n          role: UserRole.NURSE,\n          isActive: true,\n        },\n        order: [\n          ['lastName', 'ASC'],\n          ['firstName', 'ASC'],\n        ],\n        attributes: {\n          exclude: [\n            'password',\n            'passwordResetToken',\n            'passwordResetExpires',\n            'emailVerificationToken',\n            'emailVerificationExpires',\n            'twoFactorSecret',\n          ],\n        },\n      });\n\n      // Note: Student counts would require Student model to be imported",
      "tokens": 0,
      "firstFile": {
        "name": "src/user/user.service.ts",
        "start": 449,
        "end": 470,
        "startLoc": {
          "line": 449,
          "column": 8,
          "position": 3004
        },
        "endLoc": {
          "line": 470,
          "column": 67,
          "position": 3112
        }
      },
      "secondFile": {
        "name": "src/user/__tests__/user.service.spec.ts",
        "start": 713,
        "end": 733,
        "startLoc": {
          "line": 713,
          "column": 21,
          "position": 5331
        },
        "endLoc": {
          "line": 733,
          "column": 2,
          "position": 5438
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ": {\n        type: 'object',\n        properties: {\n          id: { type: 'string', format: 'uuid' },\n          type: {\n            type: 'string',\n            enum: ['whitelist', 'blacklist', 'geo_restriction'],\n          },\n          ipAddress: { type: 'string' },\n          description: { type: 'string' },\n          isActive: { type: 'boolean' },\n          createdAt: { type: 'string', format: 'date-time' },\n          updatedAt",
      "tokens": 0,
      "firstFile": {
        "name": "src/security/security.controller.ts",
        "start": 95,
        "end": 107,
        "startLoc": {
          "line": 95,
          "column": 6,
          "position": 776
        },
        "endLoc": {
          "line": 107,
          "column": 10,
          "position": 908
        }
      },
      "secondFile": {
        "name": "src/security/security.controller.ts",
        "start": 43,
        "end": 55,
        "startLoc": {
          "line": 43,
          "column": 7,
          "position": 325
        },
        "endLoc": {
          "line": 55,
          "column": 2,
          "position": 457
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ",\n  })\n  @ApiQuery({\n    name: 'page',\n    required: false,\n    type: 'number',\n    example: 1,\n    description: 'Page number for pagination',\n  })\n  @ApiQuery({\n    name: 'limit',\n    required: false,\n    type: 'number',\n    example: 20,\n    description: 'Items per page',\n  })\n  @ApiResponse({\n    status: 200,\n    description: 'Security incidents retrieved successfully with pagination'",
      "tokens": 0,
      "firstFile": {
        "name": "src/security/security.controller.ts",
        "start": 291,
        "end": 309,
        "startLoc": {
          "line": 291,
          "column": 26,
          "position": 2497
        },
        "endLoc": {
          "line": 309,
          "column": 60,
          "position": 2610
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 57,
        "end": 75,
        "startLoc": {
          "line": 57,
          "column": 29,
          "position": 472
        },
        "endLoc": {
          "line": 75,
          "column": 43,
          "position": 585
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ": { type: 'string', format: 'date-time' },\n            },\n          },\n        },\n        pagination: {\n          type: 'object',\n          properties: {\n            page: { type: 'number' },\n            limit: { type: 'number' },\n            total: { type: 'number' },\n            pages: { type: 'number' },\n          },\n        },\n      },\n    },\n  })\n  @ApiResponse({\n    status: 401,\n    description: 'Unauthorized - Authentication required',\n  })\n  @ApiResponse({ status: 500, description: 'Internal server error' })\n  async listIncidents",
      "tokens": 0,
      "firstFile": {
        "name": "src/security/security.controller.ts",
        "start": 325,
        "end": 346,
        "startLoc": {
          "line": 325,
          "column": 10,
          "position": 2776
        },
        "endLoc": {
          "line": 346,
          "column": 14,
          "position": 2948
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 95,
        "end": 116,
        "startLoc": {
          "line": 95,
          "column": 10,
          "position": 799
        },
        "endLoc": {
          "line": 116,
          "column": 13,
          "position": 971
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ");\n      }\n\n      // Footer\n      doc.setFontSize(8);\n      doc.text(`Generated: ${new Date().toLocaleString()}`, 20, 280);\n      doc.text('White Cross Healthcare Platform', 105, 285, {\n        align: 'center',\n      });\n\n      const pdfBuffer = Buffer.from(doc.output('arraybuffer'));\n      this.logger.log(`Medication log PDF generated for ID: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/pdf/pdf.service.ts",
        "start": 167,
        "end": 178,
        "startLoc": {
          "line": 167,
          "column": 2,
          "position": 1533
        },
        "endLoc": {
          "line": 178,
          "column": 39,
          "position": 1635
        }
      },
      "secondFile": {
        "name": "src/pdf/pdf.service.ts",
        "start": 115,
        "end": 126,
        "startLoc": {
          "line": 115,
          "column": 10,
          "position": 1018
        },
        "endLoc": {
          "line": 126,
          "column": 47,
          "position": 1120
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "},\n        });\n      }\n\n      // Footer\n      doc.setFontSize(8);\n      doc.text(`Generated: ${new Date().toLocaleString()}`, 20, 280);\n      doc.text('White Cross Healthcare Platform', 105, 285, {\n        align: 'center',\n      });\n\n      const pdfBuffer = Buffer.from(doc.output('arraybuffer'));\n      this.logger.log('Immunization compliance report PDF generated'",
      "tokens": 0,
      "firstFile": {
        "name": "src/pdf/pdf.service.ts",
        "start": 222,
        "end": 234,
        "startLoc": {
          "line": 222,
          "column": 11,
          "position": 2076
        },
        "endLoc": {
          "line": 234,
          "column": 47,
          "position": 2183
        }
      },
      "secondFile": {
        "name": "src/pdf/pdf.service.ts",
        "start": 166,
        "end": 126,
        "startLoc": {
          "line": 166,
          "column": 2,
          "position": 1528
        },
        "endLoc": {
          "line": 126,
          "column": 47,
          "position": 1120
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "}\n\n      // Footer\n      doc.setFontSize(8);\n      doc.text(`Generated: ${new Date().toLocaleString()}`, 20, 280);\n      doc.text('White Cross Healthcare Platform', 105, 285, {\n        align: 'center',\n      });\n\n      const pdfBuffer = Buffer.from(doc.output('arraybuffer'));\n      this.logger.log(`Custom report PDF generated: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/pdf/pdf.service.ts",
        "start": 351,
        "end": 361,
        "startLoc": {
          "line": 351,
          "column": 7,
          "position": 3264
        },
        "endLoc": {
          "line": 361,
          "column": 31,
          "position": 3362
        }
      },
      "secondFile": {
        "name": "src/pdf/pdf.service.ts",
        "start": 116,
        "end": 126,
        "startLoc": {
          "line": 116,
          "column": 7,
          "position": 1022
        },
        "endLoc": {
          "line": 126,
          "column": 47,
          "position": 1120
        }
      }
    },
    {
      "format": "javascript",
      "lines": 17,
      "fragment": ",\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      // =====================================================\n      // Create vital_signs Table",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/20251010000004-create-measurements-tables.js",
        "start": 127,
        "end": 143,
        "startLoc": {
          "line": 127,
          "column": 5,
          "position": 728
        },
        "endLoc": {
          "line": 143,
          "column": 28,
          "position": 830
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20250103000002-create-additional-critical-tables.js",
        "start": 144,
        "end": 115,
        "startLoc": {
          "line": 144,
          "column": 5,
          "position": 702
        },
        "endLoc": {
          "line": 115,
          "column": 32,
          "position": 597
        }
      }
    },
    {
      "format": "javascript",
      "lines": 19,
      "fragment": ", {\n        id: {\n          type: Sequelize.STRING,\n          primaryKey: true,\n          allowNull: false\n        },\n        measurementDate: {\n          type: Sequelize.DATE,\n          allowNull: false\n        },\n        measuredBy: {\n          type: Sequelize.TEXT,\n          allowNull: false\n        },\n        measuredByRole: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        temperature",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/20251010000004-create-measurements-tables.js",
        "start": 146,
        "end": 164,
        "startLoc": {
          "line": 146,
          "column": 14,
          "position": 844
        },
        "endLoc": {
          "line": 164,
          "column": 12,
          "position": 956
        }
      },
      "secondFile": {
        "name": "src/migrations/20251010000004-create-measurements-tables.js",
        "start": 30,
        "end": 48,
        "startLoc": {
          "line": 30,
          "column": 22,
          "position": 74
        },
        "endLoc": {
          "line": 48,
          "column": 7,
          "position": 186
        }
      }
    },
    {
      "format": "javascript",
      "lines": 28,
      "fragment": ",\n          allowNull: true\n        },\n        notes: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        studentId: {\n          type: Sequelize.STRING,\n          allowNull: false,\n          references: {\n            model: 'students',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'CASCADE'\n        },\n        healthRecordId: {\n          type: Sequelize.STRING,\n          allowNull: true,\n          references: {\n            model: 'health_records',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'SET NULL'\n        },\n        appointmentId",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/20251010000004-create-measurements-tables.js",
        "start": 230,
        "end": 257,
        "startLoc": {
          "line": 230,
          "column": 8,
          "position": 1395
        },
        "endLoc": {
          "line": 257,
          "column": 14,
          "position": 1557
        }
      },
      "secondFile": {
        "name": "src/migrations/20251010000004-create-measurements-tables.js",
        "start": 95,
        "end": 122,
        "startLoc": {
          "line": 95,
          "column": 5,
          "position": 529
        },
        "endLoc": {
          "line": 122,
          "column": 10,
          "position": 691
        }
      }
    },
    {
      "format": "javascript",
      "lines": 27,
      "fragment": ",\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'SET NULL'\n        },\n        createdBy: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      await",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/20251010000004-create-measurements-tables.js",
        "start": 261,
        "end": 287,
        "startLoc": {
          "line": 261,
          "column": 15,
          "position": 1589
        },
        "endLoc": {
          "line": 287,
          "column": 6,
          "position": 1755
        }
      },
      "secondFile": {
        "name": "src/migrations/20251010000004-create-measurements-tables.js",
        "start": 116,
        "end": 114,
        "startLoc": {
          "line": 116,
          "column": 17,
          "position": 661
        },
        "endLoc": {
          "line": 114,
          "column": 57,
          "position": 594
        }
      }
    },
    {
      "format": "javascript",
      "lines": 49,
      "fragment": ",\n          allowNull: true\n        },\n        notes: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        studentId: {\n          type: Sequelize.STRING,\n          allowNull: false,\n          references: {\n            model: 'students',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'CASCADE'\n        },\n        healthRecordId: {\n          type: Sequelize.STRING,\n          allowNull: true,\n          references: {\n            model: 'health_records',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'SET NULL'\n        },\n        createdBy: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      await transaction.commit();\n      console.log(' Screenings table migration completed successfully'",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/20251010000003-create-screenings-table.js",
        "start": 118,
        "end": 166,
        "startLoc": {
          "line": 118,
          "column": 8,
          "position": 691
        },
        "endLoc": {
          "line": 166,
          "column": 54,
          "position": 1003
        }
      },
      "secondFile": {
        "name": "src/migrations/20251010000004-create-measurements-tables.js",
        "start": 95,
        "end": 288,
        "startLoc": {
          "line": 95,
          "column": 5,
          "position": 529
        },
        "endLoc": {
          "line": 288,
          "column": 80,
          "position": 1769
        }
      }
    },
    {
      "format": "javascript",
      "lines": 50,
      "fragment": ": {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        notes: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        studentId: {\n          type: Sequelize.STRING,\n          allowNull: false,\n          references: {\n            model: 'students',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'CASCADE'\n        },\n        healthRecordId: {\n          type: Sequelize.STRING,\n          allowNull: true,\n          references: {\n            model: 'health_records',\n            key: 'id'\n          },\n          onUpdate: 'CASCADE',\n          onDelete: 'SET NULL'\n        },\n        createdBy: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        updatedBy: {\n          type: Sequelize.TEXT,\n          allowNull: true\n        },\n        createdAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        },\n        updatedAt: {\n          type: Sequelize.DATE,\n          allowNull: false,\n          defaultValue: Sequelize.literal('CURRENT_TIMESTAMP')\n        }\n      }, { transaction });\n\n      await transaction.commit();\n      console.log(' Vaccinations table migration completed successfully'",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/20251010000002-create-vaccinations-table.js",
        "start": 164,
        "end": 213,
        "startLoc": {
          "line": 164,
          "column": 10,
          "position": 998
        },
        "endLoc": {
          "line": 213,
          "column": 56,
          "position": 1321
        }
      },
      "secondFile": {
        "name": "src/migrations/20251010000004-create-measurements-tables.js",
        "start": 94,
        "end": 288,
        "startLoc": {
          "line": 94,
          "column": 9,
          "position": 518
        },
        "endLoc": {
          "line": 288,
          "column": 80,
          "position": 1769
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "},\n            },\n          },\n        },\n        pagination: {\n          type: 'object',\n          properties: {\n            page: { type: 'number' },\n            limit: { type: 'number' },\n            total: { type: 'number' },\n            pages: { type: 'number' },\n          },\n        },\n      },\n    },\n  })\n  @ApiResponse({\n    status: 401,\n    description: 'Unauthorized - Missing or invalid JWT token'",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/medication.controller.ts",
        "start": 123,
        "end": 141,
        "startLoc": {
          "line": 123,
          "column": 2,
          "position": 748
        },
        "endLoc": {
          "line": 141,
          "column": 46,
          "position": 875
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 95,
        "end": 113,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 814
        },
        "endLoc": {
          "line": 113,
          "column": 41,
          "position": 941
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ": {\n      type: 'object',\n      properties: {\n        id: { type: 'string', format: 'uuid' },\n        name: { type: 'string' },\n        dosage: { type: 'string' },\n        frequency: { type: 'string' },\n        route: { type: 'string' },\n        prescribedBy: { type: 'string' },\n        startDate: { type: 'string', format: 'date-time' },\n        studentId",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/medication.controller.ts",
        "start": 187,
        "end": 197,
        "startLoc": {
          "line": 187,
          "column": 7,
          "position": 1154
        },
        "endLoc": {
          "line": 197,
          "column": 10,
          "position": 1282
        }
      },
      "secondFile": {
        "name": "src/medication/medication.controller.ts",
        "start": 111,
        "end": 121,
        "startLoc": {
          "line": 111,
          "column": 6,
          "position": 564
        },
        "endLoc": {
          "line": 121,
          "column": 8,
          "position": 692
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ",\n  })\n  @ApiResponse({\n    status: 401,\n    description: 'Unauthorized - Authentication required',\n  })\n  @ApiResponse({\n    status: 403,\n    description: 'Forbidden - Requires NURSE or ADMIN role',\n  })\n  @ApiResponse({\n    status: 404,\n    description: 'Medication not found',\n  })\n  @ApiResponse({\n    status: 500,\n    description: 'Internal server error',\n  })\n  async deactivate",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/medication.controller.ts",
        "start": 342,
        "end": 360,
        "startLoc": {
          "line": 342,
          "column": 54,
          "position": 2228
        },
        "endLoc": {
          "line": 360,
          "column": 11,
          "position": 2333
        }
      },
      "secondFile": {
        "name": "src/medication/medication.controller.ts",
        "start": 292,
        "end": 310,
        "startLoc": {
          "line": 292,
          "column": 72,
          "position": 1907
        },
        "endLoc": {
          "line": 310,
          "column": 7,
          "position": 2012
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ",\n  })\n  @ApiResponse({\n    status: 401,\n    description: 'Unauthorized - Authentication required',\n  })\n  @ApiResponse({\n    status: 403,\n    description: 'Forbidden - Requires NURSE or ADMIN role',\n  })\n  @ApiResponse({\n    status: 404,\n    description: 'Medication not found',\n  })\n  @ApiResponse({\n    status: 500,\n    description: 'Internal server error',\n  })\n  async activate",
      "tokens": 0,
      "firstFile": {
        "name": "src/medication/medication.controller.ts",
        "start": 387,
        "end": 405,
        "startLoc": {
          "line": 387,
          "column": 36,
          "position": 2516
        },
        "endLoc": {
          "line": 405,
          "column": 9,
          "position": 2621
        }
      },
      "secondFile": {
        "name": "src/medication/medication.controller.ts",
        "start": 292,
        "end": 310,
        "startLoc": {
          "line": 292,
          "column": 72,
          "position": 1907
        },
        "endLoc": {
          "line": 310,
          "column": 7,
          "position": 2012
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n  })\n  @ApiQuery({\n    name: 'page',\n    required: false,\n    type: 'number',\n    example: 1,\n    description: 'Page number for pagination',\n  })\n  @ApiQuery({\n    name: 'limit',\n    required: false,\n    type: 'number',\n    example: 20,\n    description: 'Items per page',\n  })\n  @ApiQuery",
      "tokens": 0,
      "firstFile": {
        "name": "src/inventory/inventory.controller.ts",
        "start": 86,
        "end": 102,
        "startLoc": {
          "line": 86,
          "column": 198,
          "position": 815
        },
        "endLoc": {
          "line": 102,
          "column": 9,
          "position": 913
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 57,
        "end": 73,
        "startLoc": {
          "line": 57,
          "column": 29,
          "position": 472
        },
        "endLoc": {
          "line": 73,
          "column": 12,
          "position": 570
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "},\n            },\n          },\n        },\n        pagination: {\n          type: 'object',\n          properties: {\n            page: { type: 'number' },\n            limit: { type: 'number' },\n            total: { type: 'number' },\n            pages: { type: 'number' },\n          },\n        },\n        summary",
      "tokens": 0,
      "firstFile": {
        "name": "src/inventory/inventory.controller.ts",
        "start": 165,
        "end": 178,
        "startLoc": {
          "line": 165,
          "column": 2,
          "position": 1408
        },
        "endLoc": {
          "line": 178,
          "column": 8,
          "position": 1507
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 95,
        "end": 108,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 814
        },
        "endLoc": {
          "line": 108,
          "column": 2,
          "position": 913
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "})\n  @ApiQuery({\n    name: 'page',\n    required: false,\n    type: Number,\n    description: 'Page number (default: 1)',\n  })\n  @ApiQuery({\n    name: 'limit',\n    required: false,\n    type: Number,\n    description: 'Items per page (default: 20)',\n  })\n  @ApiResponse({\n    status: 200,\n    description: 'Logs retrieved successfully'",
      "tokens": 0,
      "firstFile": {
        "name": "src/integration/integration.controller.ts",
        "start": 249,
        "end": 264,
        "startLoc": {
          "line": 249,
          "column": 3,
          "position": 1929
        },
        "endLoc": {
          "line": 264,
          "column": 30,
          "position": 2025
        }
      },
      "secondFile": {
        "name": "src/clinical/controllers/medication-administration-reporting.controller.ts",
        "start": 22,
        "end": 37,
        "startLoc": {
          "line": 22,
          "column": 2,
          "position": 142
        },
        "endLoc": {
          "line": 37,
          "column": 48,
          "position": 238
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ",\n  })\n  @ApiQuery({\n    name: 'page',\n    required: false,\n    type: 'number',\n    example: 1,\n    description: 'Page number for pagination',\n  })\n  @ApiQuery({\n    name: 'limit',\n    required: false,\n    type: 'number',\n    example: 20,\n    description: 'Items per page',\n  })\n  @ApiQuery({\n    name: 'type'",
      "tokens": 0,
      "firstFile": {
        "name": "src/incident-report/incident-report.controller.ts",
        "start": 46,
        "end": 63,
        "startLoc": {
          "line": 46,
          "column": 170,
          "position": 352
        },
        "endLoc": {
          "line": 63,
          "column": 7,
          "position": 458
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 57,
        "end": 103,
        "startLoc": {
          "line": 57,
          "column": 29,
          "position": 472
        },
        "endLoc": {
          "line": 103,
          "column": 11,
          "position": 921
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n    schema: {\n      type: 'object',\n      properties: {\n        incidents: {\n          type: 'array',\n          items: {\n            type: 'object',\n            properties: {\n              id: { type: 'string', format: 'uuid' },\n              incidentNumber: { type: 'string' },\n              type: { type: 'string' },\n              severity: { type: 'string' },\n              status: { type: 'string' },\n              studentId",
      "tokens": 0,
      "firstFile": {
        "name": "src/incident-report/incident-report.controller.ts",
        "start": 99,
        "end": 113,
        "startLoc": {
          "line": 99,
          "column": 78,
          "position": 692
        },
        "endLoc": {
          "line": 113,
          "column": 10,
          "position": 822
        }
      },
      "secondFile": {
        "name": "src/security/security.controller.ts",
        "start": 309,
        "end": 323,
        "startLoc": {
          "line": 309,
          "column": 60,
          "position": 2611
        },
        "endLoc": {
          "line": 323,
          "column": 6,
          "position": 2741
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ": { type: 'boolean' },\n            },\n          },\n        },\n        pagination: {\n          type: 'object',\n          properties: {\n            page: { type: 'number' },\n            limit: { type: 'number' },\n            total: { type: 'number' },\n            pages: { type: 'number' },\n          },\n        },\n        summary: {\n          type: 'object',\n          properties: {\n            totalIncidents",
      "tokens": 0,
      "firstFile": {
        "name": "src/incident-report/incident-report.controller.ts",
        "start": 117,
        "end": 133,
        "startLoc": {
          "line": 117,
          "column": 17,
          "position": 891
        },
        "endLoc": {
          "line": 133,
          "column": 15,
          "position": 1018
        }
      },
      "secondFile": {
        "name": "src/inventory/inventory.controller.ts",
        "start": 165,
        "end": 181,
        "startLoc": {
          "line": 165,
          "column": 16,
          "position": 1399
        },
        "endLoc": {
          "line": 181,
          "column": 11,
          "position": 1526
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ";\n  }\n\n  /**\n   * Get all health records with optional filtering and pagination\n   * @param page - Page number (default: 1)\n   * @param limit - Records per page (default: 20)\n   * @param filters - Optional filtering criteria\n   * @returns Paginated health records across all students\n   */\n  async getAllHealthRecords(\n    page: number = 1,\n    limit: number = 20,\n    filters: {\n      type?: string;\n      dateFrom?: Date;\n      dateTo?: Date;\n      provider?: string;\n      studentId?: string;\n    } = {},\n  ): Promise<PaginatedHealthRecords<HealthRecord>> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-record/health-record.service.ts",
        "start": 341,
        "end": 362,
        "startLoc": {
          "line": 341,
          "column": 2,
          "position": 1722
        },
        "endLoc": {
          "line": 362,
          "column": 7,
          "position": 1828
        }
      },
      "secondFile": {
        "name": "src/health-record/services/health-record-crud.service.ts",
        "start": 254,
        "end": 275,
        "startLoc": {
          "line": 254,
          "column": 2,
          "position": 1684
        },
        "endLoc": {
          "line": 275,
          "column": 6,
          "position": 1790
        }
      }
    },
    {
      "format": "typescript",
      "lines": 35,
      "fragment": ",\n        },\n        vitals: {\n          type: 'object',\n          properties: {\n            heartRate: {\n              type: 'number',\n              example: 72,\n              description: 'Heart rate in BPM',\n            },\n            bloodPressure: {\n              type: 'object',\n              properties: {\n                systolic: { type: 'number', example: 120 },\n                diastolic: { type: 'number', example: 80 },\n              },\n            },\n            temperature: {\n              type: 'number',\n              example: 98.6,\n              description: 'Temperature in Fahrenheit',\n            },\n            oxygenSaturation: {\n              type: 'number',\n              example: 98,\n              description: 'SpO2 percentage',\n            },\n            respiratoryRate: {\n              type: 'number',\n              example: 16,\n              description: 'Breaths per minute',\n            },\n          },\n        },\n        recordedBy",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-metrics/health-metrics.controller.ts",
        "start": 408,
        "end": 442,
        "startLoc": {
          "line": 408,
          "column": 21,
          "position": 2770
        },
        "endLoc": {
          "line": 442,
          "column": 11,
          "position": 2995
        }
      },
      "secondFile": {
        "name": "src/health-metrics/health-metrics.controller.ts",
        "start": 96,
        "end": 130,
        "startLoc": {
          "line": 96,
          "column": 23,
          "position": 713
        },
        "endLoc": {
          "line": 130,
          "column": 11,
          "position": 938
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ");\n\n    // Apply pagination\n    const start = (page - 1) * limit;\n    const end = start + limit;\n    const paginatedData = allergies.slice(start, end);\n\n    return {\n      data: paginatedData,\n      pagination: {\n        page,\n        limit,\n        total: allergies.length,\n        pages: Math.ceil(allergies.length / limit),\n      },\n    };\n  }\n\n  async",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/health-domain.service.ts",
        "start": 157,
        "end": 175,
        "startLoc": {
          "line": 157,
          "column": 5,
          "position": 1158
        },
        "endLoc": {
          "line": 175,
          "column": 6,
          "position": 1284
        }
      },
      "secondFile": {
        "name": "src/health-domain/services/health-domain-facade.service.ts",
        "start": 317,
        "end": 333,
        "startLoc": {
          "line": 317,
          "column": 9,
          "position": 2250
        },
        "endLoc": {
          "line": 333,
          "column": 6,
          "position": 2374
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "vaccinationService.getVaccinationHistory(studentId);\n\n    // Apply pagination\n    const start = (page - 1) * limit;\n    const end = start + limit;\n    const paginatedData = vaccinations.slice(start, end);\n\n    return {\n      data: paginatedData,\n      pagination: {\n        page,\n        limit,\n        total: vaccinations.length,\n        pages: Math.ceil(vaccinations.length / limit),\n      },\n    };\n  }\n\n  async",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/health-domain.service.ts",
        "start": 219,
        "end": 237,
        "startLoc": {
          "line": 219,
          "column": 2,
          "position": 1580
        },
        "endLoc": {
          "line": 237,
          "column": 6,
          "position": 1711
        }
      },
      "secondFile": {
        "name": "src/health-domain/services/health-domain-facade.service.ts",
        "start": 372,
        "end": 388,
        "startLoc": {
          "line": 372,
          "column": 2,
          "position": 2677
        },
        "endLoc": {
          "line": 388,
          "column": 6,
          "position": 2806
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "chronicConditionService.getChronicConditions(studentId);\n\n    // Apply pagination\n    const start = (page - 1) * limit;\n    const end = start + limit;\n    const paginatedData = conditions.slice(start, end);\n\n    return {\n      data: paginatedData,\n      pagination: {\n        page,\n        limit,\n        total: conditions.length,\n        pages: Math.ceil(conditions.length / limit),\n      },\n    };\n  }\n\n  /**\n   * Vital Signs Operations\n   * Delegates to VitalsService from health-record module\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/health-domain/health-domain.service.ts",
        "start": 289,
        "end": 310,
        "startLoc": {
          "line": 289,
          "column": 2,
          "position": 2056
        },
        "endLoc": {
          "line": 310,
          "column": 6,
          "position": 2187
        }
      },
      "secondFile": {
        "name": "src/health-domain/services/health-domain-facade.service.ts",
        "start": 439,
        "end": 455,
        "startLoc": {
          "line": 439,
          "column": 2,
          "position": 3209
        },
        "endLoc": {
          "line": 455,
          "column": 6,
          "position": 3338
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "K: '1',\n    '1': '2',\n    '2': '3',\n    '3': '4',\n    '4': '5',\n    '5': '6',\n    '6': '7',\n    '7': '8',\n    '8': '9',\n    '9': '10',\n    '10': '11',\n    '11': '12',\n    '12': 'Graduate'",
      "tokens": 0,
      "firstFile": {
        "name": "src/grade-transition/grade-transition.service.ts",
        "start": 22,
        "end": 34,
        "startLoc": {
          "line": 22,
          "column": 5,
          "position": 154
        },
        "endLoc": {
          "line": 34,
          "column": 11,
          "position": 241
        }
      },
      "secondFile": {
        "name": "src/student/services/student-academic.service.ts",
        "start": 283,
        "end": 295,
        "startLoc": {
          "line": 283,
          "column": 9,
          "position": 2142
        },
        "endLoc": {
          "line": 295,
          "column": 12,
          "position": 2229
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\nimport { ReminderSchedulerService } from './reminder-scheduler.service';\nimport { PhotoVideoEvidenceService } from './photo-video-evidence.service';\nimport { WitnessStatementService } from './witness-statement.service';\nimport { InsuranceClaimService } from './insurance-claim.service';\nimport { HipaaComplianceService } from './hipaa-compliance.service';\nimport { RegulationTrackingService } from './regulation-tracking.service';\nimport { ConsentFormManagementService } from './consent-form-management.service';\nimport { MessageTemplateLibraryService } from './message-template-library.service';\nimport { BulkMessagingService } from './bulk-messaging.service';\nimport { LanguageTranslationService } from './language-translation.service';\nimport { CustomReportBuilderService } from './custom-report-builder.service';\nimport { AnalyticsDashboardService } from './analytics-dashboard.service';\nimport { MetricsService",
      "tokens": 0,
      "firstFile": {
        "name": "src/enterprise-features/enterprise-features.module.ts",
        "start": 22,
        "end": 35,
        "startLoc": {
          "line": 22,
          "column": 52,
          "position": 284
        },
        "endLoc": {
          "line": 35,
          "column": 15,
          "position": 446
        }
      },
      "secondFile": {
        "name": "src/enterprise-features/enterprise-features.service.ts",
        "start": 3,
        "end": 17,
        "startLoc": {
          "line": 3,
          "column": 35,
          "position": 40
        },
        "endLoc": {
          "line": 17,
          "column": 14,
          "position": 203
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": "): EmergencyBroadcastResponseDto {\n    return {\n      id: broadcast.id!,\n      type: broadcast.type,\n      priority: broadcast.priority,\n      title: broadcast.title,\n      message: broadcast.message,\n      audience: broadcast.audience,\n      schoolId: broadcast.schoolId,\n      gradeLevel: broadcast.gradeLevel,\n      classId: broadcast.classId,\n      groupIds: broadcast.groupIds,\n      channels: broadcast.channels,\n      requiresAcknowledgment: broadcast.requiresAcknowledgment,\n      expiresAt: broadcast.expiresAt,\n      sentBy: broadcast.sentBy,\n      sentAt: broadcast.sentAt,\n      status: broadcast.status,\n      totalRecipients: broadcast.totalRecipients,\n      deliveredCount: broadcast.deliveredCount,\n      failedCount: broadcast.failedCount,\n      acknowledgedCount: broadcast.acknowledgedCount,\n      followUpRequired: broadcast.followUpRequired,\n      followUpInstructions: broadcast.followUpInstructions,\n    };\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/emergency-broadcast/emergency-broadcast.service.ts",
        "start": 138,
        "end": 164,
        "startLoc": {
          "line": 138,
          "column": 3,
          "position": 821
        },
        "endLoc": {
          "line": 164,
          "column": 2,
          "position": 1039
        }
      },
      "secondFile": {
        "name": "src/emergency-broadcast/services/broadcast-management.service.ts",
        "start": 405,
        "end": 431,
        "startLoc": {
          "line": 405,
          "column": 19,
          "position": 2940
        },
        "endLoc": {
          "line": 431,
          "column": 2,
          "position": 3158
        }
      }
    },
    {
      "format": "typescript",
      "lines": 33,
      "fragment": ": string;\n  type: EmergencyType;\n  priority: EmergencyPriority;\n  title: string;\n  message: string;\n  audience: BroadcastAudience[];\n\n  // Targeting filters\n  schoolId?: string;\n  gradeLevel?: string;\n  classId?: string;\n  groupIds?: string[];\n\n  // Delivery options\n  channels: CommunicationChannel[];\n  requiresAcknowledgment?: boolean;\n  expiresAt?: Date;\n\n  // Metadata\n  sentBy: string;\n  sentAt: Date;\n  status: BroadcastStatus;\n\n  // Delivery tracking\n  totalRecipients?: number;\n  deliveredCount?: number;\n  failedCount?: number;\n  acknowledgedCount?: number;\n\n  // Follow-up\n  followUpRequired?: boolean;\n  followUpInstructions?: string;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/emergency-broadcast/emergency-broadcast.interfaces.ts",
        "start": 20,
        "end": 52,
        "startLoc": {
          "line": 20,
          "column": 2,
          "position": 56
        },
        "endLoc": {
          "line": 52,
          "column": 2,
          "position": 246
        }
      },
      "secondFile": {
        "name": "src/emergency-broadcast/dto/emergency-broadcast-response.dto.ts",
        "start": 15,
        "end": 47,
        "startLoc": {
          "line": 15,
          "column": 3,
          "position": 45
        },
        "endLoc": {
          "line": 47,
          "column": 2,
          "position": 235
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ") {\n    const transaction = await this.sequelize.transaction({\n      isolationLevel: Transaction.ISOLATION_LEVELS.SERIALIZABLE,\n    });\n\n    try {\n      const document = await this.documentModel.findByPk(id);\n      if (!document) {\n        throw new NotFoundException(`Document with ID ${id} not found`);\n      }\n\n      await",
      "tokens": 0,
      "firstFile": {
        "name": "src/document/document.service.ts",
        "start": 199,
        "end": 210,
        "startLoc": {
          "line": 199,
          "column": 7,
          "position": 1719
        },
        "endLoc": {
          "line": 210,
          "column": 6,
          "position": 1811
        }
      },
      "secondFile": {
        "name": "src/document/document.service.ts",
        "start": 148,
        "end": 159,
        "startLoc": {
          "line": 148,
          "column": 3,
          "position": 1293
        },
        "endLoc": {
          "line": 159,
          "column": 6,
          "position": 1385
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ",\n  })\n  @ApiQuery({\n    name: 'page',\n    required: false,\n    type: 'number',\n    example: 1,\n    description: 'Page number for pagination',\n  })\n  @ApiQuery({\n    name: 'limit',\n    required: false,\n    type: 'number',\n    example: 20,\n    description: 'Items per page (max 100)',\n  })\n  @ApiQuery({\n    name: 'category'",
      "tokens": 0,
      "firstFile": {
        "name": "src/document/document.controller.ts",
        "start": 36,
        "end": 53,
        "startLoc": {
          "line": 36,
          "column": 163,
          "position": 228
        },
        "endLoc": {
          "line": 53,
          "column": 11,
          "position": 334
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 57,
        "end": 459,
        "startLoc": {
          "line": 57,
          "column": 29,
          "position": 472
        },
        "endLoc": {
          "line": 459,
          "column": 7,
          "position": 3924
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "},\n            },\n          },\n        },\n        pagination: {\n          type: 'object',\n          properties: {\n            page: { type: 'number' },\n            limit: { type: 'number' },\n            total: { type: 'number' },\n            pages: { type: 'number' },\n          },\n        },\n      },\n    },\n  })\n  @ApiResponse({\n    status: 401,\n    description: 'Unauthorized - Authentication required',\n  })\n  @ApiResponse({\n    status: 403",
      "tokens": 0,
      "firstFile": {
        "name": "src/document/document.controller.ts",
        "start": 95,
        "end": 116,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 683
        },
        "endLoc": {
          "line": 116,
          "column": 4,
          "position": 827
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 95,
        "end": 115,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 814
        },
        "endLoc": {
          "line": 115,
          "column": 4,
          "position": 957
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ": { type: 'number' },\n          },\n        },\n      },\n    },\n  })\n  @ApiResponse({\n    status: 401,\n    description: 'Unauthorized - Authentication required',\n  })\n  @ApiResponse({\n    status: 403,\n    description: 'Forbidden - Insufficient permissions',\n  })\n  @ApiResponse({ status: 500, description: 'Internal server error' })\n  async getDocuments",
      "tokens": 0,
      "firstFile": {
        "name": "src/document/document.controller.ts",
        "start": 105,
        "end": 120,
        "startLoc": {
          "line": 105,
          "column": 6,
          "position": 761
        },
        "endLoc": {
          "line": 120,
          "column": 13,
          "position": 864
        }
      },
      "secondFile": {
        "name": "src/incident-report/incident-report.controller.ts",
        "start": 135,
        "end": 150,
        "startLoc": {
          "line": 135,
          "column": 16,
          "position": 1047
        },
        "endLoc": {
          "line": 150,
          "column": 19,
          "position": 1150
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "if (wrapper.metatype) {\n      metadata.featureFlag = this.reflector.get(\n        'feature-flag',\n        wrapper.metatype,\n      );\n      metadata.analyticsEnabled = this.reflector.get(\n        'analytics-enabled',\n        wrapper.metatype,\n      );\n      metadata.domain = this.reflector.get('domain', wrapper.metatype);\n      metadata.monitoringLevel",
      "tokens": 0,
      "firstFile": {
        "name": "src/discovery/discovery-example.service.ts",
        "start": 659,
        "end": 669,
        "startLoc": {
          "line": 659,
          "column": 5,
          "position": 4992
        },
        "endLoc": {
          "line": 669,
          "column": 16,
          "position": 5083
        }
      },
      "secondFile": {
        "name": "src/discovery/discovery-example.service.ts",
        "start": 618,
        "end": 628,
        "startLoc": {
          "line": 618,
          "column": 5,
          "position": 4659
        },
        "endLoc": {
          "line": 628,
          "column": 10,
          "position": 4750
        }
      }
    },
    {
      "format": "typescript",
      "lines": 65,
      "fragment": ",\n            autoLoadModels: true,\n            synchronize: configService.get('database.synchronize', false),\n            alter: configService.get('database.synchronize', false),\n            // OPTIMIZATION: Enhanced logging with slow query detection\n            // HIPAA COMPLIANCE: Always log in production for audit trail\n            logging: isProduction\n              ? (sql: string, timing?: number) => {\n                  // Always log queries in production for HIPAA compliance\n                  console.log(\n                    `[DB] ${sql.substring(0, 200)}${sql.length > 200 ? '...' : ''}`,\n                  );\n                  // Also warn about slow queries\n                  if (timing && timing > 1000) {\n                    console.warn(\n                      `SLOW QUERY (${timing}ms): ${sql.substring(0, 200)}...`,\n                    );\n                  }\n                }\n              : isDevelopment\n                ? console.log\n                : false,\n            benchmark: true,\n            // V6 recommended options\n            define: {\n              timestamps: true,\n              underscored: false,\n              freezeTableName: true,\n            },\n            // OPTIMIZATION: Production-ready connection pool configuration from environment\n            pool: {\n              max: configService.get<number>(\n                'DB_POOL_MAX',\n                isProduction ? 20 : 10,\n              ),\n              min: configService.get<number>(\n                'DB_POOL_MIN',\n                isProduction ? 5 : 2,\n              ),\n              acquire: configService.get<number>('DB_ACQUIRE_TIMEOUT', 60000),\n              idle: configService.get<number>('DB_IDLE_TIMEOUT', 10000),\n              evict: 1000, // Check for idle connections every 1s\n              handleDisconnects: true,\n              validate: (connection: any) => {\n                return connection && !connection._closed;\n              },\n            },\n            // Retry configuration for connection failures\n            retry: {\n              match: [\n                /ETIMEDOUT/,\n                /EHOSTUNREACH/,\n                /ECONNRESET/,\n                /ECONNREFUSED/,\n                /EHOSTDOWN/,\n                /ENETDOWN/,\n                /ENETUNREACH/,\n                /EAI_AGAIN/,\n                /connection is insecure/,\n                /SSL connection has been closed unexpectedly/,\n              ],\n              max: 5, // Increased retry attempts for cloud databases\n            },\n            dialectOptions: {\n              ...(sslEnabled",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/database.module.ts",
        "start": 278,
        "end": 342,
        "startLoc": {
          "line": 278,
          "column": 2,
          "position": 1439
        },
        "endLoc": {
          "line": 342,
          "column": 11,
          "position": 1913
        }
      },
      "secondFile": {
        "name": "src/database/database.module.ts",
        "start": 188,
        "end": 252,
        "startLoc": {
          "line": 188,
          "column": 12,
          "position": 750
        },
        "endLoc": {
          "line": 252,
          "column": 12,
          "position": 1224
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "},\n              updatedAt: { type: 'string', format: 'date-time' },\n            },\n          },\n        },\n        pagination: {\n          type: 'object',\n          properties: {\n            page: { type: 'number' },\n            limit: { type: 'number' },\n            total: { type: 'number' },\n            pages: { type: 'number' },\n          },\n        },\n      },\n    },\n  })\n  @ApiResponse({\n    status: 401,\n    description: 'Unauthorized - Authentication required',\n  })\n  @ApiResponse({ status: 500, description: 'Internal server error' })\n  async getConfigurations",
      "tokens": 0,
      "firstFile": {
        "name": "src/configuration/configuration.controller.ts",
        "start": 95,
        "end": 117,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 652
        },
        "endLoc": {
          "line": 117,
          "column": 18,
          "position": 829
        }
      },
      "secondFile": {
        "name": "src/security/security.controller.ts",
        "start": 324,
        "end": 116,
        "startLoc": {
          "line": 324,
          "column": 2,
          "position": 2771
        },
        "endLoc": {
          "line": 116,
          "column": 13,
          "position": 971
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "?.version || 0) + 1,\n      description: schema?.description,\n      validationRules: schema?.validationRules\n    };\n\n    // Encrypt sensitive values\n    if (configValue.sensitive) {\n      configValue.value = this.encryptValue(value);\n      configValue.encrypted = true;\n    }\n\n    environment.configurations.set(key, configValue);\n\n    // Record change",
      "tokens": 0,
      "firstFile": {
        "name": "src/config/production-configuration-management.service.ts",
        "start": 404,
        "end": 417,
        "startLoc": {
          "line": 404,
          "column": 10,
          "position": 3346
        },
        "endLoc": {
          "line": 417,
          "column": 17,
          "position": 3443
        }
      },
      "secondFile": {
        "name": "src/config/production-configuration-management.service.ts",
        "start": 347,
        "end": 359,
        "startLoc": {
          "line": 347,
          "column": 15,
          "position": 2819
        },
        "endLoc": {
          "line": 359,
          "column": 2,
          "position": 2915
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ";\n\n// Services\nimport { AuditService } from './services/audit.service';\nimport { ConsentService } from './services/consent.service';\nimport { ComplianceReportService } from './services/compliance-report.service';\nimport { ChecklistService } from './services/checklist.service';\nimport { PolicyService } from './services/policy.service';\nimport { DataRetentionService } from './services/data-retention.service';\nimport { ViolationService } from './services/violation.service';\nimport { StatisticsService } from './services/statistics.service';\n\n// DTOs",
      "tokens": 0,
      "firstFile": {
        "name": "src/compliance/compliance.controller.ts",
        "start": 26,
        "end": 38,
        "startLoc": {
          "line": 26,
          "column": 32,
          "position": 135
        },
        "endLoc": {
          "line": 38,
          "column": 8,
          "position": 245
        }
      },
      "secondFile": {
        "name": "src/compliance/compliance.module.ts",
        "start": 11,
        "end": 23,
        "startLoc": {
          "line": 11,
          "column": 30,
          "position": 66
        },
        "endLoc": {
          "line": 23,
          "column": 25,
          "position": 176
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n    @Req() req: Request,\n  ) {\n    // Extract user information from JWT token\n    const userId = (req as any).user?.id || 'system';\n    const userRole = (req as any).user?.role || UserRole.ADMIN;\n\n    // Create execution context with request metadata for HIPAA compliance\n    const context = createExecutionContext(userId, userRole, {\n      ip: req.ip,\n      headers: { 'user-agent': req.headers['user-agent'] },\n    });\n\n    return this.reportService.updateReport",
      "tokens": 0,
      "firstFile": {
        "name": "src/compliance/compliance.controller.ts",
        "start": 177,
        "end": 190,
        "startLoc": {
          "line": 177,
          "column": 26,
          "position": 1719
        },
        "endLoc": {
          "line": 190,
          "column": 13,
          "position": 1855
        }
      },
      "secondFile": {
        "name": "src/compliance/compliance.controller.ts",
        "start": 154,
        "end": 167,
        "startLoc": {
          "line": 154,
          "column": 26,
          "position": 1460
        },
        "endLoc": {
          "line": 167,
          "column": 13,
          "position": 1596
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n    @Req() req: Request,\n  ) {\n    // Extract user information from JWT token\n    const userId = (req as any).user?.id || 'system';\n    const userRole = (req as any).user?.role || UserRole.ADMIN;\n\n    // Create execution context with request metadata for HIPAA compliance\n    const context = createExecutionContext(userId, userRole, {\n      ip: req.ip,\n      headers: { 'user-agent': req.headers['user-agent'] },\n    });\n\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "src/compliance/compliance.controller.ts",
        "start": 198,
        "end": 211,
        "startLoc": {
          "line": 198,
          "column": 7,
          "position": 1952
        },
        "endLoc": {
          "line": 211,
          "column": 6,
          "position": 2082
        }
      },
      "secondFile": {
        "name": "src/compliance/compliance.controller.ts",
        "start": 154,
        "end": 167,
        "startLoc": {
          "line": 154,
          "column": 26,
          "position": 1460
        },
        "endLoc": {
          "line": 167,
          "column": 7,
          "position": 1590
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n    @Req() req: Request,\n  ) {\n    // Extract user information from JWT token\n    const userId = (req as any).user?.id || 'system';\n    const userRole = (req as any).user?.role || UserRole.ADMIN;\n\n    // Create execution context with request metadata for HIPAA compliance\n    const context = createExecutionContext(userId, userRole, {\n      ip: req.ip,\n      headers: { 'user-agent': req.headers['user-agent'] },\n    });\n\n    return this.reportService.generateReport",
      "tokens": 0,
      "firstFile": {
        "name": "src/compliance/compliance.controller.ts",
        "start": 220,
        "end": 233,
        "startLoc": {
          "line": 220,
          "column": 28,
          "position": 2185
        },
        "endLoc": {
          "line": 233,
          "column": 15,
          "position": 2321
        }
      },
      "secondFile": {
        "name": "src/compliance/compliance.controller.ts",
        "start": 154,
        "end": 167,
        "startLoc": {
          "line": 154,
          "column": 26,
          "position": 1460
        },
        "endLoc": {
          "line": 167,
          "column": 13,
          "position": 1596
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "{\n        ...dto,\n        diagnosedDate: new Date(dto.diagnosedDate),\n        lastReviewDate: dto.lastReviewDate\n          ? new Date(dto.lastReviewDate)\n          : null,\n        nextReviewDate: dto.nextReviewDate\n          ? new Date(dto.nextReviewDate)\n          : null,\n        medications: dto.medications || [],\n        restrictions: dto.restrictions || [],\n        triggers: dto.triggers || [],\n        accommodations: dto.accommodations || [],\n        isActive: true, // Default to active\n      })",
      "tokens": 0,
      "firstFile": {
        "name": "src/chronic-condition/chronic-condition.service.ts",
        "start": 487,
        "end": 501,
        "startLoc": {
          "line": 487,
          "column": 2,
          "position": 3595
        },
        "endLoc": {
          "line": 501,
          "column": 2,
          "position": 3735
        }
      },
      "secondFile": {
        "name": "src/chronic-condition/chronic-condition.service.ts",
        "start": 42,
        "end": 56,
        "startLoc": {
          "line": 42,
          "column": 2,
          "position": 255
        },
        "endLoc": {
          "line": 56,
          "column": 2,
          "position": 395
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const result = await this.budgetTransactionModel.findOne({\n        where: { id: transactionRecord.id },\n        include: [\n          {\n            model: this.budgetCategoryModel,\n            as: 'category',\n          },\n        ],\n        transaction,\n      });\n\n      if (!result) {\n        throw new Error('Failed to reload transaction after update'",
      "tokens": 0,
      "firstFile": {
        "name": "src/budget/budget.service.ts",
        "start": 313,
        "end": 325,
        "startLoc": {
          "line": 313,
          "column": 7,
          "position": 2166
        },
        "endLoc": {
          "line": 325,
          "column": 44,
          "position": 2258
        }
      },
      "secondFile": {
        "name": "src/budget/budget.service.ts",
        "start": 244,
        "end": 256,
        "startLoc": {
          "line": 244,
          "column": 7,
          "position": 1664
        },
        "endLoc": {
          "line": 256,
          "column": 46,
          "position": 1756
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "validatePasswordStrength(password: string): boolean {\n    if (password.length < 8) {\n      return false;\n    }\n\n    const hasUppercase = /[A-Z]/.test(password);\n    const hasLowercase = /[a-z]/.test(password);\n    const hasNumber = /[0-9]/.test(password);\n    const hasSpecialChar = /[@$!%*?&]/.test(password);\n\n    return hasUppercase && hasLowercase && hasNumber && hasSpecialChar;\n  }\n\n  /**\n   * Generate access and refresh tokens\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/auth.service.ts",
        "start": 363,
        "end": 378,
        "startLoc": {
          "line": 363,
          "column": 3,
          "position": 2473
        },
        "endLoc": {
          "line": 378,
          "column": 6,
          "position": 2595
        }
      },
      "secondFile": {
        "name": "src/auth/services/password-reset.service.ts",
        "start": 208,
        "end": 220,
        "startLoc": {
          "line": 208,
          "column": 2,
          "position": 1373
        },
        "endLoc": {
          "line": 220,
          "column": 2,
          "position": 1493
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": ";\n  }\n\n  /**\n   * Generate access and refresh tokens\n   */\n  private async generateTokens(\n    user: User,\n  ): Promise<{ accessToken: string; refreshToken: string }> {\n    const jwtSecret = this.configService.get<string>('JWT_SECRET');\n    const refreshSecret =\n      this.configService.get<string>('JWT_REFRESH_SECRET') || jwtSecret;\n\n    if (!jwtSecret) {\n      throw new Error('JWT_SECRET not configured');\n    }\n\n    const payload: JwtPayload = {\n      sub: user.id,\n      email: user.email,\n      role: user.role,\n      type: 'access',\n    };\n\n    const accessToken = this.jwtService.sign(payload, {\n      secret: jwtSecret,\n      expiresIn: this.accessTokenExpiry,\n      issuer",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/auth.service.ts",
        "start": 373,
        "end": 400,
        "startLoc": {
          "line": 373,
          "column": 15,
          "position": 2588
        },
        "endLoc": {
          "line": 400,
          "column": 7,
          "position": 2793
        }
      },
      "secondFile": {
        "name": "src/auth/services/oauth.service.ts",
        "start": 160,
        "end": 187,
        "startLoc": {
          "line": 160,
          "column": 5,
          "position": 1169
        },
        "endLoc": {
          "line": 187,
          "column": 2,
          "position": 1374
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n    });\n\n    const refreshPayload: JwtPayload = {\n      sub: user.id,\n      email: user.email,\n      role: user.role,\n      type: 'refresh',\n    };\n\n    const refreshToken = this.jwtService.sign(refreshPayload, {\n      secret: refreshSecret,\n      expiresIn: this.refreshTokenExpiry,\n      issuer",
      "tokens": 0,
      "firstFile": {
        "name": "src/auth/auth.service.ts",
        "start": 401,
        "end": 414,
        "startLoc": {
          "line": 401,
          "column": 18,
          "position": 2804
        },
        "endLoc": {
          "line": 414,
          "column": 7,
          "position": 2898
        }
      },
      "secondFile": {
        "name": "src/auth/services/oauth.service.ts",
        "start": 186,
        "end": 199,
        "startLoc": {
          "line": 186,
          "column": 18,
          "position": 1371
        },
        "endLoc": {
          "line": 199,
          "column": 2,
          "position": 1465
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ";\nimport { AuditLogService } from './services/audit-log.service';\nimport { AuditQueryService } from './services/audit-query.service';\nimport { AuditStatisticsService } from './services/audit-statistics.service';\nimport { AuditUtilsService } from './services/audit-utils.service';\nimport { ComplianceReportingService } from './services/compliance-reporting.service';\nimport { PHIAccessService } from './services/phi-access.service';\nimport { SecurityAnalysisService } from './services/security-analysis.service';\n\n/**\n * Audit Module\n *\n * Provides HIPAA-compliant audit logging services that can be shared across modules\n * without creating circular dependencies.\n *\n * This module exports:\n * - AuditService: Main audit service facade\n * - PHIAccessLogger: Service for logging PHI access events\n * - HealthRecordAuditInterceptor: Interceptor for automatic audit logging\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/audit/audit.module.ts",
        "start": 8,
        "end": 27,
        "startLoc": {
          "line": 8,
          "column": 21,
          "position": 102
        },
        "endLoc": {
          "line": 27,
          "column": 4,
          "position": 196
        }
      },
      "secondFile": {
        "name": "src/audit/audit.service.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 17,
          "position": 11
        },
        "endLoc": {
          "line": 9,
          "column": 7,
          "position": 104
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "private calculateOverallCompliance(data: {\n    medicationAdherence: number;\n    immunizationCompliance: number;\n    appointmentCompletion: number;\n    incidentReporting: number;\n  }): number {\n    const weights = {\n      medication: 0.3,\n      immunization: 0.3,\n      appointments: 0.2,\n      incidents: 0.2,\n    };\n\n    return (\n      data.medicationAdherence * weights.medication +\n      data.immunizationCompliance * weights.immunization +\n      data.appointmentCompletion * weights.appointments +\n      data.incidentReporting * weights.incidents\n    );\n  }\n\n  private",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/specialized-report-generator.service.ts",
        "start": 278,
        "end": 299,
        "startLoc": {
          "line": 278,
          "column": 3,
          "position": 2152
        },
        "endLoc": {
          "line": 299,
          "column": 8,
          "position": 2304
        }
      },
      "secondFile": {
        "name": "src/analytics/services/report-data-collector.service.ts",
        "start": 295,
        "end": 318,
        "startLoc": {
          "line": 295,
          "column": 3,
          "position": 1928
        },
        "endLoc": {
          "line": 318,
          "column": 6,
          "position": 2080
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "}\n\n  private generateReportId(): string {\n    return `report_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  private generateReportMetadata(\n    reportId: string,\n    schoolId: string,\n    reportType: AnalyticsReportType,\n    period: AnalyticsTimePeriod,\n    options",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/basic-report-generator.service.ts",
        "start": 279,
        "end": 290,
        "startLoc": {
          "line": 279,
          "column": 3,
          "position": 2467
        },
        "endLoc": {
          "line": 290,
          "column": 8,
          "position": 2556
        }
      },
      "secondFile": {
        "name": "src/analytics/specialized-report-generator.service.ts",
        "start": 356,
        "end": 367,
        "startLoc": {
          "line": 356,
          "column": 3,
          "position": 2779
        },
        "endLoc": {
          "line": 367,
          "column": 2,
          "position": 2868
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "import { Injectable, Logger, Inject } from '@nestjs/common';\nimport { EventEmitter2 } from '@nestjs/event-emitter';\nimport { Cache } from 'cache-manager';\nimport { CACHE_MANAGER } from '@nestjs/cache-manager';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport {\n  AnalyticsReportType,\n  AnalyticsTimePeriod,\n  ReportGenerationOptions,\n  ReportData,\n  AnalyticsOperationResult,\n  ReportMetadata,\n} from './analytics-interfaces';\nimport { ReportDataCollectorService",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 7,
        "end": 21,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 21,
          "column": 27,
          "position": 126
        }
      },
      "secondFile": {
        "name": "src/analytics/basic-report-generator.service.ts",
        "start": 7,
        "end": 24,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 24,
          "column": 20,
          "position": 129
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ".formatReport(reportContent, options.format || 'JSON');\n\n      const report: ReportData = {\n        id: reportId,\n        schoolId,\n        type: reportType,\n        period,\n        data: reportData,\n        content: reportContent,\n        formattedContent: formattedReport,\n        metadata: this.generateReportMetadata(reportId, schoolId, reportType, period, options),\n        generatedAt: new Date(),\n      };\n\n      // Cache the report\n      await this.cacheManager.set(cacheKey, report, 3600000",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 72,
        "end": 87,
        "startLoc": {
          "line": 72,
          "column": 10,
          "position": 578
        },
        "endLoc": {
          "line": 87,
          "column": 8,
          "position": 708
        }
      },
      "secondFile": {
        "name": "src/analytics/basic-report-generator.service.ts",
        "start": 70,
        "end": 88,
        "startLoc": {
          "line": 70,
          "column": 5,
          "position": 509
        },
        "endLoc": {
          "line": 88,
          "column": 20,
          "position": 643
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n  ): Promise<AnalyticsOperationResult<ReportData>> {\n    try {\n      const reportId = this.generateReportId();\n\n      const reportContent = {\n        title: `Dashboard Summary - ${schoolId}`,\n        generatedFor: userType,\n        timeRange,\n        summary: {\n          totalAlerts: dashboardData.alerts?.length || 0,\n          criticalAlerts: dashboardData.alerts?.filter((a: any",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 119,
        "end": 130,
        "startLoc": {
          "line": 119,
          "column": 4,
          "position": 921
        },
        "endLoc": {
          "line": 130,
          "column": 4,
          "position": 1024
        }
      },
      "secondFile": {
        "name": "src/analytics/specialized-report-generator.service.ts",
        "start": 176,
        "end": 187,
        "startLoc": {
          "line": 176,
          "column": 2,
          "position": 1211
        },
        "endLoc": {
          "line": 187,
          "column": 2,
          "position": 1314
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ") => a.severity === 'CRITICAL').length || 0,\n          upcomingAppointments: dashboardData.upcomingAppointments || 0,\n          pendingTasks: dashboardData.pendingTasks || 0,\n        },\n        keyMetrics: dashboardData.keyMetrics || [],\n        alerts: dashboardData.alerts || [],\n        recommendations: dashboardData.recommendations || [],\n        generatedAt: new Date(),\n      };\n\n      const formattedReport = await",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 130,
        "end": 140,
        "startLoc": {
          "line": 130,
          "column": 4,
          "position": 1025
        },
        "endLoc": {
          "line": 140,
          "column": 6,
          "position": 1140
        }
      },
      "secondFile": {
        "name": "src/analytics/specialized-report-generator.service.ts",
        "start": 187,
        "end": 197,
        "startLoc": {
          "line": 187,
          "column": 2,
          "position": 1322
        },
        "endLoc": {
          "line": 197,
          "column": 5,
          "position": 1437
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n\n      const reportContent = {\n        title: `Student Health Summary - ${studentId}`,\n        studentId,\n        period: studentMetrics.period,\n        overview: {\n          totalHealthRecords: studentMetrics.healthRecords,\n          medicationAdministrations: studentMetrics.medicationAdministrations,\n          appointments: studentMetrics.appointments,\n          incidents: studentMetrics.incidents,\n        },\n        timeline: {\n          lastHealthRecord: studentMetrics.lastHealthRecord,\n          lastMedication: studentMetrics.lastMedication,\n          upcomingAppointments: studentMetrics.upcomingAppointments,\n        },\n        riskAssessment,",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 180,
        "end": 197,
        "startLoc": {
          "line": 180,
          "column": 15,
          "position": 1432
        },
        "endLoc": {
          "line": 197,
          "column": 2,
          "position": 1554
        }
      },
      "secondFile": {
        "name": "src/analytics/specialized-report-generator.service.ts",
        "start": 45,
        "end": 62,
        "startLoc": {
          "line": 45,
          "column": 2,
          "position": 247
        },
        "endLoc": {
          "line": 62,
          "column": 2,
          "position": 369
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "type: AnalyticsReportType.STUDENT_HEALTH_SUMMARY,\n        period: studentMetrics.period,\n        data: studentMetrics,\n        content: reportContent,\n        formattedContent: formattedReport,\n        metadata: {\n          id: reportId,\n          title: `Student Health Summary - ${studentId}`,\n          type: AnalyticsReportType.STUDENT_HEALTH_SUMMARY,\n          generatedAt: new Date(),\n          period: studentMetrics.period,\n          format: 'JSON',\n          size: JSON",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 207,
        "end": 219,
        "startLoc": {
          "line": 207,
          "column": 9,
          "position": 1636
        },
        "endLoc": {
          "line": 219,
          "column": 5,
          "position": 1738
        }
      },
      "secondFile": {
        "name": "src/analytics/specialized-report-generator.service.ts",
        "start": 72,
        "end": 84,
        "startLoc": {
          "line": 72,
          "column": 9,
          "position": 458
        },
        "endLoc": {
          "line": 84,
          "column": 16,
          "position": 560
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ".length,\n        },\n        generatedAt: new Date(),\n      };\n\n      return { success: true, data: report };\n    } catch (error) {\n      this.logger.error(`Failed to generate student health report for ${studentId}`, error);\n      return {\n        success: false,\n        error: `Failed to generate student report: ${error.message}`,\n      };\n    }\n  }\n\n  /**\n   * Generate a compliance report\n   */\n  async generateComplianceReport(\n    schoolId: string,\n    period: AnalyticsTimePeriod,\n    complianceData: any",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 219,
        "end": 240,
        "startLoc": {
          "line": 219,
          "column": 2,
          "position": 1744
        },
        "endLoc": {
          "line": 240,
          "column": 4,
          "position": 1879
        }
      },
      "secondFile": {
        "name": "src/analytics/specialized-report-generator.service.ts",
        "start": 84,
        "end": 105,
        "startLoc": {
          "line": 84,
          "column": 16,
          "position": 561
        },
        "endLoc": {
          "line": 105,
          "column": 2,
          "position": 696
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ");\n\n      const report: ReportData = {\n        id: reportId,\n        schoolId,\n        type: AnalyticsReportType.COMPLIANCE_REPORT,\n        period,\n        data: complianceData,\n        content: reportContent,\n        formattedContent: formattedReport,\n        metadata: this.generateReportMetadata(\n          reportId,\n          schoolId,\n          AnalyticsReportType.COMPLIANCE_REPORT,\n          period,\n          {",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 262,
        "end": 277,
        "startLoc": {
          "line": 262,
          "column": 7,
          "position": 2060
        },
        "endLoc": {
          "line": 277,
          "column": 2,
          "position": 2149
        }
      },
      "secondFile": {
        "name": "src/analytics/specialized-report-generator.service.ts",
        "start": 134,
        "end": 149,
        "startLoc": {
          "line": 134,
          "column": 2,
          "position": 927
        },
        "endLoc": {
          "line": 149,
          "column": 2,
          "position": 1016
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ",\n        ),\n        generatedAt: new Date(),\n      };\n\n      return { success: true, data: report };\n    } catch (error) {\n      this.logger.error(`Failed to generate compliance report for school ${schoolId}`, error);\n      return {\n        success: false,\n        error: `Failed to generate compliance report: ${error.message}`,\n      };\n    }\n  }\n\n  // Private helper methods",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 277,
        "end": 292,
        "startLoc": {
          "line": 277,
          "column": 2,
          "position": 2157
        },
        "endLoc": {
          "line": 292,
          "column": 26,
          "position": 2264
        }
      },
      "secondFile": {
        "name": "src/analytics/specialized-report-generator.service.ts",
        "start": 148,
        "end": 165,
        "startLoc": {
          "line": 148,
          "column": 7,
          "position": 1013
        },
        "endLoc": {
          "line": 165,
          "column": 6,
          "position": 1120
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "(data),\n        };\n\n      case AnalyticsReportType.MEDICATION_SUMMARY:\n        return {\n          ...baseContent,\n          summary: {\n            totalMedications: data.medications.reduce((sum: number, med: any) => sum + med.count, 0),\n            uniqueMedications: data.medications.length,\n            totalStudents: data.medications.reduce((sum: number, med: any) => sum + med.students, 0),\n          },\n          topMedications: data.medications,\n          insights",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 317,
        "end": 329,
        "startLoc": {
          "line": 317,
          "column": 23,
          "position": 2476
        },
        "endLoc": {
          "line": 329,
          "column": 9,
          "position": 2611
        }
      },
      "secondFile": {
        "name": "src/analytics/basic-report-generator.service.ts",
        "start": 193,
        "end": 204,
        "startLoc": {
          "line": 193,
          "column": 22,
          "position": 1501
        },
        "endLoc": {
          "line": 204,
          "column": 2,
          "position": 1635
        }
      }
    },
    {
      "format": "typescript",
      "lines": 37,
      "fragment": "}\n\n  private async saveReportToFile(report: ReportData, format: string): Promise<void> {\n    const fileName = `${report.id}.${format.toLowerCase()}`;\n    const filePath = path.join(this.reportsDir, fileName);\n\n    try {\n      await fs.promises.writeFile(filePath, report.formattedContent, 'utf8');\n      this.logger.log(`Report saved to ${filePath}`);\n    } catch (error) {\n      this.logger.error(`Failed to save report to file: ${error}`);\n      throw error;\n    }\n  }\n\n  private generateReportId(): string {\n    return `report_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  private generateReportMetadata(\n    reportId: string,\n    schoolId: string,\n    reportType: AnalyticsReportType,\n    period: AnalyticsTimePeriod,\n    options: ReportGenerationOptions,\n  ): ReportMetadata {\n    return {\n      id: reportId,\n      title: `${reportType.replace('_', ' ')} Report - ${schoolId}`,\n      type: reportType,\n      generatedAt: new Date(),\n      period,\n      format: options.format || 'JSON',\n      size: 0, // Would be calculated based on content size\n    };\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-report-generator.service.ts",
        "start": 335,
        "end": 371,
        "startLoc": {
          "line": 335,
          "column": 3,
          "position": 2643
        },
        "endLoc": {
          "line": 371,
          "column": 2,
          "position": 2984
        }
      },
      "secondFile": {
        "name": "src/analytics/basic-report-generator.service.ts",
        "start": 266,
        "end": 303,
        "startLoc": {
          "line": 266,
          "column": 3,
          "position": 2315
        },
        "endLoc": {
          "line": 303,
          "column": 8,
          "position": 2658
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n      ],\n      where: {\n        schoolId,\n        administeredAt: { [Op.between]: [dateRange.start, dateRange.end] },\n      },\n      group: ['medicationName'],\n      order: [[fn('COUNT', col('id')), 'DESC']],\n      limit: ANALYTICS_CONSTANTS.QUERY_LIMITS.TOP_MEDICATIONS,\n      raw: true,\n    });\n\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/analytics/analytics-data-collector.service.ts",
        "start": 495,
        "end": 507,
        "startLoc": {
          "line": 495,
          "column": 2,
          "position": 4160
        },
        "endLoc": {
          "line": 507,
          "column": 7,
          "position": 4264
        }
      },
      "secondFile": {
        "name": "src/analytics/analytics-data-collector.service.ts",
        "start": 225,
        "end": 237,
        "startLoc": {
          "line": 225,
          "column": 17,
          "position": 1690
        },
        "endLoc": {
          "line": 237,
          "column": 6,
          "position": 1794
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": {\n          type: 'object',\n          properties: {\n            page: { type: 'number' },\n            limit: { type: 'number' },\n            total: { type: 'number' },\n            pages: { type: 'number' },\n          },\n        },\n      },\n    },\n  })\n  @ApiResponse({\n    status: 401,\n    description: 'Unauthorized'",
      "tokens": 0,
      "firstFile": {
        "name": "src/allergy/allergy.controller.ts",
        "start": 242,
        "end": 256,
        "startLoc": {
          "line": 242,
          "column": 5,
          "position": 1483
        },
        "endLoc": {
          "line": 256,
          "column": 15,
          "position": 1593
        }
      },
      "secondFile": {
        "name": "src/communication/controllers/communication.controller.ts",
        "start": 99,
        "end": 113,
        "startLoc": {
          "line": 99,
          "column": 11,
          "position": 831
        },
        "endLoc": {
          "line": 113,
          "column": 41,
          "position": 941
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "return {\n        id: transcript.id,\n        studentId: transcript.studentId,\n        academicYear: transcript.academicYear,\n        semester: transcript.semester,\n        grade: transcript.grade,\n        gpa: transcript.gpa,\n        subjects: transcript.subjects,\n        attendance: transcript.attendance,\n        behavior: transcript.behavior,\n        createdAt: transcript.createdAt || new Date(),\n        updatedAt: transcript.updatedAt || new Date(),\n      };\n    } catch",
      "tokens": 0,
      "firstFile": {
        "name": "src/academic-transcript/academic-transcript.service.ts",
        "start": 135,
        "end": 148,
        "startLoc": {
          "line": 135,
          "column": 7,
          "position": 703
        },
        "endLoc": {
          "line": 148,
          "column": 6,
          "position": 829
        }
      },
      "secondFile": {
        "name": "src/academic-transcript/services/transcript-query.service.ts",
        "start": 232,
        "end": 246,
        "startLoc": {
          "line": 232,
          "column": 5,
          "position": 1168
        },
        "endLoc": {
          "line": 246,
          "column": 2,
          "position": 1294
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "= {\n      'A+': 4.0,\n      A: 4.0,\n      'A-': 3.7,\n      'B+': 3.3,\n      B: 3.0,\n      'B-': 2.7,\n      'C+': 2.3,\n      C: 2.0,\n      'C-': 1.7,\n      'D+': 1.3,\n      D: 1.0,\n      'D-': 0.7,\n      F: 0.0,\n    };\n\n    let",
      "tokens": 0,
      "firstFile": {
        "name": "src/academic-transcript/academic-transcript.service.ts",
        "start": 188,
        "end": 204,
        "startLoc": {
          "line": 188,
          "column": 2,
          "position": 938
        },
        "endLoc": {
          "line": 204,
          "column": 4,
          "position": 1039
        }
      },
      "secondFile": {
        "name": "src/academic-transcript/services/gpa-calculator.service.ts",
        "start": 27,
        "end": 69,
        "startLoc": {
          "line": 27,
          "column": 2,
          "position": 120
        },
        "endLoc": {
          "line": 69,
          "column": 6,
          "position": 221
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "async getAcademicHistory(studentId: string): Promise<AcademicRecord[]> {\n    try {\n      // Validate student exists\n      const student = await this.studentRepository.findById(studentId);\n      if (!student) {\n        throw new NotFoundException(`Student with ID ${studentId} not found`);\n      }\n\n      // Query academic transcripts from database\n      const transcriptResults =\n        await this.academicTranscriptRepository.findMany({\n          where: { studentId },\n          orderBy: { academicYear: 'DESC', semester: 'DESC' },\n        });\n      const transcripts = transcriptResults.data;\n\n      this.logger.log(\n        `Fetching academic history for student ${studentId}: ${transcripts.length} records found`,\n      );\n\n      // Convert to AcademicRecord interface\n      return transcripts.map((transcript) => (",
      "tokens": 0,
      "firstFile": {
        "name": "src/academic-transcript/academic-transcript.service.ts",
        "start": 249,
        "end": 270,
        "startLoc": {
          "line": 249,
          "column": 3,
          "position": 1168
        },
        "endLoc": {
          "line": 270,
          "column": 2,
          "position": 1357
        }
      },
      "secondFile": {
        "name": "src/academic-transcript/services/transcript-query.service.ts",
        "start": 60,
        "end": 81,
        "startLoc": {
          "line": 60,
          "column": 3,
          "position": 178
        },
        "endLoc": {
          "line": 81,
          "column": 5,
          "position": 367
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "{\n        id: transcript.id,\n        studentId: transcript.studentId,\n        academicYear: transcript.academicYear,\n        semester: transcript.semester,\n        grade: transcript.grade,\n        gpa: transcript.gpa,\n        subjects: transcript.subjects,\n        attendance: transcript.attendance,\n        behavior: transcript.behavior,\n        createdAt: transcript.createdAt || new Date(),\n        updatedAt: transcript.updatedAt || new Date(),\n      })",
      "tokens": 0,
      "firstFile": {
        "name": "src/academic-transcript/academic-transcript.service.ts",
        "start": 270,
        "end": 282,
        "startLoc": {
          "line": 270,
          "column": 2,
          "position": 1358
        },
        "endLoc": {
          "line": 282,
          "column": 2,
          "position": 1477
        }
      },
      "secondFile": {
        "name": "src/academic-transcript/services/transcript-query.service.ts",
        "start": 232,
        "end": 244,
        "startLoc": {
          "line": 232,
          "column": 2,
          "position": 1170
        },
        "endLoc": {
          "line": 244,
          "column": 2,
          "position": 1289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 32,
      "fragment": "async batchGetAcademicHistories(\n    studentIds: string[],\n  ): Promise<Map<string, AcademicRecord[]>> {\n    try {\n      if (!studentIds || studentIds.length === 0) {\n        return new Map();\n      }\n\n      this.logger.log(\n        `Batch fetching academic histories for ${studentIds.length} students`,\n      );\n\n      // OPTIMIZATION: Single query to fetch all transcripts for all students\n      const transcriptResults =\n        await this.academicTranscriptRepository.findMany({\n          where: {\n            studentId: { in: studentIds }, // Sequelize will translate this to IN clause\n          },\n          orderBy: { academicYear: 'DESC', semester: 'DESC' },\n        });\n      const allTranscripts = transcriptResults.data;\n\n      // Group transcripts by student ID using Map for O(1) lookup\n      const transcriptsByStudent = new Map<string, AcademicRecord[]>();\n\n      // Initialize map with empty arrays for all student IDs\n      studentIds.forEach((id) => transcriptsByStudent.set(id, []));\n\n      // Group transcripts by student\n      allTranscripts.forEach((transcript) => {\n        const studentId = transcript.studentId;\n        const academicRecord:",
      "tokens": 0,
      "firstFile": {
        "name": "src/academic-transcript/academic-transcript.service.ts",
        "start": 316,
        "end": 347,
        "startLoc": {
          "line": 316,
          "column": 3,
          "position": 1537
        },
        "endLoc": {
          "line": 347,
          "column": 2,
          "position": 1802
        }
      },
      "secondFile": {
        "name": "src/academic-transcript/services/transcript-query.service.ts",
        "start": 115,
        "end": 146,
        "startLoc": {
          "line": 115,
          "column": 3,
          "position": 432
        },
        "endLoc": {
          "line": 146,
          "column": 2,
          "position": 698
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "{\n          id: transcript.id,\n          studentId: transcript.studentId,\n          academicYear: transcript.academicYear,\n          semester: transcript.semester,\n          grade: transcript.grade,\n          gpa: transcript.gpa,\n          subjects: transcript.subjects,\n          attendance: transcript.attendance,\n          behavior: transcript.behavior,\n          createdAt: transcript.createdAt || new Date(),\n          updatedAt: transcript.updatedAt || new Date(),\n        };\n\n        const",
      "tokens": 0,
      "firstFile": {
        "name": "src/academic-transcript/academic-transcript.service.ts",
        "start": 347,
        "end": 361,
        "startLoc": {
          "line": 347,
          "column": 2,
          "position": 1808
        },
        "endLoc": {
          "line": 361,
          "column": 6,
          "position": 1931
        }
      },
      "secondFile": {
        "name": "src/academic-transcript/services/transcript-query.service.ts",
        "start": 232,
        "end": 245,
        "startLoc": {
          "line": 232,
          "column": 2,
          "position": 1170
        },
        "endLoc": {
          "line": 245,
          "column": 2,
          "position": 1292
        }
      }
    },
    {
      "format": "typescript",
      "lines": 64,
      "fragment": ";\n\n        const studentTranscripts = transcriptsByStudent.get(studentId);\n        if (studentTranscripts) {\n          studentTranscripts.push(academicRecord);\n        }\n      });\n\n      this.logger.log(\n        `Batch fetched ${allTranscripts.length} transcripts for ${studentIds.length} students`,\n      );\n\n      return transcriptsByStudent;\n    } catch (error) {\n      this.logger.error(\n        `Error batch fetching academic histories: ${error.message}`,\n        error.stack,\n      );\n      throw error;\n    }\n  }\n\n  /**\n   * Generate academic transcript report\n   *\n   * Generates a formatted academic transcript report in the specified format (PDF, HTML, or JSON).\n   * Includes student information, summary statistics, and complete academic history.\n   *\n   * @param {string} studentId - UUID of the student for whom to generate the report\n   * @param {'pdf' | 'html' | 'json'} [format='json'] - Output format for the report\n   *\n   * @returns {Promise<any>} Generated report with student data, academic records, and format-specific output\n   *\n   * @throws {NotFoundException} When student with given ID does not exist\n   * @throws {InternalServerErrorException} When report generation or database query fails\n   *\n   * @example\n   * ```typescript\n   * // Generate JSON report\n   * const jsonReport = await transcriptService.generateTranscriptReport(\n   *   '550e8400-e29b-41d4-a716-446655440000',\n   *   'json'\n   * );\n   *\n   * // Generate PDF report\n   * const pdfReport = await transcriptService.generateTranscriptReport(\n   *   '550e8400-e29b-41d4-a716-446655440000',\n   *   'pdf'\n   * );\n   * // Returns: { ...report, pdfData: '...', downloadUrl: '/api/reports/transcripts/...' }\n   * ```\n   *\n   * @remarks\n   * - **JSON format**: Structured data, default format, includes all details\n   * - **PDF format**: Printable document with school branding (requires PDF library integration)\n   * - **HTML format**: Web-viewable document with customizable styling\n   * - Includes summary: total records, cumulative GPA, total credits\n   * - Calculates cumulative GPA across all academic periods\n   * - All report generation is logged for compliance\n   * - PDF generation requires integration with pdfkit or puppeteer\n   *\n   * @see {@link getAcademicHistory} for retrieving raw transcript data\n   * @see {@link generateHtmlTranscript} for HTML template generation\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/academic-transcript/academic-transcript.service.ts",
        "start": 359,
        "end": 422,
        "startLoc": {
          "line": 359,
          "column": 2,
          "position": 1927
        },
        "endLoc": {
          "line": 422,
          "column": 6,
          "position": 2060
        }
      },
      "secondFile": {
        "name": "src/academic-transcript/services/transcript-query.service.ts",
        "start": 146,
        "end": 173,
        "startLoc": {
          "line": 146,
          "column": 2,
          "position": 706
        },
        "endLoc": {
          "line": 173,
          "column": 6,
          "position": 839
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ");\n\n  try {\n    // Create NestJS application\n    const app = await NestFactory.create(AppModule, { logger: false });\n\n    // Find admin user\n    const adminUser = await User.findOne({\n      where: { email: 'admin@whitecross.health' },\n    });\n\n    if (!adminUser) {\n      console.log(' Admin user not found');\n      await app.close();\n      process.exit(1);\n    }\n\n    console.log(` Found user: ${adminUser.email}`);\n    console.log(` Failed login attempts: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/reset-failed-attempts.ts",
        "start": 11,
        "end": 29,
        "startLoc": {
          "line": 11,
          "column": 42,
          "position": 59
        },
        "endLoc": {
          "line": 29,
          "column": 27,
          "position": 199
        }
      },
      "secondFile": {
        "name": "src/test-password.ts",
        "start": 12,
        "end": 30,
        "startLoc": {
          "line": 12,
          "column": 42,
          "position": 72
        },
        "endLoc": {
          "line": 30,
          "column": 14,
          "position": 212
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ");\n\n  try {\n    // Create NestJS application\n    const app = await NestFactory.create(AppModule, { logger: false });\n\n    // Find admin user\n    const adminUser = await User.findOne({\n      where: { email: 'admin@whitecross.health' },\n    });\n\n    if (!adminUser) {\n      console.log(' Admin user not found');\n      await app.close();\n      process.exit(1);\n    }\n\n    console.log(` Found user: ${adminUser.email}`);\n    console.log(` User ID: ${adminUser.id}\\n`",
      "tokens": 0,
      "firstFile": {
        "name": "src/reset-admin-password.ts",
        "start": 11,
        "end": 29,
        "startLoc": {
          "line": 11,
          "column": 35,
          "position": 59
        },
        "endLoc": {
          "line": 29,
          "column": 4,
          "position": 205
        }
      },
      "secondFile": {
        "name": "src/test-password.ts",
        "start": 12,
        "end": 30,
        "startLoc": {
          "line": 12,
          "column": 42,
          "position": 72
        },
        "endLoc": {
          "line": 30,
          "column": 2,
          "position": 218
        }
      }
    }
  ]
}